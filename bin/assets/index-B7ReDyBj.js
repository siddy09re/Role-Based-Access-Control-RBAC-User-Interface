(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const a of document.querySelectorAll('link[rel="modulepreload"]'))s(a);new MutationObserver(a=>{for(const u of a)if(u.type==="childList")for(const h of u.addedNodes)h.tagName==="LINK"&&h.rel==="modulepreload"&&s(h)}).observe(document,{childList:!0,subtree:!0});function n(a){const u={};return a.integrity&&(u.integrity=a.integrity),a.referrerPolicy&&(u.referrerPolicy=a.referrerPolicy),a.crossOrigin==="use-credentials"?u.credentials="include":a.crossOrigin==="anonymous"?u.credentials="omit":u.credentials="same-origin",u}function s(a){if(a.ep)return;a.ep=!0;const u=n(a);fetch(a.href,u)}})();var lh={exports:{}},Yo={},uh={exports:{}},Ae={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Bp;function Xv(){if(Bp)return Ae;Bp=1;var i=Symbol.for("react.element"),e=Symbol.for("react.portal"),n=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),u=Symbol.for("react.provider"),h=Symbol.for("react.context"),m=Symbol.for("react.forward_ref"),g=Symbol.for("react.suspense"),v=Symbol.for("react.memo"),w=Symbol.for("react.lazy"),R=Symbol.iterator;function I(L){return L===null||typeof L!="object"?null:(L=R&&L[R]||L["@@iterator"],typeof L=="function"?L:null)}var D={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},F=Object.assign,$={};function z(L,W,fe){this.props=L,this.context=W,this.refs=$,this.updater=fe||D}z.prototype.isReactComponent={},z.prototype.setState=function(L,W){if(typeof L!="object"&&typeof L!="function"&&L!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,L,W,"setState")},z.prototype.forceUpdate=function(L){this.updater.enqueueForceUpdate(this,L,"forceUpdate")};function Q(){}Q.prototype=z.prototype;function Y(L,W,fe){this.props=L,this.context=W,this.refs=$,this.updater=fe||D}var ie=Y.prototype=new Q;ie.constructor=Y,F(ie,z.prototype),ie.isPureReactComponent=!0;var ee=Array.isArray,ve=Object.prototype.hasOwnProperty,_e={current:null},k={key:!0,ref:!0,__self:!0,__source:!0};function T(L,W,fe){var Ie,Re={},xe=null,Me=null;if(W!=null)for(Ie in W.ref!==void 0&&(Me=W.ref),W.key!==void 0&&(xe=""+W.key),W)ve.call(W,Ie)&&!k.hasOwnProperty(Ie)&&(Re[Ie]=W[Ie]);var Fe=arguments.length-2;if(Fe===1)Re.children=fe;else if(1<Fe){for(var Be=Array(Fe),gt=0;gt<Fe;gt++)Be[gt]=arguments[gt+2];Re.children=Be}if(L&&L.defaultProps)for(Ie in Fe=L.defaultProps,Fe)Re[Ie]===void 0&&(Re[Ie]=Fe[Ie]);return{$$typeof:i,type:L,key:xe,ref:Me,props:Re,_owner:_e.current}}function A(L,W){return{$$typeof:i,type:L.type,key:W,ref:L.ref,props:L.props,_owner:L._owner}}function x(L){return typeof L=="object"&&L!==null&&L.$$typeof===i}function N(L){var W={"=":"=0",":":"=2"};return"$"+L.replace(/[=:]/g,function(fe){return W[fe]})}var O=/\/+/g;function C(L,W){return typeof L=="object"&&L!==null&&L.key!=null?N(""+L.key):W.toString(36)}function tt(L,W,fe,Ie,Re){var xe=typeof L;(xe==="undefined"||xe==="boolean")&&(L=null);var Me=!1;if(L===null)Me=!0;else switch(xe){case"string":case"number":Me=!0;break;case"object":switch(L.$$typeof){case i:case e:Me=!0}}if(Me)return Me=L,Re=Re(Me),L=Ie===""?"."+C(Me,0):Ie,ee(Re)?(fe="",L!=null&&(fe=L.replace(O,"$&/")+"/"),tt(Re,W,fe,"",function(gt){return gt})):Re!=null&&(x(Re)&&(Re=A(Re,fe+(!Re.key||Me&&Me.key===Re.key?"":(""+Re.key).replace(O,"$&/")+"/")+L)),W.push(Re)),1;if(Me=0,Ie=Ie===""?".":Ie+":",ee(L))for(var Fe=0;Fe<L.length;Fe++){xe=L[Fe];var Be=Ie+C(xe,Fe);Me+=tt(xe,W,fe,Be,Re)}else if(Be=I(L),typeof Be=="function")for(L=Be.call(L),Fe=0;!(xe=L.next()).done;)xe=xe.value,Be=Ie+C(xe,Fe++),Me+=tt(xe,W,fe,Be,Re);else if(xe==="object")throw W=String(L),Error("Objects are not valid as a React child (found: "+(W==="[object Object]"?"object with keys {"+Object.keys(L).join(", ")+"}":W)+"). If you meant to render a collection of children, use an array instead.");return Me}function kt(L,W,fe){if(L==null)return L;var Ie=[],Re=0;return tt(L,Ie,"","",function(xe){return W.call(fe,xe,Re++)}),Ie}function xt(L){if(L._status===-1){var W=L._result;W=W(),W.then(function(fe){(L._status===0||L._status===-1)&&(L._status=1,L._result=fe)},function(fe){(L._status===0||L._status===-1)&&(L._status=2,L._result=fe)}),L._status===-1&&(L._status=0,L._result=W)}if(L._status===1)return L._result.default;throw L._result}var ze={current:null},re={transition:null},pe={ReactCurrentDispatcher:ze,ReactCurrentBatchConfig:re,ReactCurrentOwner:_e};function oe(){throw Error("act(...) is not supported in production builds of React.")}return Ae.Children={map:kt,forEach:function(L,W,fe){kt(L,function(){W.apply(this,arguments)},fe)},count:function(L){var W=0;return kt(L,function(){W++}),W},toArray:function(L){return kt(L,function(W){return W})||[]},only:function(L){if(!x(L))throw Error("React.Children.only expected to receive a single React element child.");return L}},Ae.Component=z,Ae.Fragment=n,Ae.Profiler=a,Ae.PureComponent=Y,Ae.StrictMode=s,Ae.Suspense=g,Ae.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=pe,Ae.act=oe,Ae.cloneElement=function(L,W,fe){if(L==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+L+".");var Ie=F({},L.props),Re=L.key,xe=L.ref,Me=L._owner;if(W!=null){if(W.ref!==void 0&&(xe=W.ref,Me=_e.current),W.key!==void 0&&(Re=""+W.key),L.type&&L.type.defaultProps)var Fe=L.type.defaultProps;for(Be in W)ve.call(W,Be)&&!k.hasOwnProperty(Be)&&(Ie[Be]=W[Be]===void 0&&Fe!==void 0?Fe[Be]:W[Be])}var Be=arguments.length-2;if(Be===1)Ie.children=fe;else if(1<Be){Fe=Array(Be);for(var gt=0;gt<Be;gt++)Fe[gt]=arguments[gt+2];Ie.children=Fe}return{$$typeof:i,type:L.type,key:Re,ref:xe,props:Ie,_owner:Me}},Ae.createContext=function(L){return L={$$typeof:h,_currentValue:L,_currentValue2:L,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},L.Provider={$$typeof:u,_context:L},L.Consumer=L},Ae.createElement=T,Ae.createFactory=function(L){var W=T.bind(null,L);return W.type=L,W},Ae.createRef=function(){return{current:null}},Ae.forwardRef=function(L){return{$$typeof:m,render:L}},Ae.isValidElement=x,Ae.lazy=function(L){return{$$typeof:w,_payload:{_status:-1,_result:L},_init:xt}},Ae.memo=function(L,W){return{$$typeof:v,type:L,compare:W===void 0?null:W}},Ae.startTransition=function(L){var W=re.transition;re.transition={};try{L()}finally{re.transition=W}},Ae.unstable_act=oe,Ae.useCallback=function(L,W){return ze.current.useCallback(L,W)},Ae.useContext=function(L){return ze.current.useContext(L)},Ae.useDebugValue=function(){},Ae.useDeferredValue=function(L){return ze.current.useDeferredValue(L)},Ae.useEffect=function(L,W){return ze.current.useEffect(L,W)},Ae.useId=function(){return ze.current.useId()},Ae.useImperativeHandle=function(L,W,fe){return ze.current.useImperativeHandle(L,W,fe)},Ae.useInsertionEffect=function(L,W){return ze.current.useInsertionEffect(L,W)},Ae.useLayoutEffect=function(L,W){return ze.current.useLayoutEffect(L,W)},Ae.useMemo=function(L,W){return ze.current.useMemo(L,W)},Ae.useReducer=function(L,W,fe){return ze.current.useReducer(L,W,fe)},Ae.useRef=function(L){return ze.current.useRef(L)},Ae.useState=function(L){return ze.current.useState(L)},Ae.useSyncExternalStore=function(L,W,fe){return ze.current.useSyncExternalStore(L,W,fe)},Ae.useTransition=function(){return ze.current.useTransition()},Ae.version="18.3.1",Ae}var $p;function Kh(){return $p||($p=1,uh.exports=Xv()),uh.exports}/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var qp;function Yv(){if(qp)return Yo;qp=1;var i=Kh(),e=Symbol.for("react.element"),n=Symbol.for("react.fragment"),s=Object.prototype.hasOwnProperty,a=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,u={key:!0,ref:!0,__self:!0,__source:!0};function h(m,g,v){var w,R={},I=null,D=null;v!==void 0&&(I=""+v),g.key!==void 0&&(I=""+g.key),g.ref!==void 0&&(D=g.ref);for(w in g)s.call(g,w)&&!u.hasOwnProperty(w)&&(R[w]=g[w]);if(m&&m.defaultProps)for(w in g=m.defaultProps,g)R[w]===void 0&&(R[w]=g[w]);return{$$typeof:e,type:m,key:I,ref:D,props:R,_owner:a.current}}return Yo.Fragment=n,Yo.jsx=h,Yo.jsxs=h,Yo}var Hp;function Jv(){return Hp||(Hp=1,lh.exports=Yv()),lh.exports}var ne=Jv(),q=Kh(),Ul={},ch={exports:{}},Gt={},hh={exports:{}},dh={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wp;function Zv(){return Wp||(Wp=1,function(i){function e(re,pe){var oe=re.length;re.push(pe);e:for(;0<oe;){var L=oe-1>>>1,W=re[L];if(0<a(W,pe))re[L]=pe,re[oe]=W,oe=L;else break e}}function n(re){return re.length===0?null:re[0]}function s(re){if(re.length===0)return null;var pe=re[0],oe=re.pop();if(oe!==pe){re[0]=oe;e:for(var L=0,W=re.length,fe=W>>>1;L<fe;){var Ie=2*(L+1)-1,Re=re[Ie],xe=Ie+1,Me=re[xe];if(0>a(Re,oe))xe<W&&0>a(Me,Re)?(re[L]=Me,re[xe]=oe,L=xe):(re[L]=Re,re[Ie]=oe,L=Ie);else if(xe<W&&0>a(Me,oe))re[L]=Me,re[xe]=oe,L=xe;else break e}}return pe}function a(re,pe){var oe=re.sortIndex-pe.sortIndex;return oe!==0?oe:re.id-pe.id}if(typeof performance=="object"&&typeof performance.now=="function"){var u=performance;i.unstable_now=function(){return u.now()}}else{var h=Date,m=h.now();i.unstable_now=function(){return h.now()-m}}var g=[],v=[],w=1,R=null,I=3,D=!1,F=!1,$=!1,z=typeof setTimeout=="function"?setTimeout:null,Q=typeof clearTimeout=="function"?clearTimeout:null,Y=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function ie(re){for(var pe=n(v);pe!==null;){if(pe.callback===null)s(v);else if(pe.startTime<=re)s(v),pe.sortIndex=pe.expirationTime,e(g,pe);else break;pe=n(v)}}function ee(re){if($=!1,ie(re),!F)if(n(g)!==null)F=!0,xt(ve);else{var pe=n(v);pe!==null&&ze(ee,pe.startTime-re)}}function ve(re,pe){F=!1,$&&($=!1,Q(T),T=-1),D=!0;var oe=I;try{for(ie(pe),R=n(g);R!==null&&(!(R.expirationTime>pe)||re&&!N());){var L=R.callback;if(typeof L=="function"){R.callback=null,I=R.priorityLevel;var W=L(R.expirationTime<=pe);pe=i.unstable_now(),typeof W=="function"?R.callback=W:R===n(g)&&s(g),ie(pe)}else s(g);R=n(g)}if(R!==null)var fe=!0;else{var Ie=n(v);Ie!==null&&ze(ee,Ie.startTime-pe),fe=!1}return fe}finally{R=null,I=oe,D=!1}}var _e=!1,k=null,T=-1,A=5,x=-1;function N(){return!(i.unstable_now()-x<A)}function O(){if(k!==null){var re=i.unstable_now();x=re;var pe=!0;try{pe=k(!0,re)}finally{pe?C():(_e=!1,k=null)}}else _e=!1}var C;if(typeof Y=="function")C=function(){Y(O)};else if(typeof MessageChannel<"u"){var tt=new MessageChannel,kt=tt.port2;tt.port1.onmessage=O,C=function(){kt.postMessage(null)}}else C=function(){z(O,0)};function xt(re){k=re,_e||(_e=!0,C())}function ze(re,pe){T=z(function(){re(i.unstable_now())},pe)}i.unstable_IdlePriority=5,i.unstable_ImmediatePriority=1,i.unstable_LowPriority=4,i.unstable_NormalPriority=3,i.unstable_Profiling=null,i.unstable_UserBlockingPriority=2,i.unstable_cancelCallback=function(re){re.callback=null},i.unstable_continueExecution=function(){F||D||(F=!0,xt(ve))},i.unstable_forceFrameRate=function(re){0>re||125<re?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):A=0<re?Math.floor(1e3/re):5},i.unstable_getCurrentPriorityLevel=function(){return I},i.unstable_getFirstCallbackNode=function(){return n(g)},i.unstable_next=function(re){switch(I){case 1:case 2:case 3:var pe=3;break;default:pe=I}var oe=I;I=pe;try{return re()}finally{I=oe}},i.unstable_pauseExecution=function(){},i.unstable_requestPaint=function(){},i.unstable_runWithPriority=function(re,pe){switch(re){case 1:case 2:case 3:case 4:case 5:break;default:re=3}var oe=I;I=re;try{return pe()}finally{I=oe}},i.unstable_scheduleCallback=function(re,pe,oe){var L=i.unstable_now();switch(typeof oe=="object"&&oe!==null?(oe=oe.delay,oe=typeof oe=="number"&&0<oe?L+oe:L):oe=L,re){case 1:var W=-1;break;case 2:W=250;break;case 5:W=1073741823;break;case 4:W=1e4;break;default:W=5e3}return W=oe+W,re={id:w++,callback:pe,priorityLevel:re,startTime:oe,expirationTime:W,sortIndex:-1},oe>L?(re.sortIndex=oe,e(v,re),n(g)===null&&re===n(v)&&($?(Q(T),T=-1):$=!0,ze(ee,oe-L))):(re.sortIndex=W,e(g,re),F||D||(F=!0,xt(ve))),re},i.unstable_shouldYield=N,i.unstable_wrapCallback=function(re){var pe=I;return function(){var oe=I;I=pe;try{return re.apply(this,arguments)}finally{I=oe}}}}(dh)),dh}var Qp;function e_(){return Qp||(Qp=1,hh.exports=Zv()),hh.exports}/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Kp;function t_(){if(Kp)return Gt;Kp=1;var i=Kh(),e=e_();function n(t){for(var r="https://reactjs.org/docs/error-decoder.html?invariant="+t,o=1;o<arguments.length;o++)r+="&args[]="+encodeURIComponent(arguments[o]);return"Minified React error #"+t+"; visit "+r+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var s=new Set,a={};function u(t,r){h(t,r),h(t+"Capture",r)}function h(t,r){for(a[t]=r,t=0;t<r.length;t++)s.add(r[t])}var m=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),g=Object.prototype.hasOwnProperty,v=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,w={},R={};function I(t){return g.call(R,t)?!0:g.call(w,t)?!1:v.test(t)?R[t]=!0:(w[t]=!0,!1)}function D(t,r,o,c){if(o!==null&&o.type===0)return!1;switch(typeof r){case"function":case"symbol":return!0;case"boolean":return c?!1:o!==null?!o.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function F(t,r,o,c){if(r===null||typeof r>"u"||D(t,r,o,c))return!0;if(c)return!1;if(o!==null)switch(o.type){case 3:return!r;case 4:return r===!1;case 5:return isNaN(r);case 6:return isNaN(r)||1>r}return!1}function $(t,r,o,c,d,p,_){this.acceptsBooleans=r===2||r===3||r===4,this.attributeName=c,this.attributeNamespace=d,this.mustUseProperty=o,this.propertyName=t,this.type=r,this.sanitizeURL=p,this.removeEmptyString=_}var z={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){z[t]=new $(t,0,!1,t,null,!1,!1)}),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var r=t[0];z[r]=new $(r,1,!1,t[1],null,!1,!1)}),["contentEditable","draggable","spellCheck","value"].forEach(function(t){z[t]=new $(t,2,!1,t.toLowerCase(),null,!1,!1)}),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){z[t]=new $(t,2,!1,t,null,!1,!1)}),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){z[t]=new $(t,3,!1,t.toLowerCase(),null,!1,!1)}),["checked","multiple","muted","selected"].forEach(function(t){z[t]=new $(t,3,!0,t,null,!1,!1)}),["capture","download"].forEach(function(t){z[t]=new $(t,4,!1,t,null,!1,!1)}),["cols","rows","size","span"].forEach(function(t){z[t]=new $(t,6,!1,t,null,!1,!1)}),["rowSpan","start"].forEach(function(t){z[t]=new $(t,5,!1,t.toLowerCase(),null,!1,!1)});var Q=/[\-:]([a-z])/g;function Y(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var r=t.replace(Q,Y);z[r]=new $(r,1,!1,t,null,!1,!1)}),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var r=t.replace(Q,Y);z[r]=new $(r,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)}),["xml:base","xml:lang","xml:space"].forEach(function(t){var r=t.replace(Q,Y);z[r]=new $(r,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)}),["tabIndex","crossOrigin"].forEach(function(t){z[t]=new $(t,1,!1,t.toLowerCase(),null,!1,!1)}),z.xlinkHref=new $("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach(function(t){z[t]=new $(t,1,!1,t.toLowerCase(),null,!0,!0)});function ie(t,r,o,c){var d=z.hasOwnProperty(r)?z[r]:null;(d!==null?d.type!==0:c||!(2<r.length)||r[0]!=="o"&&r[0]!=="O"||r[1]!=="n"&&r[1]!=="N")&&(F(r,o,d,c)&&(o=null),c||d===null?I(r)&&(o===null?t.removeAttribute(r):t.setAttribute(r,""+o)):d.mustUseProperty?t[d.propertyName]=o===null?d.type===3?!1:"":o:(r=d.attributeName,c=d.attributeNamespace,o===null?t.removeAttribute(r):(d=d.type,o=d===3||d===4&&o===!0?"":""+o,c?t.setAttributeNS(c,r,o):t.setAttribute(r,o))))}var ee=i.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,ve=Symbol.for("react.element"),_e=Symbol.for("react.portal"),k=Symbol.for("react.fragment"),T=Symbol.for("react.strict_mode"),A=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),N=Symbol.for("react.context"),O=Symbol.for("react.forward_ref"),C=Symbol.for("react.suspense"),tt=Symbol.for("react.suspense_list"),kt=Symbol.for("react.memo"),xt=Symbol.for("react.lazy"),ze=Symbol.for("react.offscreen"),re=Symbol.iterator;function pe(t){return t===null||typeof t!="object"?null:(t=re&&t[re]||t["@@iterator"],typeof t=="function"?t:null)}var oe=Object.assign,L;function W(t){if(L===void 0)try{throw Error()}catch(o){var r=o.stack.trim().match(/\n( *(at )?)/);L=r&&r[1]||""}return`
`+L+t}var fe=!1;function Ie(t,r){if(!t||fe)return"";fe=!0;var o=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(r)if(r=function(){throw Error()},Object.defineProperty(r.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(r,[])}catch(j){var c=j}Reflect.construct(t,[],r)}else{try{r.call()}catch(j){c=j}t.call(r.prototype)}else{try{throw Error()}catch(j){c=j}t()}}catch(j){if(j&&c&&typeof j.stack=="string"){for(var d=j.stack.split(`
`),p=c.stack.split(`
`),_=d.length-1,S=p.length-1;1<=_&&0<=S&&d[_]!==p[S];)S--;for(;1<=_&&0<=S;_--,S--)if(d[_]!==p[S]){if(_!==1||S!==1)do if(_--,S--,0>S||d[_]!==p[S]){var P=`
`+d[_].replace(" at new "," at ");return t.displayName&&P.includes("<anonymous>")&&(P=P.replace("<anonymous>",t.displayName)),P}while(1<=_&&0<=S);break}}}finally{fe=!1,Error.prepareStackTrace=o}return(t=t?t.displayName||t.name:"")?W(t):""}function Re(t){switch(t.tag){case 5:return W(t.type);case 16:return W("Lazy");case 13:return W("Suspense");case 19:return W("SuspenseList");case 0:case 2:case 15:return t=Ie(t.type,!1),t;case 11:return t=Ie(t.type.render,!1),t;case 1:return t=Ie(t.type,!0),t;default:return""}}function xe(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case k:return"Fragment";case _e:return"Portal";case A:return"Profiler";case T:return"StrictMode";case C:return"Suspense";case tt:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case N:return(t.displayName||"Context")+".Consumer";case x:return(t._context.displayName||"Context")+".Provider";case O:var r=t.render;return t=t.displayName,t||(t=r.displayName||r.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case kt:return r=t.displayName||null,r!==null?r:xe(t.type)||"Memo";case xt:r=t._payload,t=t._init;try{return xe(t(r))}catch{}}return null}function Me(t){var r=t.type;switch(t.tag){case 24:return"Cache";case 9:return(r.displayName||"Context")+".Consumer";case 10:return(r._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=r.render,t=t.displayName||t.name||"",r.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return r;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return xe(r);case 8:return r===T?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof r=="function")return r.displayName||r.name||null;if(typeof r=="string")return r}return null}function Fe(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function Be(t){var r=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(r==="checkbox"||r==="radio")}function gt(t){var r=Be(t)?"checked":"value",o=Object.getOwnPropertyDescriptor(t.constructor.prototype,r),c=""+t[r];if(!t.hasOwnProperty(r)&&typeof o<"u"&&typeof o.get=="function"&&typeof o.set=="function"){var d=o.get,p=o.set;return Object.defineProperty(t,r,{configurable:!0,get:function(){return d.call(this)},set:function(_){c=""+_,p.call(this,_)}}),Object.defineProperty(t,r,{enumerable:o.enumerable}),{getValue:function(){return c},setValue:function(_){c=""+_},stopTracking:function(){t._valueTracker=null,delete t[r]}}}}function Zn(t){t._valueTracker||(t._valueTracker=gt(t))}function $i(t){if(!t)return!1;var r=t._valueTracker;if(!r)return!0;var o=r.getValue(),c="";return t&&(c=Be(t)?t.checked?"true":"false":t.value),t=c,t!==o?(r.setValue(t),!0):!1}function Sr(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function ai(t,r){var o=r.checked;return oe({},r,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:o??t._wrapperState.initialChecked})}function qi(t,r){var o=r.defaultValue==null?"":r.defaultValue,c=r.checked!=null?r.checked:r.defaultChecked;o=Fe(r.value!=null?r.value:o),t._wrapperState={initialChecked:c,initialValue:o,controlled:r.type==="checkbox"||r.type==="radio"?r.checked!=null:r.value!=null}}function no(t,r){r=r.checked,r!=null&&ie(t,"checked",r,!1)}function ro(t,r){no(t,r);var o=Fe(r.value),c=r.type;if(o!=null)c==="number"?(o===0&&t.value===""||t.value!=o)&&(t.value=""+o):t.value!==""+o&&(t.value=""+o);else if(c==="submit"||c==="reset"){t.removeAttribute("value");return}r.hasOwnProperty("value")?Hi(t,r.type,o):r.hasOwnProperty("defaultValue")&&Hi(t,r.type,Fe(r.defaultValue)),r.checked==null&&r.defaultChecked!=null&&(t.defaultChecked=!!r.defaultChecked)}function Ia(t,r,o){if(r.hasOwnProperty("value")||r.hasOwnProperty("defaultValue")){var c=r.type;if(!(c!=="submit"&&c!=="reset"||r.value!==void 0&&r.value!==null))return;r=""+t._wrapperState.initialValue,o||r===t.value||(t.value=r),t.defaultValue=r}o=t.name,o!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,o!==""&&(t.name=o)}function Hi(t,r,o){(r!=="number"||Sr(t.ownerDocument)!==t)&&(o==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+o&&(t.defaultValue=""+o))}var er=Array.isArray;function tr(t,r,o,c){if(t=t.options,r){r={};for(var d=0;d<o.length;d++)r["$"+o[d]]=!0;for(o=0;o<t.length;o++)d=r.hasOwnProperty("$"+t[o].value),t[o].selected!==d&&(t[o].selected=d),d&&c&&(t[o].defaultSelected=!0)}else{for(o=""+Fe(o),r=null,d=0;d<t.length;d++){if(t[d].value===o){t[d].selected=!0,c&&(t[d].defaultSelected=!0);return}r!==null||t[d].disabled||(r=t[d])}r!==null&&(r.selected=!0)}}function io(t,r){if(r.dangerouslySetInnerHTML!=null)throw Error(n(91));return oe({},r,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function Wi(t,r){var o=r.value;if(o==null){if(o=r.children,r=r.defaultValue,o!=null){if(r!=null)throw Error(n(92));if(er(o)){if(1<o.length)throw Error(n(93));o=o[0]}r=o}r==null&&(r=""),o=r}t._wrapperState={initialValue:Fe(o)}}function Qi(t,r){var o=Fe(r.value),c=Fe(r.defaultValue);o!=null&&(o=""+o,o!==t.value&&(t.value=o),r.defaultValue==null&&t.defaultValue!==o&&(t.defaultValue=o)),c!=null&&(t.defaultValue=""+c)}function so(t){var r=t.textContent;r===t._wrapperState.initialValue&&r!==""&&r!==null&&(t.value=r)}function lt(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ut(t,r){return t==null||t==="http://www.w3.org/1999/xhtml"?lt(r):t==="http://www.w3.org/2000/svg"&&r==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var nr,oo=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(r,o,c,d){MSApp.execUnsafeLocalFunction(function(){return t(r,o,c,d)})}:t}(function(t,r){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=r;else{for(nr=nr||document.createElement("div"),nr.innerHTML="<svg>"+r.valueOf().toString()+"</svg>",r=nr.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;r.firstChild;)t.appendChild(r.firstChild)}});function Ir(t,r){if(r){var o=t.firstChild;if(o&&o===t.lastChild&&o.nodeType===3){o.nodeValue=r;return}}t.textContent=r}var li={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},ui=["Webkit","ms","Moz","O"];Object.keys(li).forEach(function(t){ui.forEach(function(r){r=r+t.charAt(0).toUpperCase()+t.substring(1),li[r]=li[t]})});function ao(t,r,o){return r==null||typeof r=="boolean"||r===""?"":o||typeof r!="number"||r===0||li.hasOwnProperty(t)&&li[t]?(""+r).trim():r+"px"}function lo(t,r){t=t.style;for(var o in r)if(r.hasOwnProperty(o)){var c=o.indexOf("--")===0,d=ao(o,r[o],c);o==="float"&&(o="cssFloat"),c?t.setProperty(o,d):t[o]=d}}var uo=oe({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function co(t,r){if(r){if(uo[t]&&(r.children!=null||r.dangerouslySetInnerHTML!=null))throw Error(n(137,t));if(r.dangerouslySetInnerHTML!=null){if(r.children!=null)throw Error(n(60));if(typeof r.dangerouslySetInnerHTML!="object"||!("__html"in r.dangerouslySetInnerHTML))throw Error(n(61))}if(r.style!=null&&typeof r.style!="object")throw Error(n(62))}}function ho(t,r){if(t.indexOf("-")===-1)return typeof r.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ci=null;function Ki(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var Gi=null,ln=null,Fn=null;function Xi(t){if(t=Mo(t)){if(typeof Gi!="function")throw Error(n(280));var r=t.stateNode;r&&(r=el(r),Gi(t.stateNode,t.type,r))}}function bn(t){ln?Fn?Fn.push(t):Fn=[t]:ln=t}function fo(){if(ln){var t=ln,r=Fn;if(Fn=ln=null,Xi(t),r)for(t=0;t<r.length;t++)Xi(r[t])}}function hi(t,r){return t(r)}function po(){}var rr=!1;function mo(t,r,o){if(rr)return t(r,o);rr=!0;try{return hi(t,r,o)}finally{rr=!1,(ln!==null||Fn!==null)&&(po(),fo())}}function nt(t,r){var o=t.stateNode;if(o===null)return null;var c=el(o);if(c===null)return null;o=c[r];e:switch(r){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(c=!c.disabled)||(t=t.type,c=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!c;break e;default:t=!1}if(t)return null;if(o&&typeof o!="function")throw Error(n(231,r,typeof o));return o}var Yi=!1;if(m)try{var _n={};Object.defineProperty(_n,"passive",{get:function(){Yi=!0}}),window.addEventListener("test",_n,_n),window.removeEventListener("test",_n,_n)}catch{Yi=!1}function di(t,r,o,c,d,p,_,S,P){var j=Array.prototype.slice.call(arguments,3);try{r.apply(o,j)}catch(G){this.onError(G)}}var fi=!1,Ji=null,En=!1,go=null,Mu={onError:function(t){fi=!0,Ji=t}};function Zi(t,r,o,c,d,p,_,S,P){fi=!1,Ji=null,di.apply(Mu,arguments)}function Ra(t,r,o,c,d,p,_,S,P){if(Zi.apply(this,arguments),fi){if(fi){var j=Ji;fi=!1,Ji=null}else throw Error(n(198));En||(En=!0,go=j)}}function wn(t){var r=t,o=t;if(t.alternate)for(;r.return;)r=r.return;else{t=r;do r=t,r.flags&4098&&(o=r.return),t=r.return;while(t)}return r.tag===3?o:null}function pi(t){if(t.tag===13){var r=t.memoizedState;if(r===null&&(t=t.alternate,t!==null&&(r=t.memoizedState)),r!==null)return r.dehydrated}return null}function Tn(t){if(wn(t)!==t)throw Error(n(188))}function Aa(t){var r=t.alternate;if(!r){if(r=wn(t),r===null)throw Error(n(188));return r!==t?null:t}for(var o=t,c=r;;){var d=o.return;if(d===null)break;var p=d.alternate;if(p===null){if(c=d.return,c!==null){o=c;continue}break}if(d.child===p.child){for(p=d.child;p;){if(p===o)return Tn(d),t;if(p===c)return Tn(d),r;p=p.sibling}throw Error(n(188))}if(o.return!==c.return)o=d,c=p;else{for(var _=!1,S=d.child;S;){if(S===o){_=!0,o=d,c=p;break}if(S===c){_=!0,c=d,o=p;break}S=S.sibling}if(!_){for(S=p.child;S;){if(S===o){_=!0,o=p,c=d;break}if(S===c){_=!0,c=p,o=d;break}S=S.sibling}if(!_)throw Error(n(189))}}if(o.alternate!==c)throw Error(n(190))}if(o.tag!==3)throw Error(n(188));return o.stateNode.current===o?t:r}function yo(t){return t=Aa(t),t!==null?es(t):null}function es(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var r=es(t);if(r!==null)return r;t=t.sibling}return null}var ts=e.unstable_scheduleCallback,vo=e.unstable_cancelCallback,Ca=e.unstable_shouldYield,Fu=e.unstable_requestPaint,$e=e.unstable_now,Pa=e.unstable_getCurrentPriorityLevel,mi=e.unstable_ImmediatePriority,Rr=e.unstable_UserBlockingPriority,un=e.unstable_NormalPriority,_o=e.unstable_LowPriority,ka=e.unstable_IdlePriority,gi=null,Zt=null;function xa(t){if(Zt&&typeof Zt.onCommitFiberRoot=="function")try{Zt.onCommitFiberRoot(gi,t,void 0,(t.current.flags&128)===128)}catch{}}var bt=Math.clz32?Math.clz32:Na,Eo=Math.log,Va=Math.LN2;function Na(t){return t>>>=0,t===0?32:31-(Eo(t)/Va|0)|0}var ns=64,rs=4194304;function Ar(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function yi(t,r){var o=t.pendingLanes;if(o===0)return 0;var c=0,d=t.suspendedLanes,p=t.pingedLanes,_=o&268435455;if(_!==0){var S=_&~d;S!==0?c=Ar(S):(p&=_,p!==0&&(c=Ar(p)))}else _=o&~d,_!==0?c=Ar(_):p!==0&&(c=Ar(p));if(c===0)return 0;if(r!==0&&r!==c&&!(r&d)&&(d=c&-c,p=r&-r,d>=p||d===16&&(p&4194240)!==0))return r;if(c&4&&(c|=o&16),r=t.entangledLanes,r!==0)for(t=t.entanglements,r&=c;0<r;)o=31-bt(r),d=1<<o,c|=t[o],r&=~d;return c}function bu(t,r){switch(t){case 1:case 2:case 4:return r+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return r+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function ir(t,r){for(var o=t.suspendedLanes,c=t.pingedLanes,d=t.expirationTimes,p=t.pendingLanes;0<p;){var _=31-bt(p),S=1<<_,P=d[_];P===-1?(!(S&o)||S&c)&&(d[_]=bu(S,r)):P<=r&&(t.expiredLanes|=S),p&=~S}}function en(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function vi(){var t=ns;return ns<<=1,!(ns&4194240)&&(ns=64),t}function Cr(t){for(var r=[],o=0;31>o;o++)r.push(t);return r}function Pr(t,r,o){t.pendingLanes|=r,r!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,r=31-bt(r),t[r]=o}function je(t,r){var o=t.pendingLanes&~r;t.pendingLanes=r,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=r,t.mutableReadLanes&=r,t.entangledLanes&=r,r=t.entanglements;var c=t.eventTimes;for(t=t.expirationTimes;0<o;){var d=31-bt(o),p=1<<d;r[d]=0,c[d]=-1,t[d]=-1,o&=~p}}function kr(t,r){var o=t.entangledLanes|=r;for(t=t.entanglements;o;){var c=31-bt(o),d=1<<c;d&r|t[c]&r&&(t[c]|=r),o&=~d}}var Pe=0;function xr(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Da,is,La,Oa,Ma,wo=!1,Un=[],Tt=null,Sn=null,In=null,Vr=new Map,cn=new Map,zn=[],Uu="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Fa(t,r){switch(t){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":Sn=null;break;case"mouseover":case"mouseout":In=null;break;case"pointerover":case"pointerout":Vr.delete(r.pointerId);break;case"gotpointercapture":case"lostpointercapture":cn.delete(r.pointerId)}}function Bt(t,r,o,c,d,p){return t===null||t.nativeEvent!==p?(t={blockedOn:r,domEventName:o,eventSystemFlags:c,nativeEvent:p,targetContainers:[d]},r!==null&&(r=Mo(r),r!==null&&is(r)),t):(t.eventSystemFlags|=c,r=t.targetContainers,d!==null&&r.indexOf(d)===-1&&r.push(d),t)}function zu(t,r,o,c,d){switch(r){case"focusin":return Tt=Bt(Tt,t,r,o,c,d),!0;case"dragenter":return Sn=Bt(Sn,t,r,o,c,d),!0;case"mouseover":return In=Bt(In,t,r,o,c,d),!0;case"pointerover":var p=d.pointerId;return Vr.set(p,Bt(Vr.get(p)||null,t,r,o,c,d)),!0;case"gotpointercapture":return p=d.pointerId,cn.set(p,Bt(cn.get(p)||null,t,r,o,c,d)),!0}return!1}function ba(t){var r=Si(t.target);if(r!==null){var o=wn(r);if(o!==null){if(r=o.tag,r===13){if(r=pi(o),r!==null){t.blockedOn=r,Ma(t.priority,function(){La(o)});return}}else if(r===3&&o.stateNode.current.memoizedState.isDehydrated){t.blockedOn=o.tag===3?o.stateNode.containerInfo:null;return}}}t.blockedOn=null}function sr(t){if(t.blockedOn!==null)return!1;for(var r=t.targetContainers;0<r.length;){var o=ss(t.domEventName,t.eventSystemFlags,r[0],t.nativeEvent);if(o===null){o=t.nativeEvent;var c=new o.constructor(o.type,o);ci=c,o.target.dispatchEvent(c),ci=null}else return r=Mo(o),r!==null&&is(r),t.blockedOn=o,!1;r.shift()}return!0}function _i(t,r,o){sr(t)&&o.delete(r)}function Ua(){wo=!1,Tt!==null&&sr(Tt)&&(Tt=null),Sn!==null&&sr(Sn)&&(Sn=null),In!==null&&sr(In)&&(In=null),Vr.forEach(_i),cn.forEach(_i)}function Rn(t,r){t.blockedOn===r&&(t.blockedOn=null,wo||(wo=!0,e.unstable_scheduleCallback(e.unstable_NormalPriority,Ua)))}function An(t){function r(d){return Rn(d,t)}if(0<Un.length){Rn(Un[0],t);for(var o=1;o<Un.length;o++){var c=Un[o];c.blockedOn===t&&(c.blockedOn=null)}}for(Tt!==null&&Rn(Tt,t),Sn!==null&&Rn(Sn,t),In!==null&&Rn(In,t),Vr.forEach(r),cn.forEach(r),o=0;o<zn.length;o++)c=zn[o],c.blockedOn===t&&(c.blockedOn=null);for(;0<zn.length&&(o=zn[0],o.blockedOn===null);)ba(o),o.blockedOn===null&&zn.shift()}var or=ee.ReactCurrentBatchConfig,Nr=!0;function Qe(t,r,o,c){var d=Pe,p=or.transition;or.transition=null;try{Pe=1,To(t,r,o,c)}finally{Pe=d,or.transition=p}}function ju(t,r,o,c){var d=Pe,p=or.transition;or.transition=null;try{Pe=4,To(t,r,o,c)}finally{Pe=d,or.transition=p}}function To(t,r,o,c){if(Nr){var d=ss(t,r,o,c);if(d===null)Ju(t,r,c,Ei,o),Fa(t,c);else if(zu(d,t,r,o,c))c.stopPropagation();else if(Fa(t,c),r&4&&-1<Uu.indexOf(t)){for(;d!==null;){var p=Mo(d);if(p!==null&&Da(p),p=ss(t,r,o,c),p===null&&Ju(t,r,c,Ei,o),p===d)break;d=p}d!==null&&c.stopPropagation()}else Ju(t,r,c,null,o)}}var Ei=null;function ss(t,r,o,c){if(Ei=null,t=Ki(c),t=Si(t),t!==null)if(r=wn(t),r===null)t=null;else if(o=r.tag,o===13){if(t=pi(r),t!==null)return t;t=null}else if(o===3){if(r.stateNode.current.memoizedState.isDehydrated)return r.tag===3?r.stateNode.containerInfo:null;t=null}else r!==t&&(t=null);return Ei=t,null}function So(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(Pa()){case mi:return 1;case Rr:return 4;case un:case _o:return 16;case ka:return 536870912;default:return 16}default:return 16}}var tn=null,os=null,$t=null;function Io(){if($t)return $t;var t,r=os,o=r.length,c,d="value"in tn?tn.value:tn.textContent,p=d.length;for(t=0;t<o&&r[t]===d[t];t++);var _=o-t;for(c=1;c<=_&&r[o-c]===d[p-c];c++);return $t=d.slice(t,1<c?1-c:void 0)}function as(t){var r=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&r===13&&(t=13)):t=r,t===10&&(t=13),32<=t||t===13?t:0}function jn(){return!0}function Ro(){return!1}function St(t){function r(o,c,d,p,_){this._reactName=o,this._targetInst=d,this.type=c,this.nativeEvent=p,this.target=_,this.currentTarget=null;for(var S in t)t.hasOwnProperty(S)&&(o=t[S],this[S]=o?o(p):p[S]);return this.isDefaultPrevented=(p.defaultPrevented!=null?p.defaultPrevented:p.returnValue===!1)?jn:Ro,this.isPropagationStopped=Ro,this}return oe(r.prototype,{preventDefault:function(){this.defaultPrevented=!0;var o=this.nativeEvent;o&&(o.preventDefault?o.preventDefault():typeof o.returnValue!="unknown"&&(o.returnValue=!1),this.isDefaultPrevented=jn)},stopPropagation:function(){var o=this.nativeEvent;o&&(o.stopPropagation?o.stopPropagation():typeof o.cancelBubble!="unknown"&&(o.cancelBubble=!0),this.isPropagationStopped=jn)},persist:function(){},isPersistent:jn}),r}var Cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},ls=St(Cn),Bn=oe({},Cn,{view:0,detail:0}),Bu=St(Bn),us,ar,Dr,wi=oe({},Bn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:$n,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Dr&&(Dr&&t.type==="mousemove"?(us=t.screenX-Dr.screenX,ar=t.screenY-Dr.screenY):ar=us=0,Dr=t),us)},movementY:function(t){return"movementY"in t?t.movementY:ar}}),cs=St(wi),Ao=oe({},wi,{dataTransfer:0}),za=St(Ao),hs=oe({},Bn,{relatedTarget:0}),ds=St(hs),ja=oe({},Cn,{animationName:0,elapsedTime:0,pseudoElement:0}),lr=St(ja),Ba=oe({},Cn,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),$a=St(Ba),qa=oe({},Cn,{data:0}),Co=St(qa),fs={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Ut={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},Ha={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function Wa(t){var r=this.nativeEvent;return r.getModifierState?r.getModifierState(t):(t=Ha[t])?!!r[t]:!1}function $n(){return Wa}var l=oe({},Bn,{key:function(t){if(t.key){var r=fs[t.key]||t.key;if(r!=="Unidentified")return r}return t.type==="keypress"?(t=as(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?Ut[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:$n,charCode:function(t){return t.type==="keypress"?as(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?as(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),f=St(l),y=oe({},wi,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),E=St(y),M=oe({},Bn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:$n}),B=St(M),te=oe({},Cn,{propertyName:0,elapsedTime:0,pseudoElement:0}),Ue=St(te),ct=oe({},wi,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),Ve=St(ct),yt=[9,13,27,32],st=m&&"CompositionEvent"in window,hn=null;m&&"documentMode"in document&&(hn=document.documentMode);var nn=m&&"TextEvent"in window&&!hn,Ti=m&&(!st||hn&&8<hn&&11>=hn),ps=" ",Od=!1;function Md(t,r){switch(t){case"keyup":return yt.indexOf(r.keyCode)!==-1;case"keydown":return r.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Fd(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ms=!1;function Qy(t,r){switch(t){case"compositionend":return Fd(r);case"keypress":return r.which!==32?null:(Od=!0,ps);case"textInput":return t=r.data,t===ps&&Od?null:t;default:return null}}function Ky(t,r){if(ms)return t==="compositionend"||!st&&Md(t,r)?(t=Io(),$t=os=tn=null,ms=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(r.ctrlKey||r.altKey||r.metaKey)||r.ctrlKey&&r.altKey){if(r.char&&1<r.char.length)return r.char;if(r.which)return String.fromCharCode(r.which)}return null;case"compositionend":return Ti&&r.locale!=="ko"?null:r.data;default:return null}}var Gy={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function bd(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r==="input"?!!Gy[t.type]:r==="textarea"}function Ud(t,r,o,c){bn(c),r=Ya(r,"onChange"),0<r.length&&(o=new ls("onChange","change",null,o,c),t.push({event:o,listeners:r}))}var Po=null,ko=null;function Xy(t){rf(t,0)}function Qa(t){var r=Es(t);if($i(r))return t}function Yy(t,r){if(t==="change")return r}var zd=!1;if(m){var $u;if(m){var qu="oninput"in document;if(!qu){var jd=document.createElement("div");jd.setAttribute("oninput","return;"),qu=typeof jd.oninput=="function"}$u=qu}else $u=!1;zd=$u&&(!document.documentMode||9<document.documentMode)}function Bd(){Po&&(Po.detachEvent("onpropertychange",$d),ko=Po=null)}function $d(t){if(t.propertyName==="value"&&Qa(ko)){var r=[];Ud(r,ko,t,Ki(t)),mo(Xy,r)}}function Jy(t,r,o){t==="focusin"?(Bd(),Po=r,ko=o,Po.attachEvent("onpropertychange",$d)):t==="focusout"&&Bd()}function Zy(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Qa(ko)}function ev(t,r){if(t==="click")return Qa(r)}function tv(t,r){if(t==="input"||t==="change")return Qa(r)}function nv(t,r){return t===r&&(t!==0||1/t===1/r)||t!==t&&r!==r}var Pn=typeof Object.is=="function"?Object.is:nv;function xo(t,r){if(Pn(t,r))return!0;if(typeof t!="object"||t===null||typeof r!="object"||r===null)return!1;var o=Object.keys(t),c=Object.keys(r);if(o.length!==c.length)return!1;for(c=0;c<o.length;c++){var d=o[c];if(!g.call(r,d)||!Pn(t[d],r[d]))return!1}return!0}function qd(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Hd(t,r){var o=qd(t);t=0;for(var c;o;){if(o.nodeType===3){if(c=t+o.textContent.length,t<=r&&c>=r)return{node:o,offset:r-t};t=c}e:{for(;o;){if(o.nextSibling){o=o.nextSibling;break e}o=o.parentNode}o=void 0}o=qd(o)}}function Wd(t,r){return t&&r?t===r?!0:t&&t.nodeType===3?!1:r&&r.nodeType===3?Wd(t,r.parentNode):"contains"in t?t.contains(r):t.compareDocumentPosition?!!(t.compareDocumentPosition(r)&16):!1:!1}function Qd(){for(var t=window,r=Sr();r instanceof t.HTMLIFrameElement;){try{var o=typeof r.contentWindow.location.href=="string"}catch{o=!1}if(o)t=r.contentWindow;else break;r=Sr(t.document)}return r}function Hu(t){var r=t&&t.nodeName&&t.nodeName.toLowerCase();return r&&(r==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||r==="textarea"||t.contentEditable==="true")}function rv(t){var r=Qd(),o=t.focusedElem,c=t.selectionRange;if(r!==o&&o&&o.ownerDocument&&Wd(o.ownerDocument.documentElement,o)){if(c!==null&&Hu(o)){if(r=c.start,t=c.end,t===void 0&&(t=r),"selectionStart"in o)o.selectionStart=r,o.selectionEnd=Math.min(t,o.value.length);else if(t=(r=o.ownerDocument||document)&&r.defaultView||window,t.getSelection){t=t.getSelection();var d=o.textContent.length,p=Math.min(c.start,d);c=c.end===void 0?p:Math.min(c.end,d),!t.extend&&p>c&&(d=c,c=p,p=d),d=Hd(o,p);var _=Hd(o,c);d&&_&&(t.rangeCount!==1||t.anchorNode!==d.node||t.anchorOffset!==d.offset||t.focusNode!==_.node||t.focusOffset!==_.offset)&&(r=r.createRange(),r.setStart(d.node,d.offset),t.removeAllRanges(),p>c?(t.addRange(r),t.extend(_.node,_.offset)):(r.setEnd(_.node,_.offset),t.addRange(r)))}}for(r=[],t=o;t=t.parentNode;)t.nodeType===1&&r.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof o.focus=="function"&&o.focus(),o=0;o<r.length;o++)t=r[o],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var iv=m&&"documentMode"in document&&11>=document.documentMode,gs=null,Wu=null,Vo=null,Qu=!1;function Kd(t,r,o){var c=o.window===o?o.document:o.nodeType===9?o:o.ownerDocument;Qu||gs==null||gs!==Sr(c)||(c=gs,"selectionStart"in c&&Hu(c)?c={start:c.selectionStart,end:c.selectionEnd}:(c=(c.ownerDocument&&c.ownerDocument.defaultView||window).getSelection(),c={anchorNode:c.anchorNode,anchorOffset:c.anchorOffset,focusNode:c.focusNode,focusOffset:c.focusOffset}),Vo&&xo(Vo,c)||(Vo=c,c=Ya(Wu,"onSelect"),0<c.length&&(r=new ls("onSelect","select",null,r,o),t.push({event:r,listeners:c}),r.target=gs)))}function Ka(t,r){var o={};return o[t.toLowerCase()]=r.toLowerCase(),o["Webkit"+t]="webkit"+r,o["Moz"+t]="moz"+r,o}var ys={animationend:Ka("Animation","AnimationEnd"),animationiteration:Ka("Animation","AnimationIteration"),animationstart:Ka("Animation","AnimationStart"),transitionend:Ka("Transition","TransitionEnd")},Ku={},Gd={};m&&(Gd=document.createElement("div").style,"AnimationEvent"in window||(delete ys.animationend.animation,delete ys.animationiteration.animation,delete ys.animationstart.animation),"TransitionEvent"in window||delete ys.transitionend.transition);function Ga(t){if(Ku[t])return Ku[t];if(!ys[t])return t;var r=ys[t],o;for(o in r)if(r.hasOwnProperty(o)&&o in Gd)return Ku[t]=r[o];return t}var Xd=Ga("animationend"),Yd=Ga("animationiteration"),Jd=Ga("animationstart"),Zd=Ga("transitionend"),ef=new Map,tf="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Lr(t,r){ef.set(t,r),u(r,[t])}for(var Gu=0;Gu<tf.length;Gu++){var Xu=tf[Gu],sv=Xu.toLowerCase(),ov=Xu[0].toUpperCase()+Xu.slice(1);Lr(sv,"on"+ov)}Lr(Xd,"onAnimationEnd"),Lr(Yd,"onAnimationIteration"),Lr(Jd,"onAnimationStart"),Lr("dblclick","onDoubleClick"),Lr("focusin","onFocus"),Lr("focusout","onBlur"),Lr(Zd,"onTransitionEnd"),h("onMouseEnter",["mouseout","mouseover"]),h("onMouseLeave",["mouseout","mouseover"]),h("onPointerEnter",["pointerout","pointerover"]),h("onPointerLeave",["pointerout","pointerover"]),u("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),u("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),u("onBeforeInput",["compositionend","keypress","textInput","paste"]),u("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),u("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var No="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),av=new Set("cancel close invalid load scroll toggle".split(" ").concat(No));function nf(t,r,o){var c=t.type||"unknown-event";t.currentTarget=o,Ra(c,r,void 0,t),t.currentTarget=null}function rf(t,r){r=(r&4)!==0;for(var o=0;o<t.length;o++){var c=t[o],d=c.event;c=c.listeners;e:{var p=void 0;if(r)for(var _=c.length-1;0<=_;_--){var S=c[_],P=S.instance,j=S.currentTarget;if(S=S.listener,P!==p&&d.isPropagationStopped())break e;nf(d,S,j),p=P}else for(_=0;_<c.length;_++){if(S=c[_],P=S.instance,j=S.currentTarget,S=S.listener,P!==p&&d.isPropagationStopped())break e;nf(d,S,j),p=P}}}if(En)throw t=go,En=!1,go=null,t}function He(t,r){var o=r[ic];o===void 0&&(o=r[ic]=new Set);var c=t+"__bubble";o.has(c)||(sf(r,t,2,!1),o.add(c))}function Yu(t,r,o){var c=0;r&&(c|=4),sf(o,t,c,r)}var Xa="_reactListening"+Math.random().toString(36).slice(2);function Do(t){if(!t[Xa]){t[Xa]=!0,s.forEach(function(o){o!=="selectionchange"&&(av.has(o)||Yu(o,!1,t),Yu(o,!0,t))});var r=t.nodeType===9?t:t.ownerDocument;r===null||r[Xa]||(r[Xa]=!0,Yu("selectionchange",!1,r))}}function sf(t,r,o,c){switch(So(r)){case 1:var d=Qe;break;case 4:d=ju;break;default:d=To}o=d.bind(null,r,o,t),d=void 0,!Yi||r!=="touchstart"&&r!=="touchmove"&&r!=="wheel"||(d=!0),c?d!==void 0?t.addEventListener(r,o,{capture:!0,passive:d}):t.addEventListener(r,o,!0):d!==void 0?t.addEventListener(r,o,{passive:d}):t.addEventListener(r,o,!1)}function Ju(t,r,o,c,d){var p=c;if(!(r&1)&&!(r&2)&&c!==null)e:for(;;){if(c===null)return;var _=c.tag;if(_===3||_===4){var S=c.stateNode.containerInfo;if(S===d||S.nodeType===8&&S.parentNode===d)break;if(_===4)for(_=c.return;_!==null;){var P=_.tag;if((P===3||P===4)&&(P=_.stateNode.containerInfo,P===d||P.nodeType===8&&P.parentNode===d))return;_=_.return}for(;S!==null;){if(_=Si(S),_===null)return;if(P=_.tag,P===5||P===6){c=p=_;continue e}S=S.parentNode}}c=c.return}mo(function(){var j=p,G=Ki(o),J=[];e:{var K=ef.get(t);if(K!==void 0){var se=ls,ue=t;switch(t){case"keypress":if(as(o)===0)break e;case"keydown":case"keyup":se=f;break;case"focusin":ue="focus",se=ds;break;case"focusout":ue="blur",se=ds;break;case"beforeblur":case"afterblur":se=ds;break;case"click":if(o.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":se=cs;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":se=za;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":se=B;break;case Xd:case Yd:case Jd:se=lr;break;case Zd:se=Ue;break;case"scroll":se=Bu;break;case"wheel":se=Ve;break;case"copy":case"cut":case"paste":se=$a;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":se=E}var ce=(r&4)!==0,rt=!ce&&t==="scroll",b=ce?K!==null?K+"Capture":null:K;ce=[];for(var V=j,U;V!==null;){U=V;var Z=U.stateNode;if(U.tag===5&&Z!==null&&(U=Z,b!==null&&(Z=nt(V,b),Z!=null&&ce.push(Lo(V,Z,U)))),rt)break;V=V.return}0<ce.length&&(K=new se(K,ue,null,o,G),J.push({event:K,listeners:ce}))}}if(!(r&7)){e:{if(K=t==="mouseover"||t==="pointerover",se=t==="mouseout"||t==="pointerout",K&&o!==ci&&(ue=o.relatedTarget||o.fromElement)&&(Si(ue)||ue[ur]))break e;if((se||K)&&(K=G.window===G?G:(K=G.ownerDocument)?K.defaultView||K.parentWindow:window,se?(ue=o.relatedTarget||o.toElement,se=j,ue=ue?Si(ue):null,ue!==null&&(rt=wn(ue),ue!==rt||ue.tag!==5&&ue.tag!==6)&&(ue=null)):(se=null,ue=j),se!==ue)){if(ce=cs,Z="onMouseLeave",b="onMouseEnter",V="mouse",(t==="pointerout"||t==="pointerover")&&(ce=E,Z="onPointerLeave",b="onPointerEnter",V="pointer"),rt=se==null?K:Es(se),U=ue==null?K:Es(ue),K=new ce(Z,V+"leave",se,o,G),K.target=rt,K.relatedTarget=U,Z=null,Si(G)===j&&(ce=new ce(b,V+"enter",ue,o,G),ce.target=U,ce.relatedTarget=rt,Z=ce),rt=Z,se&&ue)t:{for(ce=se,b=ue,V=0,U=ce;U;U=vs(U))V++;for(U=0,Z=b;Z;Z=vs(Z))U++;for(;0<V-U;)ce=vs(ce),V--;for(;0<U-V;)b=vs(b),U--;for(;V--;){if(ce===b||b!==null&&ce===b.alternate)break t;ce=vs(ce),b=vs(b)}ce=null}else ce=null;se!==null&&of(J,K,se,ce,!1),ue!==null&&rt!==null&&of(J,rt,ue,ce,!0)}}e:{if(K=j?Es(j):window,se=K.nodeName&&K.nodeName.toLowerCase(),se==="select"||se==="input"&&K.type==="file")var he=Yy;else if(bd(K))if(zd)he=tv;else{he=Zy;var me=Jy}else(se=K.nodeName)&&se.toLowerCase()==="input"&&(K.type==="checkbox"||K.type==="radio")&&(he=ev);if(he&&(he=he(t,j))){Ud(J,he,o,G);break e}me&&me(t,K,j),t==="focusout"&&(me=K._wrapperState)&&me.controlled&&K.type==="number"&&Hi(K,"number",K.value)}switch(me=j?Es(j):window,t){case"focusin":(bd(me)||me.contentEditable==="true")&&(gs=me,Wu=j,Vo=null);break;case"focusout":Vo=Wu=gs=null;break;case"mousedown":Qu=!0;break;case"contextmenu":case"mouseup":case"dragend":Qu=!1,Kd(J,o,G);break;case"selectionchange":if(iv)break;case"keydown":case"keyup":Kd(J,o,G)}var ge;if(st)e:{switch(t){case"compositionstart":var Ee="onCompositionStart";break e;case"compositionend":Ee="onCompositionEnd";break e;case"compositionupdate":Ee="onCompositionUpdate";break e}Ee=void 0}else ms?Md(t,o)&&(Ee="onCompositionEnd"):t==="keydown"&&o.keyCode===229&&(Ee="onCompositionStart");Ee&&(Ti&&o.locale!=="ko"&&(ms||Ee!=="onCompositionStart"?Ee==="onCompositionEnd"&&ms&&(ge=Io()):(tn=G,os="value"in tn?tn.value:tn.textContent,ms=!0)),me=Ya(j,Ee),0<me.length&&(Ee=new Co(Ee,t,null,o,G),J.push({event:Ee,listeners:me}),ge?Ee.data=ge:(ge=Fd(o),ge!==null&&(Ee.data=ge)))),(ge=nn?Qy(t,o):Ky(t,o))&&(j=Ya(j,"onBeforeInput"),0<j.length&&(G=new Co("onBeforeInput","beforeinput",null,o,G),J.push({event:G,listeners:j}),G.data=ge))}rf(J,r)})}function Lo(t,r,o){return{instance:t,listener:r,currentTarget:o}}function Ya(t,r){for(var o=r+"Capture",c=[];t!==null;){var d=t,p=d.stateNode;d.tag===5&&p!==null&&(d=p,p=nt(t,o),p!=null&&c.unshift(Lo(t,p,d)),p=nt(t,r),p!=null&&c.push(Lo(t,p,d))),t=t.return}return c}function vs(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function of(t,r,o,c,d){for(var p=r._reactName,_=[];o!==null&&o!==c;){var S=o,P=S.alternate,j=S.stateNode;if(P!==null&&P===c)break;S.tag===5&&j!==null&&(S=j,d?(P=nt(o,p),P!=null&&_.unshift(Lo(o,P,S))):d||(P=nt(o,p),P!=null&&_.push(Lo(o,P,S)))),o=o.return}_.length!==0&&t.push({event:r,listeners:_})}var lv=/\r\n?/g,uv=/\u0000|\uFFFD/g;function af(t){return(typeof t=="string"?t:""+t).replace(lv,`
`).replace(uv,"")}function Ja(t,r,o){if(r=af(r),af(t)!==r&&o)throw Error(n(425))}function Za(){}var Zu=null,ec=null;function tc(t,r){return t==="textarea"||t==="noscript"||typeof r.children=="string"||typeof r.children=="number"||typeof r.dangerouslySetInnerHTML=="object"&&r.dangerouslySetInnerHTML!==null&&r.dangerouslySetInnerHTML.__html!=null}var nc=typeof setTimeout=="function"?setTimeout:void 0,cv=typeof clearTimeout=="function"?clearTimeout:void 0,lf=typeof Promise=="function"?Promise:void 0,hv=typeof queueMicrotask=="function"?queueMicrotask:typeof lf<"u"?function(t){return lf.resolve(null).then(t).catch(dv)}:nc;function dv(t){setTimeout(function(){throw t})}function rc(t,r){var o=r,c=0;do{var d=o.nextSibling;if(t.removeChild(o),d&&d.nodeType===8)if(o=d.data,o==="/$"){if(c===0){t.removeChild(d),An(r);return}c--}else o!=="$"&&o!=="$?"&&o!=="$!"||c++;o=d}while(o);An(r)}function Or(t){for(;t!=null;t=t.nextSibling){var r=t.nodeType;if(r===1||r===3)break;if(r===8){if(r=t.data,r==="$"||r==="$!"||r==="$?")break;if(r==="/$")return null}}return t}function uf(t){t=t.previousSibling;for(var r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="$"||o==="$!"||o==="$?"){if(r===0)return t;r--}else o==="/$"&&r++}t=t.previousSibling}return null}var _s=Math.random().toString(36).slice(2),qn="__reactFiber$"+_s,Oo="__reactProps$"+_s,ur="__reactContainer$"+_s,ic="__reactEvents$"+_s,fv="__reactListeners$"+_s,pv="__reactHandles$"+_s;function Si(t){var r=t[qn];if(r)return r;for(var o=t.parentNode;o;){if(r=o[ur]||o[qn]){if(o=r.alternate,r.child!==null||o!==null&&o.child!==null)for(t=uf(t);t!==null;){if(o=t[qn])return o;t=uf(t)}return r}t=o,o=t.parentNode}return null}function Mo(t){return t=t[qn]||t[ur],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Es(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(n(33))}function el(t){return t[Oo]||null}var sc=[],ws=-1;function Mr(t){return{current:t}}function We(t){0>ws||(t.current=sc[ws],sc[ws]=null,ws--)}function qe(t,r){ws++,sc[ws]=t.current,t.current=r}var Fr={},Vt=Mr(Fr),qt=Mr(!1),Ii=Fr;function Ts(t,r){var o=t.type.contextTypes;if(!o)return Fr;var c=t.stateNode;if(c&&c.__reactInternalMemoizedUnmaskedChildContext===r)return c.__reactInternalMemoizedMaskedChildContext;var d={},p;for(p in o)d[p]=r[p];return c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=r,t.__reactInternalMemoizedMaskedChildContext=d),d}function Ht(t){return t=t.childContextTypes,t!=null}function tl(){We(qt),We(Vt)}function cf(t,r,o){if(Vt.current!==Fr)throw Error(n(168));qe(Vt,r),qe(qt,o)}function hf(t,r,o){var c=t.stateNode;if(r=r.childContextTypes,typeof c.getChildContext!="function")return o;c=c.getChildContext();for(var d in c)if(!(d in r))throw Error(n(108,Me(t)||"Unknown",d));return oe({},o,c)}function nl(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Fr,Ii=Vt.current,qe(Vt,t),qe(qt,qt.current),!0}function df(t,r,o){var c=t.stateNode;if(!c)throw Error(n(169));o?(t=hf(t,r,Ii),c.__reactInternalMemoizedMergedChildContext=t,We(qt),We(Vt),qe(Vt,t)):We(qt),qe(qt,o)}var cr=null,rl=!1,oc=!1;function ff(t){cr===null?cr=[t]:cr.push(t)}function mv(t){rl=!0,ff(t)}function br(){if(!oc&&cr!==null){oc=!0;var t=0,r=Pe;try{var o=cr;for(Pe=1;t<o.length;t++){var c=o[t];do c=c(!0);while(c!==null)}cr=null,rl=!1}catch(d){throw cr!==null&&(cr=cr.slice(t+1)),ts(mi,br),d}finally{Pe=r,oc=!1}}return null}var Ss=[],Is=0,il=null,sl=0,dn=[],fn=0,Ri=null,hr=1,dr="";function Ai(t,r){Ss[Is++]=sl,Ss[Is++]=il,il=t,sl=r}function pf(t,r,o){dn[fn++]=hr,dn[fn++]=dr,dn[fn++]=Ri,Ri=t;var c=hr;t=dr;var d=32-bt(c)-1;c&=~(1<<d),o+=1;var p=32-bt(r)+d;if(30<p){var _=d-d%5;p=(c&(1<<_)-1).toString(32),c>>=_,d-=_,hr=1<<32-bt(r)+d|o<<d|c,dr=p+t}else hr=1<<p|o<<d|c,dr=t}function ac(t){t.return!==null&&(Ai(t,1),pf(t,1,0))}function lc(t){for(;t===il;)il=Ss[--Is],Ss[Is]=null,sl=Ss[--Is],Ss[Is]=null;for(;t===Ri;)Ri=dn[--fn],dn[fn]=null,dr=dn[--fn],dn[fn]=null,hr=dn[--fn],dn[fn]=null}var rn=null,sn=null,Ke=!1,kn=null;function mf(t,r){var o=yn(5,null,null,0);o.elementType="DELETED",o.stateNode=r,o.return=t,r=t.deletions,r===null?(t.deletions=[o],t.flags|=16):r.push(o)}function gf(t,r){switch(t.tag){case 5:var o=t.type;return r=r.nodeType!==1||o.toLowerCase()!==r.nodeName.toLowerCase()?null:r,r!==null?(t.stateNode=r,rn=t,sn=Or(r.firstChild),!0):!1;case 6:return r=t.pendingProps===""||r.nodeType!==3?null:r,r!==null?(t.stateNode=r,rn=t,sn=null,!0):!1;case 13:return r=r.nodeType!==8?null:r,r!==null?(o=Ri!==null?{id:hr,overflow:dr}:null,t.memoizedState={dehydrated:r,treeContext:o,retryLane:1073741824},o=yn(18,null,null,0),o.stateNode=r,o.return=t,t.child=o,rn=t,sn=null,!0):!1;default:return!1}}function uc(t){return(t.mode&1)!==0&&(t.flags&128)===0}function cc(t){if(Ke){var r=sn;if(r){var o=r;if(!gf(t,r)){if(uc(t))throw Error(n(418));r=Or(o.nextSibling);var c=rn;r&&gf(t,r)?mf(c,o):(t.flags=t.flags&-4097|2,Ke=!1,rn=t)}}else{if(uc(t))throw Error(n(418));t.flags=t.flags&-4097|2,Ke=!1,rn=t}}}function yf(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;rn=t}function ol(t){if(t!==rn)return!1;if(!Ke)return yf(t),Ke=!0,!1;var r;if((r=t.tag!==3)&&!(r=t.tag!==5)&&(r=t.type,r=r!=="head"&&r!=="body"&&!tc(t.type,t.memoizedProps)),r&&(r=sn)){if(uc(t))throw vf(),Error(n(418));for(;r;)mf(t,r),r=Or(r.nextSibling)}if(yf(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(n(317));e:{for(t=t.nextSibling,r=0;t;){if(t.nodeType===8){var o=t.data;if(o==="/$"){if(r===0){sn=Or(t.nextSibling);break e}r--}else o!=="$"&&o!=="$!"&&o!=="$?"||r++}t=t.nextSibling}sn=null}}else sn=rn?Or(t.stateNode.nextSibling):null;return!0}function vf(){for(var t=sn;t;)t=Or(t.nextSibling)}function Rs(){sn=rn=null,Ke=!1}function hc(t){kn===null?kn=[t]:kn.push(t)}var gv=ee.ReactCurrentBatchConfig;function Fo(t,r,o){if(t=o.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(o._owner){if(o=o._owner,o){if(o.tag!==1)throw Error(n(309));var c=o.stateNode}if(!c)throw Error(n(147,t));var d=c,p=""+t;return r!==null&&r.ref!==null&&typeof r.ref=="function"&&r.ref._stringRef===p?r.ref:(r=function(_){var S=d.refs;_===null?delete S[p]:S[p]=_},r._stringRef=p,r)}if(typeof t!="string")throw Error(n(284));if(!o._owner)throw Error(n(290,t))}return t}function al(t,r){throw t=Object.prototype.toString.call(r),Error(n(31,t==="[object Object]"?"object with keys {"+Object.keys(r).join(", ")+"}":t))}function _f(t){var r=t._init;return r(t._payload)}function Ef(t){function r(b,V){if(t){var U=b.deletions;U===null?(b.deletions=[V],b.flags|=16):U.push(V)}}function o(b,V){if(!t)return null;for(;V!==null;)r(b,V),V=V.sibling;return null}function c(b,V){for(b=new Map;V!==null;)V.key!==null?b.set(V.key,V):b.set(V.index,V),V=V.sibling;return b}function d(b,V){return b=Wr(b,V),b.index=0,b.sibling=null,b}function p(b,V,U){return b.index=U,t?(U=b.alternate,U!==null?(U=U.index,U<V?(b.flags|=2,V):U):(b.flags|=2,V)):(b.flags|=1048576,V)}function _(b){return t&&b.alternate===null&&(b.flags|=2),b}function S(b,V,U,Z){return V===null||V.tag!==6?(V=nh(U,b.mode,Z),V.return=b,V):(V=d(V,U),V.return=b,V)}function P(b,V,U,Z){var he=U.type;return he===k?G(b,V,U.props.children,Z,U.key):V!==null&&(V.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&_f(he)===V.type)?(Z=d(V,U.props),Z.ref=Fo(b,V,U),Z.return=b,Z):(Z=Vl(U.type,U.key,U.props,null,b.mode,Z),Z.ref=Fo(b,V,U),Z.return=b,Z)}function j(b,V,U,Z){return V===null||V.tag!==4||V.stateNode.containerInfo!==U.containerInfo||V.stateNode.implementation!==U.implementation?(V=rh(U,b.mode,Z),V.return=b,V):(V=d(V,U.children||[]),V.return=b,V)}function G(b,V,U,Z,he){return V===null||V.tag!==7?(V=Li(U,b.mode,Z,he),V.return=b,V):(V=d(V,U),V.return=b,V)}function J(b,V,U){if(typeof V=="string"&&V!==""||typeof V=="number")return V=nh(""+V,b.mode,U),V.return=b,V;if(typeof V=="object"&&V!==null){switch(V.$$typeof){case ve:return U=Vl(V.type,V.key,V.props,null,b.mode,U),U.ref=Fo(b,null,V),U.return=b,U;case _e:return V=rh(V,b.mode,U),V.return=b,V;case xt:var Z=V._init;return J(b,Z(V._payload),U)}if(er(V)||pe(V))return V=Li(V,b.mode,U,null),V.return=b,V;al(b,V)}return null}function K(b,V,U,Z){var he=V!==null?V.key:null;if(typeof U=="string"&&U!==""||typeof U=="number")return he!==null?null:S(b,V,""+U,Z);if(typeof U=="object"&&U!==null){switch(U.$$typeof){case ve:return U.key===he?P(b,V,U,Z):null;case _e:return U.key===he?j(b,V,U,Z):null;case xt:return he=U._init,K(b,V,he(U._payload),Z)}if(er(U)||pe(U))return he!==null?null:G(b,V,U,Z,null);al(b,U)}return null}function se(b,V,U,Z,he){if(typeof Z=="string"&&Z!==""||typeof Z=="number")return b=b.get(U)||null,S(V,b,""+Z,he);if(typeof Z=="object"&&Z!==null){switch(Z.$$typeof){case ve:return b=b.get(Z.key===null?U:Z.key)||null,P(V,b,Z,he);case _e:return b=b.get(Z.key===null?U:Z.key)||null,j(V,b,Z,he);case xt:var me=Z._init;return se(b,V,U,me(Z._payload),he)}if(er(Z)||pe(Z))return b=b.get(U)||null,G(V,b,Z,he,null);al(V,Z)}return null}function ue(b,V,U,Z){for(var he=null,me=null,ge=V,Ee=V=0,Et=null;ge!==null&&Ee<U.length;Ee++){ge.index>Ee?(Et=ge,ge=null):Et=ge.sibling;var Oe=K(b,ge,U[Ee],Z);if(Oe===null){ge===null&&(ge=Et);break}t&&ge&&Oe.alternate===null&&r(b,ge),V=p(Oe,V,Ee),me===null?he=Oe:me.sibling=Oe,me=Oe,ge=Et}if(Ee===U.length)return o(b,ge),Ke&&Ai(b,Ee),he;if(ge===null){for(;Ee<U.length;Ee++)ge=J(b,U[Ee],Z),ge!==null&&(V=p(ge,V,Ee),me===null?he=ge:me.sibling=ge,me=ge);return Ke&&Ai(b,Ee),he}for(ge=c(b,ge);Ee<U.length;Ee++)Et=se(ge,b,Ee,U[Ee],Z),Et!==null&&(t&&Et.alternate!==null&&ge.delete(Et.key===null?Ee:Et.key),V=p(Et,V,Ee),me===null?he=Et:me.sibling=Et,me=Et);return t&&ge.forEach(function(Qr){return r(b,Qr)}),Ke&&Ai(b,Ee),he}function ce(b,V,U,Z){var he=pe(U);if(typeof he!="function")throw Error(n(150));if(U=he.call(U),U==null)throw Error(n(151));for(var me=he=null,ge=V,Ee=V=0,Et=null,Oe=U.next();ge!==null&&!Oe.done;Ee++,Oe=U.next()){ge.index>Ee?(Et=ge,ge=null):Et=ge.sibling;var Qr=K(b,ge,Oe.value,Z);if(Qr===null){ge===null&&(ge=Et);break}t&&ge&&Qr.alternate===null&&r(b,ge),V=p(Qr,V,Ee),me===null?he=Qr:me.sibling=Qr,me=Qr,ge=Et}if(Oe.done)return o(b,ge),Ke&&Ai(b,Ee),he;if(ge===null){for(;!Oe.done;Ee++,Oe=U.next())Oe=J(b,Oe.value,Z),Oe!==null&&(V=p(Oe,V,Ee),me===null?he=Oe:me.sibling=Oe,me=Oe);return Ke&&Ai(b,Ee),he}for(ge=c(b,ge);!Oe.done;Ee++,Oe=U.next())Oe=se(ge,b,Ee,Oe.value,Z),Oe!==null&&(t&&Oe.alternate!==null&&ge.delete(Oe.key===null?Ee:Oe.key),V=p(Oe,V,Ee),me===null?he=Oe:me.sibling=Oe,me=Oe);return t&&ge.forEach(function(Gv){return r(b,Gv)}),Ke&&Ai(b,Ee),he}function rt(b,V,U,Z){if(typeof U=="object"&&U!==null&&U.type===k&&U.key===null&&(U=U.props.children),typeof U=="object"&&U!==null){switch(U.$$typeof){case ve:e:{for(var he=U.key,me=V;me!==null;){if(me.key===he){if(he=U.type,he===k){if(me.tag===7){o(b,me.sibling),V=d(me,U.props.children),V.return=b,b=V;break e}}else if(me.elementType===he||typeof he=="object"&&he!==null&&he.$$typeof===xt&&_f(he)===me.type){o(b,me.sibling),V=d(me,U.props),V.ref=Fo(b,me,U),V.return=b,b=V;break e}o(b,me);break}else r(b,me);me=me.sibling}U.type===k?(V=Li(U.props.children,b.mode,Z,U.key),V.return=b,b=V):(Z=Vl(U.type,U.key,U.props,null,b.mode,Z),Z.ref=Fo(b,V,U),Z.return=b,b=Z)}return _(b);case _e:e:{for(me=U.key;V!==null;){if(V.key===me)if(V.tag===4&&V.stateNode.containerInfo===U.containerInfo&&V.stateNode.implementation===U.implementation){o(b,V.sibling),V=d(V,U.children||[]),V.return=b,b=V;break e}else{o(b,V);break}else r(b,V);V=V.sibling}V=rh(U,b.mode,Z),V.return=b,b=V}return _(b);case xt:return me=U._init,rt(b,V,me(U._payload),Z)}if(er(U))return ue(b,V,U,Z);if(pe(U))return ce(b,V,U,Z);al(b,U)}return typeof U=="string"&&U!==""||typeof U=="number"?(U=""+U,V!==null&&V.tag===6?(o(b,V.sibling),V=d(V,U),V.return=b,b=V):(o(b,V),V=nh(U,b.mode,Z),V.return=b,b=V),_(b)):o(b,V)}return rt}var As=Ef(!0),wf=Ef(!1),ll=Mr(null),ul=null,Cs=null,dc=null;function fc(){dc=Cs=ul=null}function pc(t){var r=ll.current;We(ll),t._currentValue=r}function mc(t,r,o){for(;t!==null;){var c=t.alternate;if((t.childLanes&r)!==r?(t.childLanes|=r,c!==null&&(c.childLanes|=r)):c!==null&&(c.childLanes&r)!==r&&(c.childLanes|=r),t===o)break;t=t.return}}function Ps(t,r){ul=t,dc=Cs=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&r&&(Wt=!0),t.firstContext=null)}function pn(t){var r=t._currentValue;if(dc!==t)if(t={context:t,memoizedValue:r,next:null},Cs===null){if(ul===null)throw Error(n(308));Cs=t,ul.dependencies={lanes:0,firstContext:t}}else Cs=Cs.next=t;return r}var Ci=null;function gc(t){Ci===null?Ci=[t]:Ci.push(t)}function Tf(t,r,o,c){var d=r.interleaved;return d===null?(o.next=o,gc(r)):(o.next=d.next,d.next=o),r.interleaved=o,fr(t,c)}function fr(t,r){t.lanes|=r;var o=t.alternate;for(o!==null&&(o.lanes|=r),o=t,t=t.return;t!==null;)t.childLanes|=r,o=t.alternate,o!==null&&(o.childLanes|=r),o=t,t=t.return;return o.tag===3?o.stateNode:null}var Ur=!1;function yc(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Sf(t,r){t=t.updateQueue,r.updateQueue===t&&(r.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function pr(t,r){return{eventTime:t,lane:r,tag:0,payload:null,callback:null,next:null}}function zr(t,r,o){var c=t.updateQueue;if(c===null)return null;if(c=c.shared,Le&2){var d=c.pending;return d===null?r.next=r:(r.next=d.next,d.next=r),c.pending=r,fr(t,o)}return d=c.interleaved,d===null?(r.next=r,gc(c)):(r.next=d.next,d.next=r),c.interleaved=r,fr(t,o)}function cl(t,r,o){if(r=r.updateQueue,r!==null&&(r=r.shared,(o&4194240)!==0)){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,kr(t,o)}}function If(t,r){var o=t.updateQueue,c=t.alternate;if(c!==null&&(c=c.updateQueue,o===c)){var d=null,p=null;if(o=o.firstBaseUpdate,o!==null){do{var _={eventTime:o.eventTime,lane:o.lane,tag:o.tag,payload:o.payload,callback:o.callback,next:null};p===null?d=p=_:p=p.next=_,o=o.next}while(o!==null);p===null?d=p=r:p=p.next=r}else d=p=r;o={baseState:c.baseState,firstBaseUpdate:d,lastBaseUpdate:p,shared:c.shared,effects:c.effects},t.updateQueue=o;return}t=o.lastBaseUpdate,t===null?o.firstBaseUpdate=r:t.next=r,o.lastBaseUpdate=r}function hl(t,r,o,c){var d=t.updateQueue;Ur=!1;var p=d.firstBaseUpdate,_=d.lastBaseUpdate,S=d.shared.pending;if(S!==null){d.shared.pending=null;var P=S,j=P.next;P.next=null,_===null?p=j:_.next=j,_=P;var G=t.alternate;G!==null&&(G=G.updateQueue,S=G.lastBaseUpdate,S!==_&&(S===null?G.firstBaseUpdate=j:S.next=j,G.lastBaseUpdate=P))}if(p!==null){var J=d.baseState;_=0,G=j=P=null,S=p;do{var K=S.lane,se=S.eventTime;if((c&K)===K){G!==null&&(G=G.next={eventTime:se,lane:0,tag:S.tag,payload:S.payload,callback:S.callback,next:null});e:{var ue=t,ce=S;switch(K=r,se=o,ce.tag){case 1:if(ue=ce.payload,typeof ue=="function"){J=ue.call(se,J,K);break e}J=ue;break e;case 3:ue.flags=ue.flags&-65537|128;case 0:if(ue=ce.payload,K=typeof ue=="function"?ue.call(se,J,K):ue,K==null)break e;J=oe({},J,K);break e;case 2:Ur=!0}}S.callback!==null&&S.lane!==0&&(t.flags|=64,K=d.effects,K===null?d.effects=[S]:K.push(S))}else se={eventTime:se,lane:K,tag:S.tag,payload:S.payload,callback:S.callback,next:null},G===null?(j=G=se,P=J):G=G.next=se,_|=K;if(S=S.next,S===null){if(S=d.shared.pending,S===null)break;K=S,S=K.next,K.next=null,d.lastBaseUpdate=K,d.shared.pending=null}}while(!0);if(G===null&&(P=J),d.baseState=P,d.firstBaseUpdate=j,d.lastBaseUpdate=G,r=d.shared.interleaved,r!==null){d=r;do _|=d.lane,d=d.next;while(d!==r)}else p===null&&(d.shared.lanes=0);xi|=_,t.lanes=_,t.memoizedState=J}}function Rf(t,r,o){if(t=r.effects,r.effects=null,t!==null)for(r=0;r<t.length;r++){var c=t[r],d=c.callback;if(d!==null){if(c.callback=null,c=o,typeof d!="function")throw Error(n(191,d));d.call(c)}}}var bo={},Hn=Mr(bo),Uo=Mr(bo),zo=Mr(bo);function Pi(t){if(t===bo)throw Error(n(174));return t}function vc(t,r){switch(qe(zo,r),qe(Uo,t),qe(Hn,bo),t=r.nodeType,t){case 9:case 11:r=(r=r.documentElement)?r.namespaceURI:ut(null,"");break;default:t=t===8?r.parentNode:r,r=t.namespaceURI||null,t=t.tagName,r=ut(r,t)}We(Hn),qe(Hn,r)}function ks(){We(Hn),We(Uo),We(zo)}function Af(t){Pi(zo.current);var r=Pi(Hn.current),o=ut(r,t.type);r!==o&&(qe(Uo,t),qe(Hn,o))}function _c(t){Uo.current===t&&(We(Hn),We(Uo))}var Ye=Mr(0);function dl(t){for(var r=t;r!==null;){if(r.tag===13){var o=r.memoizedState;if(o!==null&&(o=o.dehydrated,o===null||o.data==="$?"||o.data==="$!"))return r}else if(r.tag===19&&r.memoizedProps.revealOrder!==void 0){if(r.flags&128)return r}else if(r.child!==null){r.child.return=r,r=r.child;continue}if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return null;r=r.return}r.sibling.return=r.return,r=r.sibling}return null}var Ec=[];function wc(){for(var t=0;t<Ec.length;t++)Ec[t]._workInProgressVersionPrimary=null;Ec.length=0}var fl=ee.ReactCurrentDispatcher,Tc=ee.ReactCurrentBatchConfig,ki=0,Je=null,ht=null,vt=null,pl=!1,jo=!1,Bo=0,yv=0;function Nt(){throw Error(n(321))}function Sc(t,r){if(r===null)return!1;for(var o=0;o<r.length&&o<t.length;o++)if(!Pn(t[o],r[o]))return!1;return!0}function Ic(t,r,o,c,d,p){if(ki=p,Je=r,r.memoizedState=null,r.updateQueue=null,r.lanes=0,fl.current=t===null||t.memoizedState===null?wv:Tv,t=o(c,d),jo){p=0;do{if(jo=!1,Bo=0,25<=p)throw Error(n(301));p+=1,vt=ht=null,r.updateQueue=null,fl.current=Sv,t=o(c,d)}while(jo)}if(fl.current=yl,r=ht!==null&&ht.next!==null,ki=0,vt=ht=Je=null,pl=!1,r)throw Error(n(300));return t}function Rc(){var t=Bo!==0;return Bo=0,t}function Wn(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return vt===null?Je.memoizedState=vt=t:vt=vt.next=t,vt}function mn(){if(ht===null){var t=Je.alternate;t=t!==null?t.memoizedState:null}else t=ht.next;var r=vt===null?Je.memoizedState:vt.next;if(r!==null)vt=r,ht=t;else{if(t===null)throw Error(n(310));ht=t,t={memoizedState:ht.memoizedState,baseState:ht.baseState,baseQueue:ht.baseQueue,queue:ht.queue,next:null},vt===null?Je.memoizedState=vt=t:vt=vt.next=t}return vt}function $o(t,r){return typeof r=="function"?r(t):r}function Ac(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=ht,d=c.baseQueue,p=o.pending;if(p!==null){if(d!==null){var _=d.next;d.next=p.next,p.next=_}c.baseQueue=d=p,o.pending=null}if(d!==null){p=d.next,c=c.baseState;var S=_=null,P=null,j=p;do{var G=j.lane;if((ki&G)===G)P!==null&&(P=P.next={lane:0,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null}),c=j.hasEagerState?j.eagerState:t(c,j.action);else{var J={lane:G,action:j.action,hasEagerState:j.hasEagerState,eagerState:j.eagerState,next:null};P===null?(S=P=J,_=c):P=P.next=J,Je.lanes|=G,xi|=G}j=j.next}while(j!==null&&j!==p);P===null?_=c:P.next=S,Pn(c,r.memoizedState)||(Wt=!0),r.memoizedState=c,r.baseState=_,r.baseQueue=P,o.lastRenderedState=c}if(t=o.interleaved,t!==null){d=t;do p=d.lane,Je.lanes|=p,xi|=p,d=d.next;while(d!==t)}else d===null&&(o.lanes=0);return[r.memoizedState,o.dispatch]}function Cc(t){var r=mn(),o=r.queue;if(o===null)throw Error(n(311));o.lastRenderedReducer=t;var c=o.dispatch,d=o.pending,p=r.memoizedState;if(d!==null){o.pending=null;var _=d=d.next;do p=t(p,_.action),_=_.next;while(_!==d);Pn(p,r.memoizedState)||(Wt=!0),r.memoizedState=p,r.baseQueue===null&&(r.baseState=p),o.lastRenderedState=p}return[p,c]}function Cf(){}function Pf(t,r){var o=Je,c=mn(),d=r(),p=!Pn(c.memoizedState,d);if(p&&(c.memoizedState=d,Wt=!0),c=c.queue,Pc(Vf.bind(null,o,c,t),[t]),c.getSnapshot!==r||p||vt!==null&&vt.memoizedState.tag&1){if(o.flags|=2048,qo(9,xf.bind(null,o,c,d,r),void 0,null),_t===null)throw Error(n(349));ki&30||kf(o,r,d)}return d}function kf(t,r,o){t.flags|=16384,t={getSnapshot:r,value:o},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.stores=[t]):(o=r.stores,o===null?r.stores=[t]:o.push(t))}function xf(t,r,o,c){r.value=o,r.getSnapshot=c,Nf(r)&&Df(t)}function Vf(t,r,o){return o(function(){Nf(r)&&Df(t)})}function Nf(t){var r=t.getSnapshot;t=t.value;try{var o=r();return!Pn(t,o)}catch{return!0}}function Df(t){var r=fr(t,1);r!==null&&Dn(r,t,1,-1)}function Lf(t){var r=Wn();return typeof t=="function"&&(t=t()),r.memoizedState=r.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:$o,lastRenderedState:t},r.queue=t,t=t.dispatch=Ev.bind(null,Je,t),[r.memoizedState,t]}function qo(t,r,o,c){return t={tag:t,create:r,destroy:o,deps:c,next:null},r=Je.updateQueue,r===null?(r={lastEffect:null,stores:null},Je.updateQueue=r,r.lastEffect=t.next=t):(o=r.lastEffect,o===null?r.lastEffect=t.next=t:(c=o.next,o.next=t,t.next=c,r.lastEffect=t)),t}function Of(){return mn().memoizedState}function ml(t,r,o,c){var d=Wn();Je.flags|=t,d.memoizedState=qo(1|r,o,void 0,c===void 0?null:c)}function gl(t,r,o,c){var d=mn();c=c===void 0?null:c;var p=void 0;if(ht!==null){var _=ht.memoizedState;if(p=_.destroy,c!==null&&Sc(c,_.deps)){d.memoizedState=qo(r,o,p,c);return}}Je.flags|=t,d.memoizedState=qo(1|r,o,p,c)}function Mf(t,r){return ml(8390656,8,t,r)}function Pc(t,r){return gl(2048,8,t,r)}function Ff(t,r){return gl(4,2,t,r)}function bf(t,r){return gl(4,4,t,r)}function Uf(t,r){if(typeof r=="function")return t=t(),r(t),function(){r(null)};if(r!=null)return t=t(),r.current=t,function(){r.current=null}}function zf(t,r,o){return o=o!=null?o.concat([t]):null,gl(4,4,Uf.bind(null,r,t),o)}function kc(){}function jf(t,r){var o=mn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Sc(r,c[1])?c[0]:(o.memoizedState=[t,r],t)}function Bf(t,r){var o=mn();r=r===void 0?null:r;var c=o.memoizedState;return c!==null&&r!==null&&Sc(r,c[1])?c[0]:(t=t(),o.memoizedState=[t,r],t)}function $f(t,r,o){return ki&21?(Pn(o,r)||(o=vi(),Je.lanes|=o,xi|=o,t.baseState=!0),r):(t.baseState&&(t.baseState=!1,Wt=!0),t.memoizedState=o)}function vv(t,r){var o=Pe;Pe=o!==0&&4>o?o:4,t(!0);var c=Tc.transition;Tc.transition={};try{t(!1),r()}finally{Pe=o,Tc.transition=c}}function qf(){return mn().memoizedState}function _v(t,r,o){var c=qr(t);if(o={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null},Hf(t))Wf(r,o);else if(o=Tf(t,r,o,c),o!==null){var d=jt();Dn(o,t,c,d),Qf(o,r,c)}}function Ev(t,r,o){var c=qr(t),d={lane:c,action:o,hasEagerState:!1,eagerState:null,next:null};if(Hf(t))Wf(r,d);else{var p=t.alternate;if(t.lanes===0&&(p===null||p.lanes===0)&&(p=r.lastRenderedReducer,p!==null))try{var _=r.lastRenderedState,S=p(_,o);if(d.hasEagerState=!0,d.eagerState=S,Pn(S,_)){var P=r.interleaved;P===null?(d.next=d,gc(r)):(d.next=P.next,P.next=d),r.interleaved=d;return}}catch{}finally{}o=Tf(t,r,d,c),o!==null&&(d=jt(),Dn(o,t,c,d),Qf(o,r,c))}}function Hf(t){var r=t.alternate;return t===Je||r!==null&&r===Je}function Wf(t,r){jo=pl=!0;var o=t.pending;o===null?r.next=r:(r.next=o.next,o.next=r),t.pending=r}function Qf(t,r,o){if(o&4194240){var c=r.lanes;c&=t.pendingLanes,o|=c,r.lanes=o,kr(t,o)}}var yl={readContext:pn,useCallback:Nt,useContext:Nt,useEffect:Nt,useImperativeHandle:Nt,useInsertionEffect:Nt,useLayoutEffect:Nt,useMemo:Nt,useReducer:Nt,useRef:Nt,useState:Nt,useDebugValue:Nt,useDeferredValue:Nt,useTransition:Nt,useMutableSource:Nt,useSyncExternalStore:Nt,useId:Nt,unstable_isNewReconciler:!1},wv={readContext:pn,useCallback:function(t,r){return Wn().memoizedState=[t,r===void 0?null:r],t},useContext:pn,useEffect:Mf,useImperativeHandle:function(t,r,o){return o=o!=null?o.concat([t]):null,ml(4194308,4,Uf.bind(null,r,t),o)},useLayoutEffect:function(t,r){return ml(4194308,4,t,r)},useInsertionEffect:function(t,r){return ml(4,2,t,r)},useMemo:function(t,r){var o=Wn();return r=r===void 0?null:r,t=t(),o.memoizedState=[t,r],t},useReducer:function(t,r,o){var c=Wn();return r=o!==void 0?o(r):r,c.memoizedState=c.baseState=r,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:r},c.queue=t,t=t.dispatch=_v.bind(null,Je,t),[c.memoizedState,t]},useRef:function(t){var r=Wn();return t={current:t},r.memoizedState=t},useState:Lf,useDebugValue:kc,useDeferredValue:function(t){return Wn().memoizedState=t},useTransition:function(){var t=Lf(!1),r=t[0];return t=vv.bind(null,t[1]),Wn().memoizedState=t,[r,t]},useMutableSource:function(){},useSyncExternalStore:function(t,r,o){var c=Je,d=Wn();if(Ke){if(o===void 0)throw Error(n(407));o=o()}else{if(o=r(),_t===null)throw Error(n(349));ki&30||kf(c,r,o)}d.memoizedState=o;var p={value:o,getSnapshot:r};return d.queue=p,Mf(Vf.bind(null,c,p,t),[t]),c.flags|=2048,qo(9,xf.bind(null,c,p,o,r),void 0,null),o},useId:function(){var t=Wn(),r=_t.identifierPrefix;if(Ke){var o=dr,c=hr;o=(c&~(1<<32-bt(c)-1)).toString(32)+o,r=":"+r+"R"+o,o=Bo++,0<o&&(r+="H"+o.toString(32)),r+=":"}else o=yv++,r=":"+r+"r"+o.toString(32)+":";return t.memoizedState=r},unstable_isNewReconciler:!1},Tv={readContext:pn,useCallback:jf,useContext:pn,useEffect:Pc,useImperativeHandle:zf,useInsertionEffect:Ff,useLayoutEffect:bf,useMemo:Bf,useReducer:Ac,useRef:Of,useState:function(){return Ac($o)},useDebugValue:kc,useDeferredValue:function(t){var r=mn();return $f(r,ht.memoizedState,t)},useTransition:function(){var t=Ac($o)[0],r=mn().memoizedState;return[t,r]},useMutableSource:Cf,useSyncExternalStore:Pf,useId:qf,unstable_isNewReconciler:!1},Sv={readContext:pn,useCallback:jf,useContext:pn,useEffect:Pc,useImperativeHandle:zf,useInsertionEffect:Ff,useLayoutEffect:bf,useMemo:Bf,useReducer:Cc,useRef:Of,useState:function(){return Cc($o)},useDebugValue:kc,useDeferredValue:function(t){var r=mn();return ht===null?r.memoizedState=t:$f(r,ht.memoizedState,t)},useTransition:function(){var t=Cc($o)[0],r=mn().memoizedState;return[t,r]},useMutableSource:Cf,useSyncExternalStore:Pf,useId:qf,unstable_isNewReconciler:!1};function xn(t,r){if(t&&t.defaultProps){r=oe({},r),t=t.defaultProps;for(var o in t)r[o]===void 0&&(r[o]=t[o]);return r}return r}function xc(t,r,o,c){r=t.memoizedState,o=o(c,r),o=o==null?r:oe({},r,o),t.memoizedState=o,t.lanes===0&&(t.updateQueue.baseState=o)}var vl={isMounted:function(t){return(t=t._reactInternals)?wn(t)===t:!1},enqueueSetState:function(t,r,o){t=t._reactInternals;var c=jt(),d=qr(t),p=pr(c,d);p.payload=r,o!=null&&(p.callback=o),r=zr(t,p,d),r!==null&&(Dn(r,t,d,c),cl(r,t,d))},enqueueReplaceState:function(t,r,o){t=t._reactInternals;var c=jt(),d=qr(t),p=pr(c,d);p.tag=1,p.payload=r,o!=null&&(p.callback=o),r=zr(t,p,d),r!==null&&(Dn(r,t,d,c),cl(r,t,d))},enqueueForceUpdate:function(t,r){t=t._reactInternals;var o=jt(),c=qr(t),d=pr(o,c);d.tag=2,r!=null&&(d.callback=r),r=zr(t,d,c),r!==null&&(Dn(r,t,c,o),cl(r,t,c))}};function Kf(t,r,o,c,d,p,_){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(c,p,_):r.prototype&&r.prototype.isPureReactComponent?!xo(o,c)||!xo(d,p):!0}function Gf(t,r,o){var c=!1,d=Fr,p=r.contextType;return typeof p=="object"&&p!==null?p=pn(p):(d=Ht(r)?Ii:Vt.current,c=r.contextTypes,p=(c=c!=null)?Ts(t,d):Fr),r=new r(o,p),t.memoizedState=r.state!==null&&r.state!==void 0?r.state:null,r.updater=vl,t.stateNode=r,r._reactInternals=t,c&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=d,t.__reactInternalMemoizedMaskedChildContext=p),r}function Xf(t,r,o,c){t=r.state,typeof r.componentWillReceiveProps=="function"&&r.componentWillReceiveProps(o,c),typeof r.UNSAFE_componentWillReceiveProps=="function"&&r.UNSAFE_componentWillReceiveProps(o,c),r.state!==t&&vl.enqueueReplaceState(r,r.state,null)}function Vc(t,r,o,c){var d=t.stateNode;d.props=o,d.state=t.memoizedState,d.refs={},yc(t);var p=r.contextType;typeof p=="object"&&p!==null?d.context=pn(p):(p=Ht(r)?Ii:Vt.current,d.context=Ts(t,p)),d.state=t.memoizedState,p=r.getDerivedStateFromProps,typeof p=="function"&&(xc(t,r,p,o),d.state=t.memoizedState),typeof r.getDerivedStateFromProps=="function"||typeof d.getSnapshotBeforeUpdate=="function"||typeof d.UNSAFE_componentWillMount!="function"&&typeof d.componentWillMount!="function"||(r=d.state,typeof d.componentWillMount=="function"&&d.componentWillMount(),typeof d.UNSAFE_componentWillMount=="function"&&d.UNSAFE_componentWillMount(),r!==d.state&&vl.enqueueReplaceState(d,d.state,null),hl(t,o,d,c),d.state=t.memoizedState),typeof d.componentDidMount=="function"&&(t.flags|=4194308)}function xs(t,r){try{var o="",c=r;do o+=Re(c),c=c.return;while(c);var d=o}catch(p){d=`
Error generating stack: `+p.message+`
`+p.stack}return{value:t,source:r,stack:d,digest:null}}function Nc(t,r,o){return{value:t,source:null,stack:o??null,digest:r??null}}function Dc(t,r){try{console.error(r.value)}catch(o){setTimeout(function(){throw o})}}var Iv=typeof WeakMap=="function"?WeakMap:Map;function Yf(t,r,o){o=pr(-1,o),o.tag=3,o.payload={element:null};var c=r.value;return o.callback=function(){Rl||(Rl=!0,Kc=c),Dc(t,r)},o}function Jf(t,r,o){o=pr(-1,o),o.tag=3;var c=t.type.getDerivedStateFromError;if(typeof c=="function"){var d=r.value;o.payload=function(){return c(d)},o.callback=function(){Dc(t,r)}}var p=t.stateNode;return p!==null&&typeof p.componentDidCatch=="function"&&(o.callback=function(){Dc(t,r),typeof c!="function"&&(Br===null?Br=new Set([this]):Br.add(this));var _=r.stack;this.componentDidCatch(r.value,{componentStack:_!==null?_:""})}),o}function Zf(t,r,o){var c=t.pingCache;if(c===null){c=t.pingCache=new Iv;var d=new Set;c.set(r,d)}else d=c.get(r),d===void 0&&(d=new Set,c.set(r,d));d.has(o)||(d.add(o),t=bv.bind(null,t,r,o),r.then(t,t))}function ep(t){do{var r;if((r=t.tag===13)&&(r=t.memoizedState,r=r!==null?r.dehydrated!==null:!0),r)return t;t=t.return}while(t!==null);return null}function tp(t,r,o,c,d){return t.mode&1?(t.flags|=65536,t.lanes=d,t):(t===r?t.flags|=65536:(t.flags|=128,o.flags|=131072,o.flags&=-52805,o.tag===1&&(o.alternate===null?o.tag=17:(r=pr(-1,1),r.tag=2,zr(o,r,1))),o.lanes|=1),t)}var Rv=ee.ReactCurrentOwner,Wt=!1;function zt(t,r,o,c){r.child=t===null?wf(r,null,o,c):As(r,t.child,o,c)}function np(t,r,o,c,d){o=o.render;var p=r.ref;return Ps(r,d),c=Ic(t,r,o,c,p,d),o=Rc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,mr(t,r,d)):(Ke&&o&&ac(r),r.flags|=1,zt(t,r,c,d),r.child)}function rp(t,r,o,c,d){if(t===null){var p=o.type;return typeof p=="function"&&!th(p)&&p.defaultProps===void 0&&o.compare===null&&o.defaultProps===void 0?(r.tag=15,r.type=p,ip(t,r,p,c,d)):(t=Vl(o.type,null,c,r,r.mode,d),t.ref=r.ref,t.return=r,r.child=t)}if(p=t.child,!(t.lanes&d)){var _=p.memoizedProps;if(o=o.compare,o=o!==null?o:xo,o(_,c)&&t.ref===r.ref)return mr(t,r,d)}return r.flags|=1,t=Wr(p,c),t.ref=r.ref,t.return=r,r.child=t}function ip(t,r,o,c,d){if(t!==null){var p=t.memoizedProps;if(xo(p,c)&&t.ref===r.ref)if(Wt=!1,r.pendingProps=c=p,(t.lanes&d)!==0)t.flags&131072&&(Wt=!0);else return r.lanes=t.lanes,mr(t,r,d)}return Lc(t,r,o,c,d)}function sp(t,r,o){var c=r.pendingProps,d=c.children,p=t!==null?t.memoizedState:null;if(c.mode==="hidden")if(!(r.mode&1))r.memoizedState={baseLanes:0,cachePool:null,transitions:null},qe(Ns,on),on|=o;else{if(!(o&1073741824))return t=p!==null?p.baseLanes|o:o,r.lanes=r.childLanes=1073741824,r.memoizedState={baseLanes:t,cachePool:null,transitions:null},r.updateQueue=null,qe(Ns,on),on|=t,null;r.memoizedState={baseLanes:0,cachePool:null,transitions:null},c=p!==null?p.baseLanes:o,qe(Ns,on),on|=c}else p!==null?(c=p.baseLanes|o,r.memoizedState=null):c=o,qe(Ns,on),on|=c;return zt(t,r,d,o),r.child}function op(t,r){var o=r.ref;(t===null&&o!==null||t!==null&&t.ref!==o)&&(r.flags|=512,r.flags|=2097152)}function Lc(t,r,o,c,d){var p=Ht(o)?Ii:Vt.current;return p=Ts(r,p),Ps(r,d),o=Ic(t,r,o,c,p,d),c=Rc(),t!==null&&!Wt?(r.updateQueue=t.updateQueue,r.flags&=-2053,t.lanes&=~d,mr(t,r,d)):(Ke&&c&&ac(r),r.flags|=1,zt(t,r,o,d),r.child)}function ap(t,r,o,c,d){if(Ht(o)){var p=!0;nl(r)}else p=!1;if(Ps(r,d),r.stateNode===null)El(t,r),Gf(r,o,c),Vc(r,o,c,d),c=!0;else if(t===null){var _=r.stateNode,S=r.memoizedProps;_.props=S;var P=_.context,j=o.contextType;typeof j=="object"&&j!==null?j=pn(j):(j=Ht(o)?Ii:Vt.current,j=Ts(r,j));var G=o.getDerivedStateFromProps,J=typeof G=="function"||typeof _.getSnapshotBeforeUpdate=="function";J||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==c||P!==j)&&Xf(r,_,c,j),Ur=!1;var K=r.memoizedState;_.state=K,hl(r,c,_,d),P=r.memoizedState,S!==c||K!==P||qt.current||Ur?(typeof G=="function"&&(xc(r,o,G,c),P=r.memoizedState),(S=Ur||Kf(r,o,S,c,K,P,j))?(J||typeof _.UNSAFE_componentWillMount!="function"&&typeof _.componentWillMount!="function"||(typeof _.componentWillMount=="function"&&_.componentWillMount(),typeof _.UNSAFE_componentWillMount=="function"&&_.UNSAFE_componentWillMount()),typeof _.componentDidMount=="function"&&(r.flags|=4194308)):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),r.memoizedProps=c,r.memoizedState=P),_.props=c,_.state=P,_.context=j,c=S):(typeof _.componentDidMount=="function"&&(r.flags|=4194308),c=!1)}else{_=r.stateNode,Sf(t,r),S=r.memoizedProps,j=r.type===r.elementType?S:xn(r.type,S),_.props=j,J=r.pendingProps,K=_.context,P=o.contextType,typeof P=="object"&&P!==null?P=pn(P):(P=Ht(o)?Ii:Vt.current,P=Ts(r,P));var se=o.getDerivedStateFromProps;(G=typeof se=="function"||typeof _.getSnapshotBeforeUpdate=="function")||typeof _.UNSAFE_componentWillReceiveProps!="function"&&typeof _.componentWillReceiveProps!="function"||(S!==J||K!==P)&&Xf(r,_,c,P),Ur=!1,K=r.memoizedState,_.state=K,hl(r,c,_,d);var ue=r.memoizedState;S!==J||K!==ue||qt.current||Ur?(typeof se=="function"&&(xc(r,o,se,c),ue=r.memoizedState),(j=Ur||Kf(r,o,j,c,K,ue,P)||!1)?(G||typeof _.UNSAFE_componentWillUpdate!="function"&&typeof _.componentWillUpdate!="function"||(typeof _.componentWillUpdate=="function"&&_.componentWillUpdate(c,ue,P),typeof _.UNSAFE_componentWillUpdate=="function"&&_.UNSAFE_componentWillUpdate(c,ue,P)),typeof _.componentDidUpdate=="function"&&(r.flags|=4),typeof _.getSnapshotBeforeUpdate=="function"&&(r.flags|=1024)):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),r.memoizedProps=c,r.memoizedState=ue),_.props=c,_.state=ue,_.context=P,c=j):(typeof _.componentDidUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=4),typeof _.getSnapshotBeforeUpdate!="function"||S===t.memoizedProps&&K===t.memoizedState||(r.flags|=1024),c=!1)}return Oc(t,r,o,c,p,d)}function Oc(t,r,o,c,d,p){op(t,r);var _=(r.flags&128)!==0;if(!c&&!_)return d&&df(r,o,!1),mr(t,r,p);c=r.stateNode,Rv.current=r;var S=_&&typeof o.getDerivedStateFromError!="function"?null:c.render();return r.flags|=1,t!==null&&_?(r.child=As(r,t.child,null,p),r.child=As(r,null,S,p)):zt(t,r,S,p),r.memoizedState=c.state,d&&df(r,o,!0),r.child}function lp(t){var r=t.stateNode;r.pendingContext?cf(t,r.pendingContext,r.pendingContext!==r.context):r.context&&cf(t,r.context,!1),vc(t,r.containerInfo)}function up(t,r,o,c,d){return Rs(),hc(d),r.flags|=256,zt(t,r,o,c),r.child}var Mc={dehydrated:null,treeContext:null,retryLane:0};function Fc(t){return{baseLanes:t,cachePool:null,transitions:null}}function cp(t,r,o){var c=r.pendingProps,d=Ye.current,p=!1,_=(r.flags&128)!==0,S;if((S=_)||(S=t!==null&&t.memoizedState===null?!1:(d&2)!==0),S?(p=!0,r.flags&=-129):(t===null||t.memoizedState!==null)&&(d|=1),qe(Ye,d&1),t===null)return cc(r),t=r.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(r.mode&1?t.data==="$!"?r.lanes=8:r.lanes=1073741824:r.lanes=1,null):(_=c.children,t=c.fallback,p?(c=r.mode,p=r.child,_={mode:"hidden",children:_},!(c&1)&&p!==null?(p.childLanes=0,p.pendingProps=_):p=Nl(_,c,0,null),t=Li(t,c,o,null),p.return=r,t.return=r,p.sibling=t,r.child=p,r.child.memoizedState=Fc(o),r.memoizedState=Mc,t):bc(r,_));if(d=t.memoizedState,d!==null&&(S=d.dehydrated,S!==null))return Av(t,r,_,c,S,d,o);if(p){p=c.fallback,_=r.mode,d=t.child,S=d.sibling;var P={mode:"hidden",children:c.children};return!(_&1)&&r.child!==d?(c=r.child,c.childLanes=0,c.pendingProps=P,r.deletions=null):(c=Wr(d,P),c.subtreeFlags=d.subtreeFlags&14680064),S!==null?p=Wr(S,p):(p=Li(p,_,o,null),p.flags|=2),p.return=r,c.return=r,c.sibling=p,r.child=c,c=p,p=r.child,_=t.child.memoizedState,_=_===null?Fc(o):{baseLanes:_.baseLanes|o,cachePool:null,transitions:_.transitions},p.memoizedState=_,p.childLanes=t.childLanes&~o,r.memoizedState=Mc,c}return p=t.child,t=p.sibling,c=Wr(p,{mode:"visible",children:c.children}),!(r.mode&1)&&(c.lanes=o),c.return=r,c.sibling=null,t!==null&&(o=r.deletions,o===null?(r.deletions=[t],r.flags|=16):o.push(t)),r.child=c,r.memoizedState=null,c}function bc(t,r){return r=Nl({mode:"visible",children:r},t.mode,0,null),r.return=t,t.child=r}function _l(t,r,o,c){return c!==null&&hc(c),As(r,t.child,null,o),t=bc(r,r.pendingProps.children),t.flags|=2,r.memoizedState=null,t}function Av(t,r,o,c,d,p,_){if(o)return r.flags&256?(r.flags&=-257,c=Nc(Error(n(422))),_l(t,r,_,c)):r.memoizedState!==null?(r.child=t.child,r.flags|=128,null):(p=c.fallback,d=r.mode,c=Nl({mode:"visible",children:c.children},d,0,null),p=Li(p,d,_,null),p.flags|=2,c.return=r,p.return=r,c.sibling=p,r.child=c,r.mode&1&&As(r,t.child,null,_),r.child.memoizedState=Fc(_),r.memoizedState=Mc,p);if(!(r.mode&1))return _l(t,r,_,null);if(d.data==="$!"){if(c=d.nextSibling&&d.nextSibling.dataset,c)var S=c.dgst;return c=S,p=Error(n(419)),c=Nc(p,c,void 0),_l(t,r,_,c)}if(S=(_&t.childLanes)!==0,Wt||S){if(c=_t,c!==null){switch(_&-_){case 4:d=2;break;case 16:d=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:d=32;break;case 536870912:d=268435456;break;default:d=0}d=d&(c.suspendedLanes|_)?0:d,d!==0&&d!==p.retryLane&&(p.retryLane=d,fr(t,d),Dn(c,t,d,-1))}return eh(),c=Nc(Error(n(421))),_l(t,r,_,c)}return d.data==="$?"?(r.flags|=128,r.child=t.child,r=Uv.bind(null,t),d._reactRetry=r,null):(t=p.treeContext,sn=Or(d.nextSibling),rn=r,Ke=!0,kn=null,t!==null&&(dn[fn++]=hr,dn[fn++]=dr,dn[fn++]=Ri,hr=t.id,dr=t.overflow,Ri=r),r=bc(r,c.children),r.flags|=4096,r)}function hp(t,r,o){t.lanes|=r;var c=t.alternate;c!==null&&(c.lanes|=r),mc(t.return,r,o)}function Uc(t,r,o,c,d){var p=t.memoizedState;p===null?t.memoizedState={isBackwards:r,rendering:null,renderingStartTime:0,last:c,tail:o,tailMode:d}:(p.isBackwards=r,p.rendering=null,p.renderingStartTime=0,p.last=c,p.tail=o,p.tailMode=d)}function dp(t,r,o){var c=r.pendingProps,d=c.revealOrder,p=c.tail;if(zt(t,r,c.children,o),c=Ye.current,c&2)c=c&1|2,r.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=r.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&hp(t,o,r);else if(t.tag===19)hp(t,o,r);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===r)break e;for(;t.sibling===null;){if(t.return===null||t.return===r)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}c&=1}if(qe(Ye,c),!(r.mode&1))r.memoizedState=null;else switch(d){case"forwards":for(o=r.child,d=null;o!==null;)t=o.alternate,t!==null&&dl(t)===null&&(d=o),o=o.sibling;o=d,o===null?(d=r.child,r.child=null):(d=o.sibling,o.sibling=null),Uc(r,!1,d,o,p);break;case"backwards":for(o=null,d=r.child,r.child=null;d!==null;){if(t=d.alternate,t!==null&&dl(t)===null){r.child=d;break}t=d.sibling,d.sibling=o,o=d,d=t}Uc(r,!0,o,null,p);break;case"together":Uc(r,!1,null,null,void 0);break;default:r.memoizedState=null}return r.child}function El(t,r){!(r.mode&1)&&t!==null&&(t.alternate=null,r.alternate=null,r.flags|=2)}function mr(t,r,o){if(t!==null&&(r.dependencies=t.dependencies),xi|=r.lanes,!(o&r.childLanes))return null;if(t!==null&&r.child!==t.child)throw Error(n(153));if(r.child!==null){for(t=r.child,o=Wr(t,t.pendingProps),r.child=o,o.return=r;t.sibling!==null;)t=t.sibling,o=o.sibling=Wr(t,t.pendingProps),o.return=r;o.sibling=null}return r.child}function Cv(t,r,o){switch(r.tag){case 3:lp(r),Rs();break;case 5:Af(r);break;case 1:Ht(r.type)&&nl(r);break;case 4:vc(r,r.stateNode.containerInfo);break;case 10:var c=r.type._context,d=r.memoizedProps.value;qe(ll,c._currentValue),c._currentValue=d;break;case 13:if(c=r.memoizedState,c!==null)return c.dehydrated!==null?(qe(Ye,Ye.current&1),r.flags|=128,null):o&r.child.childLanes?cp(t,r,o):(qe(Ye,Ye.current&1),t=mr(t,r,o),t!==null?t.sibling:null);qe(Ye,Ye.current&1);break;case 19:if(c=(o&r.childLanes)!==0,t.flags&128){if(c)return dp(t,r,o);r.flags|=128}if(d=r.memoizedState,d!==null&&(d.rendering=null,d.tail=null,d.lastEffect=null),qe(Ye,Ye.current),c)break;return null;case 22:case 23:return r.lanes=0,sp(t,r,o)}return mr(t,r,o)}var fp,zc,pp,mp;fp=function(t,r){for(var o=r.child;o!==null;){if(o.tag===5||o.tag===6)t.appendChild(o.stateNode);else if(o.tag!==4&&o.child!==null){o.child.return=o,o=o.child;continue}if(o===r)break;for(;o.sibling===null;){if(o.return===null||o.return===r)return;o=o.return}o.sibling.return=o.return,o=o.sibling}},zc=function(){},pp=function(t,r,o,c){var d=t.memoizedProps;if(d!==c){t=r.stateNode,Pi(Hn.current);var p=null;switch(o){case"input":d=ai(t,d),c=ai(t,c),p=[];break;case"select":d=oe({},d,{value:void 0}),c=oe({},c,{value:void 0}),p=[];break;case"textarea":d=io(t,d),c=io(t,c),p=[];break;default:typeof d.onClick!="function"&&typeof c.onClick=="function"&&(t.onclick=Za)}co(o,c);var _;o=null;for(j in d)if(!c.hasOwnProperty(j)&&d.hasOwnProperty(j)&&d[j]!=null)if(j==="style"){var S=d[j];for(_ in S)S.hasOwnProperty(_)&&(o||(o={}),o[_]="")}else j!=="dangerouslySetInnerHTML"&&j!=="children"&&j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&j!=="autoFocus"&&(a.hasOwnProperty(j)?p||(p=[]):(p=p||[]).push(j,null));for(j in c){var P=c[j];if(S=d!=null?d[j]:void 0,c.hasOwnProperty(j)&&P!==S&&(P!=null||S!=null))if(j==="style")if(S){for(_ in S)!S.hasOwnProperty(_)||P&&P.hasOwnProperty(_)||(o||(o={}),o[_]="");for(_ in P)P.hasOwnProperty(_)&&S[_]!==P[_]&&(o||(o={}),o[_]=P[_])}else o||(p||(p=[]),p.push(j,o)),o=P;else j==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,S=S?S.__html:void 0,P!=null&&S!==P&&(p=p||[]).push(j,P)):j==="children"?typeof P!="string"&&typeof P!="number"||(p=p||[]).push(j,""+P):j!=="suppressContentEditableWarning"&&j!=="suppressHydrationWarning"&&(a.hasOwnProperty(j)?(P!=null&&j==="onScroll"&&He("scroll",t),p||S===P||(p=[])):(p=p||[]).push(j,P))}o&&(p=p||[]).push("style",o);var j=p;(r.updateQueue=j)&&(r.flags|=4)}},mp=function(t,r,o,c){o!==c&&(r.flags|=4)};function Ho(t,r){if(!Ke)switch(t.tailMode){case"hidden":r=t.tail;for(var o=null;r!==null;)r.alternate!==null&&(o=r),r=r.sibling;o===null?t.tail=null:o.sibling=null;break;case"collapsed":o=t.tail;for(var c=null;o!==null;)o.alternate!==null&&(c=o),o=o.sibling;c===null?r||t.tail===null?t.tail=null:t.tail.sibling=null:c.sibling=null}}function Dt(t){var r=t.alternate!==null&&t.alternate.child===t.child,o=0,c=0;if(r)for(var d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags&14680064,c|=d.flags&14680064,d.return=t,d=d.sibling;else for(d=t.child;d!==null;)o|=d.lanes|d.childLanes,c|=d.subtreeFlags,c|=d.flags,d.return=t,d=d.sibling;return t.subtreeFlags|=c,t.childLanes=o,r}function Pv(t,r,o){var c=r.pendingProps;switch(lc(r),r.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Dt(r),null;case 1:return Ht(r.type)&&tl(),Dt(r),null;case 3:return c=r.stateNode,ks(),We(qt),We(Vt),wc(),c.pendingContext&&(c.context=c.pendingContext,c.pendingContext=null),(t===null||t.child===null)&&(ol(r)?r.flags|=4:t===null||t.memoizedState.isDehydrated&&!(r.flags&256)||(r.flags|=1024,kn!==null&&(Yc(kn),kn=null))),zc(t,r),Dt(r),null;case 5:_c(r);var d=Pi(zo.current);if(o=r.type,t!==null&&r.stateNode!=null)pp(t,r,o,c,d),t.ref!==r.ref&&(r.flags|=512,r.flags|=2097152);else{if(!c){if(r.stateNode===null)throw Error(n(166));return Dt(r),null}if(t=Pi(Hn.current),ol(r)){c=r.stateNode,o=r.type;var p=r.memoizedProps;switch(c[qn]=r,c[Oo]=p,t=(r.mode&1)!==0,o){case"dialog":He("cancel",c),He("close",c);break;case"iframe":case"object":case"embed":He("load",c);break;case"video":case"audio":for(d=0;d<No.length;d++)He(No[d],c);break;case"source":He("error",c);break;case"img":case"image":case"link":He("error",c),He("load",c);break;case"details":He("toggle",c);break;case"input":qi(c,p),He("invalid",c);break;case"select":c._wrapperState={wasMultiple:!!p.multiple},He("invalid",c);break;case"textarea":Wi(c,p),He("invalid",c)}co(o,p),d=null;for(var _ in p)if(p.hasOwnProperty(_)){var S=p[_];_==="children"?typeof S=="string"?c.textContent!==S&&(p.suppressHydrationWarning!==!0&&Ja(c.textContent,S,t),d=["children",S]):typeof S=="number"&&c.textContent!==""+S&&(p.suppressHydrationWarning!==!0&&Ja(c.textContent,S,t),d=["children",""+S]):a.hasOwnProperty(_)&&S!=null&&_==="onScroll"&&He("scroll",c)}switch(o){case"input":Zn(c),Ia(c,p,!0);break;case"textarea":Zn(c),so(c);break;case"select":case"option":break;default:typeof p.onClick=="function"&&(c.onclick=Za)}c=d,r.updateQueue=c,c!==null&&(r.flags|=4)}else{_=d.nodeType===9?d:d.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=lt(o)),t==="http://www.w3.org/1999/xhtml"?o==="script"?(t=_.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof c.is=="string"?t=_.createElement(o,{is:c.is}):(t=_.createElement(o),o==="select"&&(_=t,c.multiple?_.multiple=!0:c.size&&(_.size=c.size))):t=_.createElementNS(t,o),t[qn]=r,t[Oo]=c,fp(t,r,!1,!1),r.stateNode=t;e:{switch(_=ho(o,c),o){case"dialog":He("cancel",t),He("close",t),d=c;break;case"iframe":case"object":case"embed":He("load",t),d=c;break;case"video":case"audio":for(d=0;d<No.length;d++)He(No[d],t);d=c;break;case"source":He("error",t),d=c;break;case"img":case"image":case"link":He("error",t),He("load",t),d=c;break;case"details":He("toggle",t),d=c;break;case"input":qi(t,c),d=ai(t,c),He("invalid",t);break;case"option":d=c;break;case"select":t._wrapperState={wasMultiple:!!c.multiple},d=oe({},c,{value:void 0}),He("invalid",t);break;case"textarea":Wi(t,c),d=io(t,c),He("invalid",t);break;default:d=c}co(o,d),S=d;for(p in S)if(S.hasOwnProperty(p)){var P=S[p];p==="style"?lo(t,P):p==="dangerouslySetInnerHTML"?(P=P?P.__html:void 0,P!=null&&oo(t,P)):p==="children"?typeof P=="string"?(o!=="textarea"||P!=="")&&Ir(t,P):typeof P=="number"&&Ir(t,""+P):p!=="suppressContentEditableWarning"&&p!=="suppressHydrationWarning"&&p!=="autoFocus"&&(a.hasOwnProperty(p)?P!=null&&p==="onScroll"&&He("scroll",t):P!=null&&ie(t,p,P,_))}switch(o){case"input":Zn(t),Ia(t,c,!1);break;case"textarea":Zn(t),so(t);break;case"option":c.value!=null&&t.setAttribute("value",""+Fe(c.value));break;case"select":t.multiple=!!c.multiple,p=c.value,p!=null?tr(t,!!c.multiple,p,!1):c.defaultValue!=null&&tr(t,!!c.multiple,c.defaultValue,!0);break;default:typeof d.onClick=="function"&&(t.onclick=Za)}switch(o){case"button":case"input":case"select":case"textarea":c=!!c.autoFocus;break e;case"img":c=!0;break e;default:c=!1}}c&&(r.flags|=4)}r.ref!==null&&(r.flags|=512,r.flags|=2097152)}return Dt(r),null;case 6:if(t&&r.stateNode!=null)mp(t,r,t.memoizedProps,c);else{if(typeof c!="string"&&r.stateNode===null)throw Error(n(166));if(o=Pi(zo.current),Pi(Hn.current),ol(r)){if(c=r.stateNode,o=r.memoizedProps,c[qn]=r,(p=c.nodeValue!==o)&&(t=rn,t!==null))switch(t.tag){case 3:Ja(c.nodeValue,o,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ja(c.nodeValue,o,(t.mode&1)!==0)}p&&(r.flags|=4)}else c=(o.nodeType===9?o:o.ownerDocument).createTextNode(c),c[qn]=r,r.stateNode=c}return Dt(r),null;case 13:if(We(Ye),c=r.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ke&&sn!==null&&r.mode&1&&!(r.flags&128))vf(),Rs(),r.flags|=98560,p=!1;else if(p=ol(r),c!==null&&c.dehydrated!==null){if(t===null){if(!p)throw Error(n(318));if(p=r.memoizedState,p=p!==null?p.dehydrated:null,!p)throw Error(n(317));p[qn]=r}else Rs(),!(r.flags&128)&&(r.memoizedState=null),r.flags|=4;Dt(r),p=!1}else kn!==null&&(Yc(kn),kn=null),p=!0;if(!p)return r.flags&65536?r:null}return r.flags&128?(r.lanes=o,r):(c=c!==null,c!==(t!==null&&t.memoizedState!==null)&&c&&(r.child.flags|=8192,r.mode&1&&(t===null||Ye.current&1?dt===0&&(dt=3):eh())),r.updateQueue!==null&&(r.flags|=4),Dt(r),null);case 4:return ks(),zc(t,r),t===null&&Do(r.stateNode.containerInfo),Dt(r),null;case 10:return pc(r.type._context),Dt(r),null;case 17:return Ht(r.type)&&tl(),Dt(r),null;case 19:if(We(Ye),p=r.memoizedState,p===null)return Dt(r),null;if(c=(r.flags&128)!==0,_=p.rendering,_===null)if(c)Ho(p,!1);else{if(dt!==0||t!==null&&t.flags&128)for(t=r.child;t!==null;){if(_=dl(t),_!==null){for(r.flags|=128,Ho(p,!1),c=_.updateQueue,c!==null&&(r.updateQueue=c,r.flags|=4),r.subtreeFlags=0,c=o,o=r.child;o!==null;)p=o,t=c,p.flags&=14680066,_=p.alternate,_===null?(p.childLanes=0,p.lanes=t,p.child=null,p.subtreeFlags=0,p.memoizedProps=null,p.memoizedState=null,p.updateQueue=null,p.dependencies=null,p.stateNode=null):(p.childLanes=_.childLanes,p.lanes=_.lanes,p.child=_.child,p.subtreeFlags=0,p.deletions=null,p.memoizedProps=_.memoizedProps,p.memoizedState=_.memoizedState,p.updateQueue=_.updateQueue,p.type=_.type,t=_.dependencies,p.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),o=o.sibling;return qe(Ye,Ye.current&1|2),r.child}t=t.sibling}p.tail!==null&&$e()>Ds&&(r.flags|=128,c=!0,Ho(p,!1),r.lanes=4194304)}else{if(!c)if(t=dl(_),t!==null){if(r.flags|=128,c=!0,o=t.updateQueue,o!==null&&(r.updateQueue=o,r.flags|=4),Ho(p,!0),p.tail===null&&p.tailMode==="hidden"&&!_.alternate&&!Ke)return Dt(r),null}else 2*$e()-p.renderingStartTime>Ds&&o!==1073741824&&(r.flags|=128,c=!0,Ho(p,!1),r.lanes=4194304);p.isBackwards?(_.sibling=r.child,r.child=_):(o=p.last,o!==null?o.sibling=_:r.child=_,p.last=_)}return p.tail!==null?(r=p.tail,p.rendering=r,p.tail=r.sibling,p.renderingStartTime=$e(),r.sibling=null,o=Ye.current,qe(Ye,c?o&1|2:o&1),r):(Dt(r),null);case 22:case 23:return Zc(),c=r.memoizedState!==null,t!==null&&t.memoizedState!==null!==c&&(r.flags|=8192),c&&r.mode&1?on&1073741824&&(Dt(r),r.subtreeFlags&6&&(r.flags|=8192)):Dt(r),null;case 24:return null;case 25:return null}throw Error(n(156,r.tag))}function kv(t,r){switch(lc(r),r.tag){case 1:return Ht(r.type)&&tl(),t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 3:return ks(),We(qt),We(Vt),wc(),t=r.flags,t&65536&&!(t&128)?(r.flags=t&-65537|128,r):null;case 5:return _c(r),null;case 13:if(We(Ye),t=r.memoizedState,t!==null&&t.dehydrated!==null){if(r.alternate===null)throw Error(n(340));Rs()}return t=r.flags,t&65536?(r.flags=t&-65537|128,r):null;case 19:return We(Ye),null;case 4:return ks(),null;case 10:return pc(r.type._context),null;case 22:case 23:return Zc(),null;case 24:return null;default:return null}}var wl=!1,Lt=!1,xv=typeof WeakSet=="function"?WeakSet:Set,le=null;function Vs(t,r){var o=t.ref;if(o!==null)if(typeof o=="function")try{o(null)}catch(c){et(t,r,c)}else o.current=null}function jc(t,r,o){try{o()}catch(c){et(t,r,c)}}var gp=!1;function Vv(t,r){if(Zu=Nr,t=Qd(),Hu(t)){if("selectionStart"in t)var o={start:t.selectionStart,end:t.selectionEnd};else e:{o=(o=t.ownerDocument)&&o.defaultView||window;var c=o.getSelection&&o.getSelection();if(c&&c.rangeCount!==0){o=c.anchorNode;var d=c.anchorOffset,p=c.focusNode;c=c.focusOffset;try{o.nodeType,p.nodeType}catch{o=null;break e}var _=0,S=-1,P=-1,j=0,G=0,J=t,K=null;t:for(;;){for(var se;J!==o||d!==0&&J.nodeType!==3||(S=_+d),J!==p||c!==0&&J.nodeType!==3||(P=_+c),J.nodeType===3&&(_+=J.nodeValue.length),(se=J.firstChild)!==null;)K=J,J=se;for(;;){if(J===t)break t;if(K===o&&++j===d&&(S=_),K===p&&++G===c&&(P=_),(se=J.nextSibling)!==null)break;J=K,K=J.parentNode}J=se}o=S===-1||P===-1?null:{start:S,end:P}}else o=null}o=o||{start:0,end:0}}else o=null;for(ec={focusedElem:t,selectionRange:o},Nr=!1,le=r;le!==null;)if(r=le,t=r.child,(r.subtreeFlags&1028)!==0&&t!==null)t.return=r,le=t;else for(;le!==null;){r=le;try{var ue=r.alternate;if(r.flags&1024)switch(r.tag){case 0:case 11:case 15:break;case 1:if(ue!==null){var ce=ue.memoizedProps,rt=ue.memoizedState,b=r.stateNode,V=b.getSnapshotBeforeUpdate(r.elementType===r.type?ce:xn(r.type,ce),rt);b.__reactInternalSnapshotBeforeUpdate=V}break;case 3:var U=r.stateNode.containerInfo;U.nodeType===1?U.textContent="":U.nodeType===9&&U.documentElement&&U.removeChild(U.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(n(163))}}catch(Z){et(r,r.return,Z)}if(t=r.sibling,t!==null){t.return=r.return,le=t;break}le=r.return}return ue=gp,gp=!1,ue}function Wo(t,r,o){var c=r.updateQueue;if(c=c!==null?c.lastEffect:null,c!==null){var d=c=c.next;do{if((d.tag&t)===t){var p=d.destroy;d.destroy=void 0,p!==void 0&&jc(r,o,p)}d=d.next}while(d!==c)}}function Tl(t,r){if(r=r.updateQueue,r=r!==null?r.lastEffect:null,r!==null){var o=r=r.next;do{if((o.tag&t)===t){var c=o.create;o.destroy=c()}o=o.next}while(o!==r)}}function Bc(t){var r=t.ref;if(r!==null){var o=t.stateNode;switch(t.tag){case 5:t=o;break;default:t=o}typeof r=="function"?r(t):r.current=t}}function yp(t){var r=t.alternate;r!==null&&(t.alternate=null,yp(r)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(r=t.stateNode,r!==null&&(delete r[qn],delete r[Oo],delete r[ic],delete r[fv],delete r[pv])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function vp(t){return t.tag===5||t.tag===3||t.tag===4}function _p(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||vp(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function $c(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.nodeType===8?o.parentNode.insertBefore(t,r):o.insertBefore(t,r):(o.nodeType===8?(r=o.parentNode,r.insertBefore(t,o)):(r=o,r.appendChild(t)),o=o._reactRootContainer,o!=null||r.onclick!==null||(r.onclick=Za));else if(c!==4&&(t=t.child,t!==null))for($c(t,r,o),t=t.sibling;t!==null;)$c(t,r,o),t=t.sibling}function qc(t,r,o){var c=t.tag;if(c===5||c===6)t=t.stateNode,r?o.insertBefore(t,r):o.appendChild(t);else if(c!==4&&(t=t.child,t!==null))for(qc(t,r,o),t=t.sibling;t!==null;)qc(t,r,o),t=t.sibling}var It=null,Vn=!1;function jr(t,r,o){for(o=o.child;o!==null;)Ep(t,r,o),o=o.sibling}function Ep(t,r,o){if(Zt&&typeof Zt.onCommitFiberUnmount=="function")try{Zt.onCommitFiberUnmount(gi,o)}catch{}switch(o.tag){case 5:Lt||Vs(o,r);case 6:var c=It,d=Vn;It=null,jr(t,r,o),It=c,Vn=d,It!==null&&(Vn?(t=It,o=o.stateNode,t.nodeType===8?t.parentNode.removeChild(o):t.removeChild(o)):It.removeChild(o.stateNode));break;case 18:It!==null&&(Vn?(t=It,o=o.stateNode,t.nodeType===8?rc(t.parentNode,o):t.nodeType===1&&rc(t,o),An(t)):rc(It,o.stateNode));break;case 4:c=It,d=Vn,It=o.stateNode.containerInfo,Vn=!0,jr(t,r,o),It=c,Vn=d;break;case 0:case 11:case 14:case 15:if(!Lt&&(c=o.updateQueue,c!==null&&(c=c.lastEffect,c!==null))){d=c=c.next;do{var p=d,_=p.destroy;p=p.tag,_!==void 0&&(p&2||p&4)&&jc(o,r,_),d=d.next}while(d!==c)}jr(t,r,o);break;case 1:if(!Lt&&(Vs(o,r),c=o.stateNode,typeof c.componentWillUnmount=="function"))try{c.props=o.memoizedProps,c.state=o.memoizedState,c.componentWillUnmount()}catch(S){et(o,r,S)}jr(t,r,o);break;case 21:jr(t,r,o);break;case 22:o.mode&1?(Lt=(c=Lt)||o.memoizedState!==null,jr(t,r,o),Lt=c):jr(t,r,o);break;default:jr(t,r,o)}}function wp(t){var r=t.updateQueue;if(r!==null){t.updateQueue=null;var o=t.stateNode;o===null&&(o=t.stateNode=new xv),r.forEach(function(c){var d=zv.bind(null,t,c);o.has(c)||(o.add(c),c.then(d,d))})}}function Nn(t,r){var o=r.deletions;if(o!==null)for(var c=0;c<o.length;c++){var d=o[c];try{var p=t,_=r,S=_;e:for(;S!==null;){switch(S.tag){case 5:It=S.stateNode,Vn=!1;break e;case 3:It=S.stateNode.containerInfo,Vn=!0;break e;case 4:It=S.stateNode.containerInfo,Vn=!0;break e}S=S.return}if(It===null)throw Error(n(160));Ep(p,_,d),It=null,Vn=!1;var P=d.alternate;P!==null&&(P.return=null),d.return=null}catch(j){et(d,r,j)}}if(r.subtreeFlags&12854)for(r=r.child;r!==null;)Tp(r,t),r=r.sibling}function Tp(t,r){var o=t.alternate,c=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Nn(r,t),Qn(t),c&4){try{Wo(3,t,t.return),Tl(3,t)}catch(ce){et(t,t.return,ce)}try{Wo(5,t,t.return)}catch(ce){et(t,t.return,ce)}}break;case 1:Nn(r,t),Qn(t),c&512&&o!==null&&Vs(o,o.return);break;case 5:if(Nn(r,t),Qn(t),c&512&&o!==null&&Vs(o,o.return),t.flags&32){var d=t.stateNode;try{Ir(d,"")}catch(ce){et(t,t.return,ce)}}if(c&4&&(d=t.stateNode,d!=null)){var p=t.memoizedProps,_=o!==null?o.memoizedProps:p,S=t.type,P=t.updateQueue;if(t.updateQueue=null,P!==null)try{S==="input"&&p.type==="radio"&&p.name!=null&&no(d,p),ho(S,_);var j=ho(S,p);for(_=0;_<P.length;_+=2){var G=P[_],J=P[_+1];G==="style"?lo(d,J):G==="dangerouslySetInnerHTML"?oo(d,J):G==="children"?Ir(d,J):ie(d,G,J,j)}switch(S){case"input":ro(d,p);break;case"textarea":Qi(d,p);break;case"select":var K=d._wrapperState.wasMultiple;d._wrapperState.wasMultiple=!!p.multiple;var se=p.value;se!=null?tr(d,!!p.multiple,se,!1):K!==!!p.multiple&&(p.defaultValue!=null?tr(d,!!p.multiple,p.defaultValue,!0):tr(d,!!p.multiple,p.multiple?[]:"",!1))}d[Oo]=p}catch(ce){et(t,t.return,ce)}}break;case 6:if(Nn(r,t),Qn(t),c&4){if(t.stateNode===null)throw Error(n(162));d=t.stateNode,p=t.memoizedProps;try{d.nodeValue=p}catch(ce){et(t,t.return,ce)}}break;case 3:if(Nn(r,t),Qn(t),c&4&&o!==null&&o.memoizedState.isDehydrated)try{An(r.containerInfo)}catch(ce){et(t,t.return,ce)}break;case 4:Nn(r,t),Qn(t);break;case 13:Nn(r,t),Qn(t),d=t.child,d.flags&8192&&(p=d.memoizedState!==null,d.stateNode.isHidden=p,!p||d.alternate!==null&&d.alternate.memoizedState!==null||(Qc=$e())),c&4&&wp(t);break;case 22:if(G=o!==null&&o.memoizedState!==null,t.mode&1?(Lt=(j=Lt)||G,Nn(r,t),Lt=j):Nn(r,t),Qn(t),c&8192){if(j=t.memoizedState!==null,(t.stateNode.isHidden=j)&&!G&&t.mode&1)for(le=t,G=t.child;G!==null;){for(J=le=G;le!==null;){switch(K=le,se=K.child,K.tag){case 0:case 11:case 14:case 15:Wo(4,K,K.return);break;case 1:Vs(K,K.return);var ue=K.stateNode;if(typeof ue.componentWillUnmount=="function"){c=K,o=K.return;try{r=c,ue.props=r.memoizedProps,ue.state=r.memoizedState,ue.componentWillUnmount()}catch(ce){et(c,o,ce)}}break;case 5:Vs(K,K.return);break;case 22:if(K.memoizedState!==null){Rp(J);continue}}se!==null?(se.return=K,le=se):Rp(J)}G=G.sibling}e:for(G=null,J=t;;){if(J.tag===5){if(G===null){G=J;try{d=J.stateNode,j?(p=d.style,typeof p.setProperty=="function"?p.setProperty("display","none","important"):p.display="none"):(S=J.stateNode,P=J.memoizedProps.style,_=P!=null&&P.hasOwnProperty("display")?P.display:null,S.style.display=ao("display",_))}catch(ce){et(t,t.return,ce)}}}else if(J.tag===6){if(G===null)try{J.stateNode.nodeValue=j?"":J.memoizedProps}catch(ce){et(t,t.return,ce)}}else if((J.tag!==22&&J.tag!==23||J.memoizedState===null||J===t)&&J.child!==null){J.child.return=J,J=J.child;continue}if(J===t)break e;for(;J.sibling===null;){if(J.return===null||J.return===t)break e;G===J&&(G=null),J=J.return}G===J&&(G=null),J.sibling.return=J.return,J=J.sibling}}break;case 19:Nn(r,t),Qn(t),c&4&&wp(t);break;case 21:break;default:Nn(r,t),Qn(t)}}function Qn(t){var r=t.flags;if(r&2){try{e:{for(var o=t.return;o!==null;){if(vp(o)){var c=o;break e}o=o.return}throw Error(n(160))}switch(c.tag){case 5:var d=c.stateNode;c.flags&32&&(Ir(d,""),c.flags&=-33);var p=_p(t);qc(t,p,d);break;case 3:case 4:var _=c.stateNode.containerInfo,S=_p(t);$c(t,S,_);break;default:throw Error(n(161))}}catch(P){et(t,t.return,P)}t.flags&=-3}r&4096&&(t.flags&=-4097)}function Nv(t,r,o){le=t,Sp(t)}function Sp(t,r,o){for(var c=(t.mode&1)!==0;le!==null;){var d=le,p=d.child;if(d.tag===22&&c){var _=d.memoizedState!==null||wl;if(!_){var S=d.alternate,P=S!==null&&S.memoizedState!==null||Lt;S=wl;var j=Lt;if(wl=_,(Lt=P)&&!j)for(le=d;le!==null;)_=le,P=_.child,_.tag===22&&_.memoizedState!==null?Ap(d):P!==null?(P.return=_,le=P):Ap(d);for(;p!==null;)le=p,Sp(p),p=p.sibling;le=d,wl=S,Lt=j}Ip(t)}else d.subtreeFlags&8772&&p!==null?(p.return=d,le=p):Ip(t)}}function Ip(t){for(;le!==null;){var r=le;if(r.flags&8772){var o=r.alternate;try{if(r.flags&8772)switch(r.tag){case 0:case 11:case 15:Lt||Tl(5,r);break;case 1:var c=r.stateNode;if(r.flags&4&&!Lt)if(o===null)c.componentDidMount();else{var d=r.elementType===r.type?o.memoizedProps:xn(r.type,o.memoizedProps);c.componentDidUpdate(d,o.memoizedState,c.__reactInternalSnapshotBeforeUpdate)}var p=r.updateQueue;p!==null&&Rf(r,p,c);break;case 3:var _=r.updateQueue;if(_!==null){if(o=null,r.child!==null)switch(r.child.tag){case 5:o=r.child.stateNode;break;case 1:o=r.child.stateNode}Rf(r,_,o)}break;case 5:var S=r.stateNode;if(o===null&&r.flags&4){o=S;var P=r.memoizedProps;switch(r.type){case"button":case"input":case"select":case"textarea":P.autoFocus&&o.focus();break;case"img":P.src&&(o.src=P.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(r.memoizedState===null){var j=r.alternate;if(j!==null){var G=j.memoizedState;if(G!==null){var J=G.dehydrated;J!==null&&An(J)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(n(163))}Lt||r.flags&512&&Bc(r)}catch(K){et(r,r.return,K)}}if(r===t){le=null;break}if(o=r.sibling,o!==null){o.return=r.return,le=o;break}le=r.return}}function Rp(t){for(;le!==null;){var r=le;if(r===t){le=null;break}var o=r.sibling;if(o!==null){o.return=r.return,le=o;break}le=r.return}}function Ap(t){for(;le!==null;){var r=le;try{switch(r.tag){case 0:case 11:case 15:var o=r.return;try{Tl(4,r)}catch(P){et(r,o,P)}break;case 1:var c=r.stateNode;if(typeof c.componentDidMount=="function"){var d=r.return;try{c.componentDidMount()}catch(P){et(r,d,P)}}var p=r.return;try{Bc(r)}catch(P){et(r,p,P)}break;case 5:var _=r.return;try{Bc(r)}catch(P){et(r,_,P)}}}catch(P){et(r,r.return,P)}if(r===t){le=null;break}var S=r.sibling;if(S!==null){S.return=r.return,le=S;break}le=r.return}}var Dv=Math.ceil,Sl=ee.ReactCurrentDispatcher,Hc=ee.ReactCurrentOwner,gn=ee.ReactCurrentBatchConfig,Le=0,_t=null,ot=null,Rt=0,on=0,Ns=Mr(0),dt=0,Qo=null,xi=0,Il=0,Wc=0,Ko=null,Qt=null,Qc=0,Ds=1/0,gr=null,Rl=!1,Kc=null,Br=null,Al=!1,$r=null,Cl=0,Go=0,Gc=null,Pl=-1,kl=0;function jt(){return Le&6?$e():Pl!==-1?Pl:Pl=$e()}function qr(t){return t.mode&1?Le&2&&Rt!==0?Rt&-Rt:gv.transition!==null?(kl===0&&(kl=vi()),kl):(t=Pe,t!==0||(t=window.event,t=t===void 0?16:So(t.type)),t):1}function Dn(t,r,o,c){if(50<Go)throw Go=0,Gc=null,Error(n(185));Pr(t,o,c),(!(Le&2)||t!==_t)&&(t===_t&&(!(Le&2)&&(Il|=o),dt===4&&Hr(t,Rt)),Kt(t,c),o===1&&Le===0&&!(r.mode&1)&&(Ds=$e()+500,rl&&br()))}function Kt(t,r){var o=t.callbackNode;ir(t,r);var c=yi(t,t===_t?Rt:0);if(c===0)o!==null&&vo(o),t.callbackNode=null,t.callbackPriority=0;else if(r=c&-c,t.callbackPriority!==r){if(o!=null&&vo(o),r===1)t.tag===0?mv(Pp.bind(null,t)):ff(Pp.bind(null,t)),hv(function(){!(Le&6)&&br()}),o=null;else{switch(xr(c)){case 1:o=mi;break;case 4:o=Rr;break;case 16:o=un;break;case 536870912:o=ka;break;default:o=un}o=Mp(o,Cp.bind(null,t))}t.callbackPriority=r,t.callbackNode=o}}function Cp(t,r){if(Pl=-1,kl=0,Le&6)throw Error(n(327));var o=t.callbackNode;if(Ls()&&t.callbackNode!==o)return null;var c=yi(t,t===_t?Rt:0);if(c===0)return null;if(c&30||c&t.expiredLanes||r)r=xl(t,c);else{r=c;var d=Le;Le|=2;var p=xp();(_t!==t||Rt!==r)&&(gr=null,Ds=$e()+500,Ni(t,r));do try{Mv();break}catch(S){kp(t,S)}while(!0);fc(),Sl.current=p,Le=d,ot!==null?r=0:(_t=null,Rt=0,r=dt)}if(r!==0){if(r===2&&(d=en(t),d!==0&&(c=d,r=Xc(t,d))),r===1)throw o=Qo,Ni(t,0),Hr(t,c),Kt(t,$e()),o;if(r===6)Hr(t,c);else{if(d=t.current.alternate,!(c&30)&&!Lv(d)&&(r=xl(t,c),r===2&&(p=en(t),p!==0&&(c=p,r=Xc(t,p))),r===1))throw o=Qo,Ni(t,0),Hr(t,c),Kt(t,$e()),o;switch(t.finishedWork=d,t.finishedLanes=c,r){case 0:case 1:throw Error(n(345));case 2:Di(t,Qt,gr);break;case 3:if(Hr(t,c),(c&130023424)===c&&(r=Qc+500-$e(),10<r)){if(yi(t,0)!==0)break;if(d=t.suspendedLanes,(d&c)!==c){jt(),t.pingedLanes|=t.suspendedLanes&d;break}t.timeoutHandle=nc(Di.bind(null,t,Qt,gr),r);break}Di(t,Qt,gr);break;case 4:if(Hr(t,c),(c&4194240)===c)break;for(r=t.eventTimes,d=-1;0<c;){var _=31-bt(c);p=1<<_,_=r[_],_>d&&(d=_),c&=~p}if(c=d,c=$e()-c,c=(120>c?120:480>c?480:1080>c?1080:1920>c?1920:3e3>c?3e3:4320>c?4320:1960*Dv(c/1960))-c,10<c){t.timeoutHandle=nc(Di.bind(null,t,Qt,gr),c);break}Di(t,Qt,gr);break;case 5:Di(t,Qt,gr);break;default:throw Error(n(329))}}}return Kt(t,$e()),t.callbackNode===o?Cp.bind(null,t):null}function Xc(t,r){var o=Ko;return t.current.memoizedState.isDehydrated&&(Ni(t,r).flags|=256),t=xl(t,r),t!==2&&(r=Qt,Qt=o,r!==null&&Yc(r)),t}function Yc(t){Qt===null?Qt=t:Qt.push.apply(Qt,t)}function Lv(t){for(var r=t;;){if(r.flags&16384){var o=r.updateQueue;if(o!==null&&(o=o.stores,o!==null))for(var c=0;c<o.length;c++){var d=o[c],p=d.getSnapshot;d=d.value;try{if(!Pn(p(),d))return!1}catch{return!1}}}if(o=r.child,r.subtreeFlags&16384&&o!==null)o.return=r,r=o;else{if(r===t)break;for(;r.sibling===null;){if(r.return===null||r.return===t)return!0;r=r.return}r.sibling.return=r.return,r=r.sibling}}return!0}function Hr(t,r){for(r&=~Wc,r&=~Il,t.suspendedLanes|=r,t.pingedLanes&=~r,t=t.expirationTimes;0<r;){var o=31-bt(r),c=1<<o;t[o]=-1,r&=~c}}function Pp(t){if(Le&6)throw Error(n(327));Ls();var r=yi(t,0);if(!(r&1))return Kt(t,$e()),null;var o=xl(t,r);if(t.tag!==0&&o===2){var c=en(t);c!==0&&(r=c,o=Xc(t,c))}if(o===1)throw o=Qo,Ni(t,0),Hr(t,r),Kt(t,$e()),o;if(o===6)throw Error(n(345));return t.finishedWork=t.current.alternate,t.finishedLanes=r,Di(t,Qt,gr),Kt(t,$e()),null}function Jc(t,r){var o=Le;Le|=1;try{return t(r)}finally{Le=o,Le===0&&(Ds=$e()+500,rl&&br())}}function Vi(t){$r!==null&&$r.tag===0&&!(Le&6)&&Ls();var r=Le;Le|=1;var o=gn.transition,c=Pe;try{if(gn.transition=null,Pe=1,t)return t()}finally{Pe=c,gn.transition=o,Le=r,!(Le&6)&&br()}}function Zc(){on=Ns.current,We(Ns)}function Ni(t,r){t.finishedWork=null,t.finishedLanes=0;var o=t.timeoutHandle;if(o!==-1&&(t.timeoutHandle=-1,cv(o)),ot!==null)for(o=ot.return;o!==null;){var c=o;switch(lc(c),c.tag){case 1:c=c.type.childContextTypes,c!=null&&tl();break;case 3:ks(),We(qt),We(Vt),wc();break;case 5:_c(c);break;case 4:ks();break;case 13:We(Ye);break;case 19:We(Ye);break;case 10:pc(c.type._context);break;case 22:case 23:Zc()}o=o.return}if(_t=t,ot=t=Wr(t.current,null),Rt=on=r,dt=0,Qo=null,Wc=Il=xi=0,Qt=Ko=null,Ci!==null){for(r=0;r<Ci.length;r++)if(o=Ci[r],c=o.interleaved,c!==null){o.interleaved=null;var d=c.next,p=o.pending;if(p!==null){var _=p.next;p.next=d,c.next=_}o.pending=c}Ci=null}return t}function kp(t,r){do{var o=ot;try{if(fc(),fl.current=yl,pl){for(var c=Je.memoizedState;c!==null;){var d=c.queue;d!==null&&(d.pending=null),c=c.next}pl=!1}if(ki=0,vt=ht=Je=null,jo=!1,Bo=0,Hc.current=null,o===null||o.return===null){dt=1,Qo=r,ot=null;break}e:{var p=t,_=o.return,S=o,P=r;if(r=Rt,S.flags|=32768,P!==null&&typeof P=="object"&&typeof P.then=="function"){var j=P,G=S,J=G.tag;if(!(G.mode&1)&&(J===0||J===11||J===15)){var K=G.alternate;K?(G.updateQueue=K.updateQueue,G.memoizedState=K.memoizedState,G.lanes=K.lanes):(G.updateQueue=null,G.memoizedState=null)}var se=ep(_);if(se!==null){se.flags&=-257,tp(se,_,S,p,r),se.mode&1&&Zf(p,j,r),r=se,P=j;var ue=r.updateQueue;if(ue===null){var ce=new Set;ce.add(P),r.updateQueue=ce}else ue.add(P);break e}else{if(!(r&1)){Zf(p,j,r),eh();break e}P=Error(n(426))}}else if(Ke&&S.mode&1){var rt=ep(_);if(rt!==null){!(rt.flags&65536)&&(rt.flags|=256),tp(rt,_,S,p,r),hc(xs(P,S));break e}}p=P=xs(P,S),dt!==4&&(dt=2),Ko===null?Ko=[p]:Ko.push(p),p=_;do{switch(p.tag){case 3:p.flags|=65536,r&=-r,p.lanes|=r;var b=Yf(p,P,r);If(p,b);break e;case 1:S=P;var V=p.type,U=p.stateNode;if(!(p.flags&128)&&(typeof V.getDerivedStateFromError=="function"||U!==null&&typeof U.componentDidCatch=="function"&&(Br===null||!Br.has(U)))){p.flags|=65536,r&=-r,p.lanes|=r;var Z=Jf(p,S,r);If(p,Z);break e}}p=p.return}while(p!==null)}Np(o)}catch(he){r=he,ot===o&&o!==null&&(ot=o=o.return);continue}break}while(!0)}function xp(){var t=Sl.current;return Sl.current=yl,t===null?yl:t}function eh(){(dt===0||dt===3||dt===2)&&(dt=4),_t===null||!(xi&268435455)&&!(Il&268435455)||Hr(_t,Rt)}function xl(t,r){var o=Le;Le|=2;var c=xp();(_t!==t||Rt!==r)&&(gr=null,Ni(t,r));do try{Ov();break}catch(d){kp(t,d)}while(!0);if(fc(),Le=o,Sl.current=c,ot!==null)throw Error(n(261));return _t=null,Rt=0,dt}function Ov(){for(;ot!==null;)Vp(ot)}function Mv(){for(;ot!==null&&!Ca();)Vp(ot)}function Vp(t){var r=Op(t.alternate,t,on);t.memoizedProps=t.pendingProps,r===null?Np(t):ot=r,Hc.current=null}function Np(t){var r=t;do{var o=r.alternate;if(t=r.return,r.flags&32768){if(o=kv(o,r),o!==null){o.flags&=32767,ot=o;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{dt=6,ot=null;return}}else if(o=Pv(o,r,on),o!==null){ot=o;return}if(r=r.sibling,r!==null){ot=r;return}ot=r=t}while(r!==null);dt===0&&(dt=5)}function Di(t,r,o){var c=Pe,d=gn.transition;try{gn.transition=null,Pe=1,Fv(t,r,o,c)}finally{gn.transition=d,Pe=c}return null}function Fv(t,r,o,c){do Ls();while($r!==null);if(Le&6)throw Error(n(327));o=t.finishedWork;var d=t.finishedLanes;if(o===null)return null;if(t.finishedWork=null,t.finishedLanes=0,o===t.current)throw Error(n(177));t.callbackNode=null,t.callbackPriority=0;var p=o.lanes|o.childLanes;if(je(t,p),t===_t&&(ot=_t=null,Rt=0),!(o.subtreeFlags&2064)&&!(o.flags&2064)||Al||(Al=!0,Mp(un,function(){return Ls(),null})),p=(o.flags&15990)!==0,o.subtreeFlags&15990||p){p=gn.transition,gn.transition=null;var _=Pe;Pe=1;var S=Le;Le|=4,Hc.current=null,Vv(t,o),Tp(o,t),rv(ec),Nr=!!Zu,ec=Zu=null,t.current=o,Nv(o),Fu(),Le=S,Pe=_,gn.transition=p}else t.current=o;if(Al&&(Al=!1,$r=t,Cl=d),p=t.pendingLanes,p===0&&(Br=null),xa(o.stateNode),Kt(t,$e()),r!==null)for(c=t.onRecoverableError,o=0;o<r.length;o++)d=r[o],c(d.value,{componentStack:d.stack,digest:d.digest});if(Rl)throw Rl=!1,t=Kc,Kc=null,t;return Cl&1&&t.tag!==0&&Ls(),p=t.pendingLanes,p&1?t===Gc?Go++:(Go=0,Gc=t):Go=0,br(),null}function Ls(){if($r!==null){var t=xr(Cl),r=gn.transition,o=Pe;try{if(gn.transition=null,Pe=16>t?16:t,$r===null)var c=!1;else{if(t=$r,$r=null,Cl=0,Le&6)throw Error(n(331));var d=Le;for(Le|=4,le=t.current;le!==null;){var p=le,_=p.child;if(le.flags&16){var S=p.deletions;if(S!==null){for(var P=0;P<S.length;P++){var j=S[P];for(le=j;le!==null;){var G=le;switch(G.tag){case 0:case 11:case 15:Wo(8,G,p)}var J=G.child;if(J!==null)J.return=G,le=J;else for(;le!==null;){G=le;var K=G.sibling,se=G.return;if(yp(G),G===j){le=null;break}if(K!==null){K.return=se,le=K;break}le=se}}}var ue=p.alternate;if(ue!==null){var ce=ue.child;if(ce!==null){ue.child=null;do{var rt=ce.sibling;ce.sibling=null,ce=rt}while(ce!==null)}}le=p}}if(p.subtreeFlags&2064&&_!==null)_.return=p,le=_;else e:for(;le!==null;){if(p=le,p.flags&2048)switch(p.tag){case 0:case 11:case 15:Wo(9,p,p.return)}var b=p.sibling;if(b!==null){b.return=p.return,le=b;break e}le=p.return}}var V=t.current;for(le=V;le!==null;){_=le;var U=_.child;if(_.subtreeFlags&2064&&U!==null)U.return=_,le=U;else e:for(_=V;le!==null;){if(S=le,S.flags&2048)try{switch(S.tag){case 0:case 11:case 15:Tl(9,S)}}catch(he){et(S,S.return,he)}if(S===_){le=null;break e}var Z=S.sibling;if(Z!==null){Z.return=S.return,le=Z;break e}le=S.return}}if(Le=d,br(),Zt&&typeof Zt.onPostCommitFiberRoot=="function")try{Zt.onPostCommitFiberRoot(gi,t)}catch{}c=!0}return c}finally{Pe=o,gn.transition=r}}return!1}function Dp(t,r,o){r=xs(o,r),r=Yf(t,r,1),t=zr(t,r,1),r=jt(),t!==null&&(Pr(t,1,r),Kt(t,r))}function et(t,r,o){if(t.tag===3)Dp(t,t,o);else for(;r!==null;){if(r.tag===3){Dp(r,t,o);break}else if(r.tag===1){var c=r.stateNode;if(typeof r.type.getDerivedStateFromError=="function"||typeof c.componentDidCatch=="function"&&(Br===null||!Br.has(c))){t=xs(o,t),t=Jf(r,t,1),r=zr(r,t,1),t=jt(),r!==null&&(Pr(r,1,t),Kt(r,t));break}}r=r.return}}function bv(t,r,o){var c=t.pingCache;c!==null&&c.delete(r),r=jt(),t.pingedLanes|=t.suspendedLanes&o,_t===t&&(Rt&o)===o&&(dt===4||dt===3&&(Rt&130023424)===Rt&&500>$e()-Qc?Ni(t,0):Wc|=o),Kt(t,r)}function Lp(t,r){r===0&&(t.mode&1?(r=rs,rs<<=1,!(rs&130023424)&&(rs=4194304)):r=1);var o=jt();t=fr(t,r),t!==null&&(Pr(t,r,o),Kt(t,o))}function Uv(t){var r=t.memoizedState,o=0;r!==null&&(o=r.retryLane),Lp(t,o)}function zv(t,r){var o=0;switch(t.tag){case 13:var c=t.stateNode,d=t.memoizedState;d!==null&&(o=d.retryLane);break;case 19:c=t.stateNode;break;default:throw Error(n(314))}c!==null&&c.delete(r),Lp(t,o)}var Op;Op=function(t,r,o){if(t!==null)if(t.memoizedProps!==r.pendingProps||qt.current)Wt=!0;else{if(!(t.lanes&o)&&!(r.flags&128))return Wt=!1,Cv(t,r,o);Wt=!!(t.flags&131072)}else Wt=!1,Ke&&r.flags&1048576&&pf(r,sl,r.index);switch(r.lanes=0,r.tag){case 2:var c=r.type;El(t,r),t=r.pendingProps;var d=Ts(r,Vt.current);Ps(r,o),d=Ic(null,r,c,t,d,o);var p=Rc();return r.flags|=1,typeof d=="object"&&d!==null&&typeof d.render=="function"&&d.$$typeof===void 0?(r.tag=1,r.memoizedState=null,r.updateQueue=null,Ht(c)?(p=!0,nl(r)):p=!1,r.memoizedState=d.state!==null&&d.state!==void 0?d.state:null,yc(r),d.updater=vl,r.stateNode=d,d._reactInternals=r,Vc(r,c,t,o),r=Oc(null,r,c,!0,p,o)):(r.tag=0,Ke&&p&&ac(r),zt(null,r,d,o),r=r.child),r;case 16:c=r.elementType;e:{switch(El(t,r),t=r.pendingProps,d=c._init,c=d(c._payload),r.type=c,d=r.tag=Bv(c),t=xn(c,t),d){case 0:r=Lc(null,r,c,t,o);break e;case 1:r=ap(null,r,c,t,o);break e;case 11:r=np(null,r,c,t,o);break e;case 14:r=rp(null,r,c,xn(c.type,t),o);break e}throw Error(n(306,c,""))}return r;case 0:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:xn(c,d),Lc(t,r,c,d,o);case 1:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:xn(c,d),ap(t,r,c,d,o);case 3:e:{if(lp(r),t===null)throw Error(n(387));c=r.pendingProps,p=r.memoizedState,d=p.element,Sf(t,r),hl(r,c,null,o);var _=r.memoizedState;if(c=_.element,p.isDehydrated)if(p={element:c,isDehydrated:!1,cache:_.cache,pendingSuspenseBoundaries:_.pendingSuspenseBoundaries,transitions:_.transitions},r.updateQueue.baseState=p,r.memoizedState=p,r.flags&256){d=xs(Error(n(423)),r),r=up(t,r,c,o,d);break e}else if(c!==d){d=xs(Error(n(424)),r),r=up(t,r,c,o,d);break e}else for(sn=Or(r.stateNode.containerInfo.firstChild),rn=r,Ke=!0,kn=null,o=wf(r,null,c,o),r.child=o;o;)o.flags=o.flags&-3|4096,o=o.sibling;else{if(Rs(),c===d){r=mr(t,r,o);break e}zt(t,r,c,o)}r=r.child}return r;case 5:return Af(r),t===null&&cc(r),c=r.type,d=r.pendingProps,p=t!==null?t.memoizedProps:null,_=d.children,tc(c,d)?_=null:p!==null&&tc(c,p)&&(r.flags|=32),op(t,r),zt(t,r,_,o),r.child;case 6:return t===null&&cc(r),null;case 13:return cp(t,r,o);case 4:return vc(r,r.stateNode.containerInfo),c=r.pendingProps,t===null?r.child=As(r,null,c,o):zt(t,r,c,o),r.child;case 11:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:xn(c,d),np(t,r,c,d,o);case 7:return zt(t,r,r.pendingProps,o),r.child;case 8:return zt(t,r,r.pendingProps.children,o),r.child;case 12:return zt(t,r,r.pendingProps.children,o),r.child;case 10:e:{if(c=r.type._context,d=r.pendingProps,p=r.memoizedProps,_=d.value,qe(ll,c._currentValue),c._currentValue=_,p!==null)if(Pn(p.value,_)){if(p.children===d.children&&!qt.current){r=mr(t,r,o);break e}}else for(p=r.child,p!==null&&(p.return=r);p!==null;){var S=p.dependencies;if(S!==null){_=p.child;for(var P=S.firstContext;P!==null;){if(P.context===c){if(p.tag===1){P=pr(-1,o&-o),P.tag=2;var j=p.updateQueue;if(j!==null){j=j.shared;var G=j.pending;G===null?P.next=P:(P.next=G.next,G.next=P),j.pending=P}}p.lanes|=o,P=p.alternate,P!==null&&(P.lanes|=o),mc(p.return,o,r),S.lanes|=o;break}P=P.next}}else if(p.tag===10)_=p.type===r.type?null:p.child;else if(p.tag===18){if(_=p.return,_===null)throw Error(n(341));_.lanes|=o,S=_.alternate,S!==null&&(S.lanes|=o),mc(_,o,r),_=p.sibling}else _=p.child;if(_!==null)_.return=p;else for(_=p;_!==null;){if(_===r){_=null;break}if(p=_.sibling,p!==null){p.return=_.return,_=p;break}_=_.return}p=_}zt(t,r,d.children,o),r=r.child}return r;case 9:return d=r.type,c=r.pendingProps.children,Ps(r,o),d=pn(d),c=c(d),r.flags|=1,zt(t,r,c,o),r.child;case 14:return c=r.type,d=xn(c,r.pendingProps),d=xn(c.type,d),rp(t,r,c,d,o);case 15:return ip(t,r,r.type,r.pendingProps,o);case 17:return c=r.type,d=r.pendingProps,d=r.elementType===c?d:xn(c,d),El(t,r),r.tag=1,Ht(c)?(t=!0,nl(r)):t=!1,Ps(r,o),Gf(r,c,d),Vc(r,c,d,o),Oc(null,r,c,!0,t,o);case 19:return dp(t,r,o);case 22:return sp(t,r,o)}throw Error(n(156,r.tag))};function Mp(t,r){return ts(t,r)}function jv(t,r,o,c){this.tag=t,this.key=o,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=r,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=c,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function yn(t,r,o,c){return new jv(t,r,o,c)}function th(t){return t=t.prototype,!(!t||!t.isReactComponent)}function Bv(t){if(typeof t=="function")return th(t)?1:0;if(t!=null){if(t=t.$$typeof,t===O)return 11;if(t===kt)return 14}return 2}function Wr(t,r){var o=t.alternate;return o===null?(o=yn(t.tag,r,t.key,t.mode),o.elementType=t.elementType,o.type=t.type,o.stateNode=t.stateNode,o.alternate=t,t.alternate=o):(o.pendingProps=r,o.type=t.type,o.flags=0,o.subtreeFlags=0,o.deletions=null),o.flags=t.flags&14680064,o.childLanes=t.childLanes,o.lanes=t.lanes,o.child=t.child,o.memoizedProps=t.memoizedProps,o.memoizedState=t.memoizedState,o.updateQueue=t.updateQueue,r=t.dependencies,o.dependencies=r===null?null:{lanes:r.lanes,firstContext:r.firstContext},o.sibling=t.sibling,o.index=t.index,o.ref=t.ref,o}function Vl(t,r,o,c,d,p){var _=2;if(c=t,typeof t=="function")th(t)&&(_=1);else if(typeof t=="string")_=5;else e:switch(t){case k:return Li(o.children,d,p,r);case T:_=8,d|=8;break;case A:return t=yn(12,o,r,d|2),t.elementType=A,t.lanes=p,t;case C:return t=yn(13,o,r,d),t.elementType=C,t.lanes=p,t;case tt:return t=yn(19,o,r,d),t.elementType=tt,t.lanes=p,t;case ze:return Nl(o,d,p,r);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case x:_=10;break e;case N:_=9;break e;case O:_=11;break e;case kt:_=14;break e;case xt:_=16,c=null;break e}throw Error(n(130,t==null?t:typeof t,""))}return r=yn(_,o,r,d),r.elementType=t,r.type=c,r.lanes=p,r}function Li(t,r,o,c){return t=yn(7,t,c,r),t.lanes=o,t}function Nl(t,r,o,c){return t=yn(22,t,c,r),t.elementType=ze,t.lanes=o,t.stateNode={isHidden:!1},t}function nh(t,r,o){return t=yn(6,t,null,r),t.lanes=o,t}function rh(t,r,o){return r=yn(4,t.children!==null?t.children:[],t.key,r),r.lanes=o,r.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},r}function $v(t,r,o,c,d){this.tag=r,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Cr(0),this.expirationTimes=Cr(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Cr(0),this.identifierPrefix=c,this.onRecoverableError=d,this.mutableSourceEagerHydrationData=null}function ih(t,r,o,c,d,p,_,S,P){return t=new $v(t,r,o,S,P),r===1?(r=1,p===!0&&(r|=8)):r=0,p=yn(3,null,null,r),t.current=p,p.stateNode=t,p.memoizedState={element:c,isDehydrated:o,cache:null,transitions:null,pendingSuspenseBoundaries:null},yc(p),t}function qv(t,r,o){var c=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:_e,key:c==null?null:""+c,children:t,containerInfo:r,implementation:o}}function Fp(t){if(!t)return Fr;t=t._reactInternals;e:{if(wn(t)!==t||t.tag!==1)throw Error(n(170));var r=t;do{switch(r.tag){case 3:r=r.stateNode.context;break e;case 1:if(Ht(r.type)){r=r.stateNode.__reactInternalMemoizedMergedChildContext;break e}}r=r.return}while(r!==null);throw Error(n(171))}if(t.tag===1){var o=t.type;if(Ht(o))return hf(t,o,r)}return r}function bp(t,r,o,c,d,p,_,S,P){return t=ih(o,c,!0,t,d,p,_,S,P),t.context=Fp(null),o=t.current,c=jt(),d=qr(o),p=pr(c,d),p.callback=r??null,zr(o,p,d),t.current.lanes=d,Pr(t,d,c),Kt(t,c),t}function Dl(t,r,o,c){var d=r.current,p=jt(),_=qr(d);return o=Fp(o),r.context===null?r.context=o:r.pendingContext=o,r=pr(p,_),r.payload={element:t},c=c===void 0?null:c,c!==null&&(r.callback=c),t=zr(d,r,_),t!==null&&(Dn(t,d,_,p),cl(t,d,_)),_}function Ll(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function Up(t,r){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var o=t.retryLane;t.retryLane=o!==0&&o<r?o:r}}function sh(t,r){Up(t,r),(t=t.alternate)&&Up(t,r)}function Hv(){return null}var zp=typeof reportError=="function"?reportError:function(t){console.error(t)};function oh(t){this._internalRoot=t}Ol.prototype.render=oh.prototype.render=function(t){var r=this._internalRoot;if(r===null)throw Error(n(409));Dl(t,r,null,null)},Ol.prototype.unmount=oh.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var r=t.containerInfo;Vi(function(){Dl(null,t,null,null)}),r[ur]=null}};function Ol(t){this._internalRoot=t}Ol.prototype.unstable_scheduleHydration=function(t){if(t){var r=Oa();t={blockedOn:null,target:t,priority:r};for(var o=0;o<zn.length&&r!==0&&r<zn[o].priority;o++);zn.splice(o,0,t),o===0&&ba(t)}};function ah(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Ml(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function jp(){}function Wv(t,r,o,c,d){if(d){if(typeof c=="function"){var p=c;c=function(){var j=Ll(_);p.call(j)}}var _=bp(r,c,t,0,null,!1,!1,"",jp);return t._reactRootContainer=_,t[ur]=_.current,Do(t.nodeType===8?t.parentNode:t),Vi(),_}for(;d=t.lastChild;)t.removeChild(d);if(typeof c=="function"){var S=c;c=function(){var j=Ll(P);S.call(j)}}var P=ih(t,0,!1,null,null,!1,!1,"",jp);return t._reactRootContainer=P,t[ur]=P.current,Do(t.nodeType===8?t.parentNode:t),Vi(function(){Dl(r,P,o,c)}),P}function Fl(t,r,o,c,d){var p=o._reactRootContainer;if(p){var _=p;if(typeof d=="function"){var S=d;d=function(){var P=Ll(_);S.call(P)}}Dl(r,_,t,d)}else _=Wv(o,r,t,d,c);return Ll(_)}Da=function(t){switch(t.tag){case 3:var r=t.stateNode;if(r.current.memoizedState.isDehydrated){var o=Ar(r.pendingLanes);o!==0&&(kr(r,o|1),Kt(r,$e()),!(Le&6)&&(Ds=$e()+500,br()))}break;case 13:Vi(function(){var c=fr(t,1);if(c!==null){var d=jt();Dn(c,t,1,d)}}),sh(t,1)}},is=function(t){if(t.tag===13){var r=fr(t,134217728);if(r!==null){var o=jt();Dn(r,t,134217728,o)}sh(t,134217728)}},La=function(t){if(t.tag===13){var r=qr(t),o=fr(t,r);if(o!==null){var c=jt();Dn(o,t,r,c)}sh(t,r)}},Oa=function(){return Pe},Ma=function(t,r){var o=Pe;try{return Pe=t,r()}finally{Pe=o}},Gi=function(t,r,o){switch(r){case"input":if(ro(t,o),r=o.name,o.type==="radio"&&r!=null){for(o=t;o.parentNode;)o=o.parentNode;for(o=o.querySelectorAll("input[name="+JSON.stringify(""+r)+'][type="radio"]'),r=0;r<o.length;r++){var c=o[r];if(c!==t&&c.form===t.form){var d=el(c);if(!d)throw Error(n(90));$i(c),ro(c,d)}}}break;case"textarea":Qi(t,o);break;case"select":r=o.value,r!=null&&tr(t,!!o.multiple,r,!1)}},hi=Jc,po=Vi;var Qv={usingClientEntryPoint:!1,Events:[Mo,Es,el,bn,fo,Jc]},Xo={findFiberByHostInstance:Si,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},Kv={bundleType:Xo.bundleType,version:Xo.version,rendererPackageName:Xo.rendererPackageName,rendererConfig:Xo.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ee.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=yo(t),t===null?null:t.stateNode},findFiberByHostInstance:Xo.findFiberByHostInstance||Hv,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var bl=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!bl.isDisabled&&bl.supportsFiber)try{gi=bl.inject(Kv),Zt=bl}catch{}}return Gt.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=Qv,Gt.createPortal=function(t,r){var o=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!ah(r))throw Error(n(200));return qv(t,r,null,o)},Gt.createRoot=function(t,r){if(!ah(t))throw Error(n(299));var o=!1,c="",d=zp;return r!=null&&(r.unstable_strictMode===!0&&(o=!0),r.identifierPrefix!==void 0&&(c=r.identifierPrefix),r.onRecoverableError!==void 0&&(d=r.onRecoverableError)),r=ih(t,1,!1,null,null,o,!1,c,d),t[ur]=r.current,Do(t.nodeType===8?t.parentNode:t),new oh(r)},Gt.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var r=t._reactInternals;if(r===void 0)throw typeof t.render=="function"?Error(n(188)):(t=Object.keys(t).join(","),Error(n(268,t)));return t=yo(r),t=t===null?null:t.stateNode,t},Gt.flushSync=function(t){return Vi(t)},Gt.hydrate=function(t,r,o){if(!Ml(r))throw Error(n(200));return Fl(null,t,r,!0,o)},Gt.hydrateRoot=function(t,r,o){if(!ah(t))throw Error(n(405));var c=o!=null&&o.hydratedSources||null,d=!1,p="",_=zp;if(o!=null&&(o.unstable_strictMode===!0&&(d=!0),o.identifierPrefix!==void 0&&(p=o.identifierPrefix),o.onRecoverableError!==void 0&&(_=o.onRecoverableError)),r=bp(r,null,t,1,o??null,d,!1,p,_),t[ur]=r.current,Do(t),c)for(t=0;t<c.length;t++)o=c[t],d=o._getVersion,d=d(o._source),r.mutableSourceEagerHydrationData==null?r.mutableSourceEagerHydrationData=[o,d]:r.mutableSourceEagerHydrationData.push(o,d);return new Ol(r)},Gt.render=function(t,r,o){if(!Ml(r))throw Error(n(200));return Fl(null,t,r,!1,o)},Gt.unmountComponentAtNode=function(t){if(!Ml(t))throw Error(n(40));return t._reactRootContainer?(Vi(function(){Fl(null,null,t,!1,function(){t._reactRootContainer=null,t[ur]=null})}),!0):!1},Gt.unstable_batchedUpdates=Jc,Gt.unstable_renderSubtreeIntoContainer=function(t,r,o,c){if(!Ml(o))throw Error(n(200));if(t==null||t._reactInternals===void 0)throw Error(n(38));return Fl(t,r,o,!1,c)},Gt.version="18.3.1-next-f1338f8080-20240426",Gt}var Gp;function n_(){if(Gp)return ch.exports;Gp=1;function i(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(i)}catch(e){console.error(e)}}return i(),ch.exports=t_(),ch.exports}var Xp;function r_(){if(Xp)return Ul;Xp=1;var i=n_();return Ul.createRoot=i.createRoot,Ul.hydrateRoot=i.hydrateRoot,Ul}var i_=r_(),Jo={},Yp;function s_(){if(Yp)return Jo;Yp=1,Object.defineProperty(Jo,"__esModule",{value:!0}),Jo.parse=h,Jo.serialize=v;const i=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,e=/^[\u0021-\u003A\u003C-\u007E]*$/,n=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,u=(()=>{const I=function(){};return I.prototype=Object.create(null),I})();function h(I,D){const F=new u,$=I.length;if($<2)return F;const z=(D==null?void 0:D.decode)||w;let Q=0;do{const Y=I.indexOf("=",Q);if(Y===-1)break;const ie=I.indexOf(";",Q),ee=ie===-1?$:ie;if(Y>ee){Q=I.lastIndexOf(";",Y-1)+1;continue}const ve=m(I,Q,Y),_e=g(I,Y,ve),k=I.slice(ve,_e);if(F[k]===void 0){let T=m(I,Y+1,ee),A=g(I,ee,T);const x=z(I.slice(T,A));F[k]=x}Q=ee+1}while(Q<$);return F}function m(I,D,F){do{const $=I.charCodeAt(D);if($!==32&&$!==9)return D}while(++D<F);return F}function g(I,D,F){for(;D>F;){const $=I.charCodeAt(--D);if($!==32&&$!==9)return D+1}return F}function v(I,D,F){const $=(F==null?void 0:F.encode)||encodeURIComponent;if(!i.test(I))throw new TypeError(`argument name is invalid: ${I}`);const z=$(D);if(!e.test(z))throw new TypeError(`argument val is invalid: ${D}`);let Q=I+"="+z;if(!F)return Q;if(F.maxAge!==void 0){if(!Number.isInteger(F.maxAge))throw new TypeError(`option maxAge is invalid: ${F.maxAge}`);Q+="; Max-Age="+F.maxAge}if(F.domain){if(!n.test(F.domain))throw new TypeError(`option domain is invalid: ${F.domain}`);Q+="; Domain="+F.domain}if(F.path){if(!s.test(F.path))throw new TypeError(`option path is invalid: ${F.path}`);Q+="; Path="+F.path}if(F.expires){if(!R(F.expires)||!Number.isFinite(F.expires.valueOf()))throw new TypeError(`option expires is invalid: ${F.expires}`);Q+="; Expires="+F.expires.toUTCString()}if(F.httpOnly&&(Q+="; HttpOnly"),F.secure&&(Q+="; Secure"),F.partitioned&&(Q+="; Partitioned"),F.priority)switch(typeof F.priority=="string"?F.priority.toLowerCase():void 0){case"low":Q+="; Priority=Low";break;case"medium":Q+="; Priority=Medium";break;case"high":Q+="; Priority=High";break;default:throw new TypeError(`option priority is invalid: ${F.priority}`)}if(F.sameSite)switch(typeof F.sameSite=="string"?F.sameSite.toLowerCase():F.sameSite){case!0:case"strict":Q+="; SameSite=Strict";break;case"lax":Q+="; SameSite=Lax";break;case"none":Q+="; SameSite=None";break;default:throw new TypeError(`option sameSite is invalid: ${F.sameSite}`)}return Q}function w(I){if(I.indexOf("%")===-1)return I;try{return decodeURIComponent(I)}catch{return I}}function R(I){return a.call(I)==="[object Date]"}return Jo}s_();/**
 * react-router v7.0.2
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */var Jp="popstate";function o_(i={}){function e(s,a){let{pathname:u,search:h,hash:m}=s.location;return Ih("",{pathname:u,search:h,hash:m},a.state&&a.state.usr||null,a.state&&a.state.key||"default")}function n(s,a){return typeof a=="string"?a:ua(a)}return l_(e,n,null,i)}function Xe(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}function Ln(i,e){if(!i){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function a_(){return Math.random().toString(36).substring(2,10)}function Zp(i,e){return{usr:i.state,key:i.key,idx:e}}function Ih(i,e,n=null,s){return{pathname:typeof i=="string"?i:i.pathname,search:"",hash:"",...typeof e=="string"?Ks(e):e,state:n,key:e&&e.key||s||a_()}}function ua({pathname:i="/",search:e="",hash:n=""}){return e&&e!=="?"&&(i+=e.charAt(0)==="?"?e:"?"+e),n&&n!=="#"&&(i+=n.charAt(0)==="#"?n:"#"+n),i}function Ks(i){let e={};if(i){let n=i.indexOf("#");n>=0&&(e.hash=i.substring(n),i=i.substring(0,n));let s=i.indexOf("?");s>=0&&(e.search=i.substring(s),i=i.substring(0,s)),i&&(e.pathname=i)}return e}function l_(i,e,n,s={}){let{window:a=document.defaultView,v5Compat:u=!1}=s,h=a.history,m="POP",g=null,v=w();v==null&&(v=0,h.replaceState({...h.state,idx:v},""));function w(){return(h.state||{idx:null}).idx}function R(){m="POP";let z=w(),Q=z==null?null:z-v;v=z,g&&g({action:m,location:$.location,delta:Q})}function I(z,Q){m="PUSH";let Y=Ih($.location,z,Q);v=w()+1;let ie=Zp(Y,v),ee=$.createHref(Y);try{h.pushState(ie,"",ee)}catch(ve){if(ve instanceof DOMException&&ve.name==="DataCloneError")throw ve;a.location.assign(ee)}u&&g&&g({action:m,location:$.location,delta:1})}function D(z,Q){m="REPLACE";let Y=Ih($.location,z,Q);v=w();let ie=Zp(Y,v),ee=$.createHref(Y);h.replaceState(ie,"",ee),u&&g&&g({action:m,location:$.location,delta:0})}function F(z){let Q=a.location.origin!=="null"?a.location.origin:a.location.href,Y=typeof z=="string"?z:ua(z);return Y=Y.replace(/ $/,"%20"),Xe(Q,`No window.location.(origin|href) available to create URL for href: ${Y}`),new URL(Y,Q)}let $={get action(){return m},get location(){return i(a,h)},listen(z){if(g)throw new Error("A history only accepts one active listener");return a.addEventListener(Jp,R),g=z,()=>{a.removeEventListener(Jp,R),g=null}},createHref(z){return e(a,z)},createURL:F,encodeLocation(z){let Q=F(z);return{pathname:Q.pathname,search:Q.search,hash:Q.hash}},push:I,replace:D,go(z){return h.go(z)}};return $}function Zm(i,e,n="/"){return u_(i,e,n,!1)}function u_(i,e,n,s){let a=typeof e=="string"?Ks(e):e,u=Jr(a.pathname||"/",n);if(u==null)return null;let h=eg(i);c_(h);let m=null;for(let g=0;m==null&&g<h.length;++g){let v=w_(u);m=__(h[g],v,s)}return m}function eg(i,e=[],n=[],s=""){let a=(u,h,m)=>{let g={relativePath:m===void 0?u.path||"":m,caseSensitive:u.caseSensitive===!0,childrenIndex:h,route:u};g.relativePath.startsWith("/")&&(Xe(g.relativePath.startsWith(s),`Absolute route path "${g.relativePath}" nested under path "${s}" is not valid. An absolute child route path must start with the combined path of all its parent routes.`),g.relativePath=g.relativePath.slice(s.length));let v=yr([s,g.relativePath]),w=n.concat(g);u.children&&u.children.length>0&&(Xe(u.index!==!0,`Index routes must not have child routes. Please remove all child routes from route path "${v}".`),eg(u.children,e,w,v)),!(u.path==null&&!u.index)&&e.push({path:v,score:y_(v,u.index),routesMeta:w})};return i.forEach((u,h)=>{var m;if(u.path===""||!((m=u.path)!=null&&m.includes("?")))a(u,h);else for(let g of tg(u.path))a(u,h,g)}),e}function tg(i){let e=i.split("/");if(e.length===0)return[];let[n,...s]=e,a=n.endsWith("?"),u=n.replace(/\?$/,"");if(s.length===0)return a?[u,""]:[u];let h=tg(s.join("/")),m=[];return m.push(...h.map(g=>g===""?u:[u,g].join("/"))),a&&m.push(...h),m.map(g=>i.startsWith("/")&&g===""?"/":g)}function c_(i){i.sort((e,n)=>e.score!==n.score?n.score-e.score:v_(e.routesMeta.map(s=>s.childrenIndex),n.routesMeta.map(s=>s.childrenIndex)))}var h_=/^:[\w-]+$/,d_=3,f_=2,p_=1,m_=10,g_=-2,em=i=>i==="*";function y_(i,e){let n=i.split("/"),s=n.length;return n.some(em)&&(s+=g_),e&&(s+=f_),n.filter(a=>!em(a)).reduce((a,u)=>a+(h_.test(u)?d_:u===""?p_:m_),s)}function v_(i,e){return i.length===e.length&&i.slice(0,-1).every((s,a)=>s===e[a])?i[i.length-1]-e[e.length-1]:0}function __(i,e,n=!1){let{routesMeta:s}=i,a={},u="/",h=[];for(let m=0;m<s.length;++m){let g=s[m],v=m===s.length-1,w=u==="/"?e:e.slice(u.length)||"/",R=tu({path:g.relativePath,caseSensitive:g.caseSensitive,end:v},w),I=g.route;if(!R&&v&&n&&!s[s.length-1].route.index&&(R=tu({path:g.relativePath,caseSensitive:g.caseSensitive,end:!1},w)),!R)return null;Object.assign(a,R.params),h.push({params:a,pathname:yr([u,R.pathname]),pathnameBase:R_(yr([u,R.pathnameBase])),route:I}),R.pathnameBase!=="/"&&(u=yr([u,R.pathnameBase]))}return h}function tu(i,e){typeof i=="string"&&(i={path:i,caseSensitive:!1,end:!0});let[n,s]=E_(i.path,i.caseSensitive,i.end),a=e.match(n);if(!a)return null;let u=a[0],h=u.replace(/(.)\/+$/,"$1"),m=a.slice(1);return{params:s.reduce((v,{paramName:w,isOptional:R},I)=>{if(w==="*"){let F=m[I]||"";h=u.slice(0,u.length-F.length).replace(/(.)\/+$/,"$1")}const D=m[I];return R&&!D?v[w]=void 0:v[w]=(D||"").replace(/%2F/g,"/"),v},{}),pathname:u,pathnameBase:h,pattern:i}}function E_(i,e=!1,n=!0){Ln(i==="*"||!i.endsWith("*")||i.endsWith("/*"),`Route path "${i}" will be treated as if it were "${i.replace(/\*$/,"/*")}" because the \`*\` character must always follow a \`/\` in the pattern. To get rid of this warning, please change the route path to "${i.replace(/\*$/,"/*")}".`);let s=[],a="^"+i.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(h,m,g)=>(s.push({paramName:m,isOptional:g!=null}),g?"/?([^\\/]+)?":"/([^\\/]+)"));return i.endsWith("*")?(s.push({paramName:"*"}),a+=i==="*"||i==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?a+="\\/*$":i!==""&&i!=="/"&&(a+="(?:(?=\\/|$))"),[new RegExp(a,e?void 0:"i"),s]}function w_(i){try{return i.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return Ln(!1,`The URL path "${i}" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (${e}).`),i}}function Jr(i,e){if(e==="/")return i;if(!i.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,s=i.charAt(n);return s&&s!=="/"?null:i.slice(n)||"/"}function T_(i,e="/"){let{pathname:n,search:s="",hash:a=""}=typeof i=="string"?Ks(i):i;return{pathname:n?n.startsWith("/")?n:S_(n,e):e,search:A_(s),hash:C_(a)}}function S_(i,e){let n=e.replace(/\/+$/,"").split("/");return i.split("/").forEach(a=>{a===".."?n.length>1&&n.pop():a!=="."&&n.push(a)}),n.length>1?n.join("/"):"/"}function fh(i,e,n,s){return`Cannot include a '${i}' character in a manually specified \`to.${e}\` field [${JSON.stringify(s)}].  Please separate it out to the \`to.${n}\` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.`}function I_(i){return i.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Gh(i){let e=I_(i);return e.map((n,s)=>s===e.length-1?n.pathname:n.pathnameBase)}function Xh(i,e,n,s=!1){let a;typeof i=="string"?a=Ks(i):(a={...i},Xe(!a.pathname||!a.pathname.includes("?"),fh("?","pathname","search",a)),Xe(!a.pathname||!a.pathname.includes("#"),fh("#","pathname","hash",a)),Xe(!a.search||!a.search.includes("#"),fh("#","search","hash",a)));let u=i===""||a.pathname==="",h=u?"/":a.pathname,m;if(h==null)m=n;else{let R=e.length-1;if(!s&&h.startsWith("..")){let I=h.split("/");for(;I[0]==="..";)I.shift(),R-=1;a.pathname=I.join("/")}m=R>=0?e[R]:"/"}let g=T_(a,m),v=h&&h!=="/"&&h.endsWith("/"),w=(u||h===".")&&n.endsWith("/");return!g.pathname.endsWith("/")&&(v||w)&&(g.pathname+="/"),g}var yr=i=>i.join("/").replace(/\/\/+/g,"/"),R_=i=>i.replace(/\/+$/,"").replace(/^\/*/,"/"),A_=i=>!i||i==="?"?"":i.startsWith("?")?i:"?"+i,C_=i=>!i||i==="#"?"":i.startsWith("#")?i:"#"+i;function P_(i){return i!=null&&typeof i.status=="number"&&typeof i.statusText=="string"&&typeof i.internal=="boolean"&&"data"in i}var ng=["POST","PUT","PATCH","DELETE"];new Set(ng);var k_=["GET",...ng];new Set(k_);var Gs=q.createContext(null);Gs.displayName="DataRouter";var mu=q.createContext(null);mu.displayName="DataRouterState";var rg=q.createContext({isTransitioning:!1});rg.displayName="ViewTransition";var x_=q.createContext(new Map);x_.displayName="Fetchers";var V_=q.createContext(null);V_.displayName="Await";var Mn=q.createContext(null);Mn.displayName="Navigation";var va=q.createContext(null);va.displayName="Location";var Jn=q.createContext({outlet:null,matches:[],isDataRoute:!1});Jn.displayName="Route";var Yh=q.createContext(null);Yh.displayName="RouteError";function N_(i,{relative:e}={}){Xe(Xs(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:s}=q.useContext(Mn),{hash:a,pathname:u,search:h}=_a(i,{relative:e}),m=u;return n!=="/"&&(m=u==="/"?n:yr([n,u])),s.createHref({pathname:m,search:h,hash:a})}function Xs(){return q.useContext(va)!=null}function Tr(){return Xe(Xs(),"useLocation() may be used only in the context of a <Router> component."),q.useContext(va).location}var ig="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function sg(i){q.useContext(Mn).static||q.useLayoutEffect(i)}function gu(){let{isDataRoute:i}=q.useContext(Jn);return i?H_():D_()}function D_(){Xe(Xs(),"useNavigate() may be used only in the context of a <Router> component.");let i=q.useContext(Gs),{basename:e,navigator:n}=q.useContext(Mn),{matches:s}=q.useContext(Jn),{pathname:a}=Tr(),u=JSON.stringify(Gh(s)),h=q.useRef(!1);return sg(()=>{h.current=!0}),q.useCallback((g,v={})=>{if(Ln(h.current,ig),!h.current)return;if(typeof g=="number"){n.go(g);return}let w=Xh(g,JSON.parse(u),a,v.relative==="path");i==null&&e!=="/"&&(w.pathname=w.pathname==="/"?e:yr([e,w.pathname])),(v.replace?n.replace:n.push)(w,v.state,v)},[e,n,u,a,i])}q.createContext(null);function _a(i,{relative:e}={}){let{matches:n}=q.useContext(Jn),{pathname:s}=Tr(),a=JSON.stringify(Gh(n));return q.useMemo(()=>Xh(i,JSON.parse(a),s,e==="path"),[i,a,s,e])}function L_(i,e){return og(i,e)}function og(i,e,n,s){var Q;Xe(Xs(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:a}=q.useContext(Mn),{matches:u}=q.useContext(Jn),h=u[u.length-1],m=h?h.params:{},g=h?h.pathname:"/",v=h?h.pathnameBase:"/",w=h&&h.route;{let Y=w&&w.path||"";ag(g,!w||Y.endsWith("*")||Y.endsWith("*?"),`You rendered descendant <Routes> (or called \`useRoutes()\`) at "${g}" (under <Route path="${Y}">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won't match anymore and therefore the child routes will never render.

Please change the parent <Route path="${Y}"> to <Route path="${Y==="/"?"*":`${Y}/*`}">.`)}let R=Tr(),I;if(e){let Y=typeof e=="string"?Ks(e):e;Xe(v==="/"||((Q=Y.pathname)==null?void 0:Q.startsWith(v)),`When overriding the location using \`<Routes location>\` or \`useRoutes(routes, location)\`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "${v}" but pathname "${Y.pathname}" was given in the \`location\` prop.`),I=Y}else I=R;let D=I.pathname||"/",F=D;if(v!=="/"){let Y=v.replace(/^\//,"").split("/");F="/"+D.replace(/^\//,"").split("/").slice(Y.length).join("/")}let $=Zm(i,{pathname:F});Ln(w||$!=null,`No routes matched location "${I.pathname}${I.search}${I.hash}" `),Ln($==null||$[$.length-1].route.element!==void 0||$[$.length-1].route.Component!==void 0||$[$.length-1].route.lazy!==void 0,`Matched leaf route at location "${I.pathname}${I.search}${I.hash}" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.`);let z=U_($&&$.map(Y=>Object.assign({},Y,{params:Object.assign({},m,Y.params),pathname:yr([v,a.encodeLocation?a.encodeLocation(Y.pathname).pathname:Y.pathname]),pathnameBase:Y.pathnameBase==="/"?v:yr([v,a.encodeLocation?a.encodeLocation(Y.pathnameBase).pathname:Y.pathnameBase])})),u,n,s);return e&&z?q.createElement(va.Provider,{value:{location:{pathname:"/",search:"",hash:"",state:null,key:"default",...I},navigationType:"POP"}},z):z}function O_(){let i=q_(),e=P_(i)?`${i.status} ${i.statusText}`:i instanceof Error?i.message:JSON.stringify(i),n=i instanceof Error?i.stack:null,s="rgba(200,200,200, 0.5)",a={padding:"0.5rem",backgroundColor:s},u={padding:"2px 4px",backgroundColor:s},h=null;return console.error("Error handled by React Router default ErrorBoundary:",i),h=q.createElement(q.Fragment,null,q.createElement("p",null,"💿 Hey developer 👋"),q.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",q.createElement("code",{style:u},"ErrorBoundary")," or"," ",q.createElement("code",{style:u},"errorElement")," prop on your route.")),q.createElement(q.Fragment,null,q.createElement("h2",null,"Unexpected Application Error!"),q.createElement("h3",{style:{fontStyle:"italic"}},e),n?q.createElement("pre",{style:a},n):null,h)}var M_=q.createElement(O_,null),F_=class extends q.Component{constructor(i){super(i),this.state={location:i.location,revalidation:i.revalidation,error:i.error}}static getDerivedStateFromError(i){return{error:i}}static getDerivedStateFromProps(i,e){return e.location!==i.location||e.revalidation!=="idle"&&i.revalidation==="idle"?{error:i.error,location:i.location,revalidation:i.revalidation}:{error:i.error!==void 0?i.error:e.error,location:e.location,revalidation:i.revalidation||e.revalidation}}componentDidCatch(i,e){console.error("React Router caught the following error during render",i,e)}render(){return this.state.error!==void 0?q.createElement(Jn.Provider,{value:this.props.routeContext},q.createElement(Yh.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function b_({routeContext:i,match:e,children:n}){let s=q.useContext(Gs);return s&&s.static&&s.staticContext&&(e.route.errorElement||e.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=e.route.id),q.createElement(Jn.Provider,{value:i},n)}function U_(i,e=[],n=null,s=null){if(i==null){if(!n)return null;if(n.errors)i=n.matches;else if(e.length===0&&!n.initialized&&n.matches.length>0)i=n.matches;else return null}let a=i,u=n==null?void 0:n.errors;if(u!=null){let g=a.findIndex(v=>v.route.id&&(u==null?void 0:u[v.route.id])!==void 0);Xe(g>=0,`Could not find a matching route for errors on route IDs: ${Object.keys(u).join(",")}`),a=a.slice(0,Math.min(a.length,g+1))}let h=!1,m=-1;if(n)for(let g=0;g<a.length;g++){let v=a[g];if((v.route.HydrateFallback||v.route.hydrateFallbackElement)&&(m=g),v.route.id){let{loaderData:w,errors:R}=n,I=v.route.loader&&!w.hasOwnProperty(v.route.id)&&(!R||R[v.route.id]===void 0);if(v.route.lazy||I){h=!0,m>=0?a=a.slice(0,m+1):a=[a[0]];break}}}return a.reduceRight((g,v,w)=>{let R,I=!1,D=null,F=null;n&&(R=u&&v.route.id?u[v.route.id]:void 0,D=v.route.errorElement||M_,h&&(m<0&&w===0?(ag("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),I=!0,F=null):m===w&&(I=!0,F=v.route.hydrateFallbackElement||null)));let $=e.concat(a.slice(0,w+1)),z=()=>{let Q;return R?Q=D:I?Q=F:v.route.Component?Q=q.createElement(v.route.Component,null):v.route.element?Q=v.route.element:Q=g,q.createElement(b_,{match:v,routeContext:{outlet:g,matches:$,isDataRoute:n!=null},children:Q})};return n&&(v.route.ErrorBoundary||v.route.errorElement||w===0)?q.createElement(F_,{location:n.location,revalidation:n.revalidation,component:D,error:R,children:z(),routeContext:{outlet:null,matches:$,isDataRoute:!0}}):z()},null)}function Jh(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function z_(i){let e=q.useContext(Gs);return Xe(e,Jh(i)),e}function j_(i){let e=q.useContext(mu);return Xe(e,Jh(i)),e}function B_(i){let e=q.useContext(Jn);return Xe(e,Jh(i)),e}function Zh(i){let e=B_(i),n=e.matches[e.matches.length-1];return Xe(n.route.id,`${i} can only be used on routes that contain a unique "id"`),n.route.id}function $_(){return Zh("useRouteId")}function q_(){var s;let i=q.useContext(Yh),e=j_("useRouteError"),n=Zh("useRouteError");return i!==void 0?i:(s=e.errors)==null?void 0:s[n]}function H_(){let{router:i}=z_("useNavigate"),e=Zh("useNavigate"),n=q.useRef(!1);return sg(()=>{n.current=!0}),q.useCallback(async(a,u={})=>{Ln(n.current,ig),n.current&&(typeof a=="number"?i.navigate(a):await i.navigate(a,{fromRouteId:e,...u}))},[i,e])}var tm={};function ag(i,e,n){!e&&!tm[i]&&(tm[i]=!0,Ln(!1,n))}q.memo(W_);function W_({routes:i,future:e,state:n}){return og(i,void 0,n,e)}function Q_({to:i,replace:e,state:n,relative:s}){Xe(Xs(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=q.useContext(Mn);Ln(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:u}=q.useContext(Jn),{pathname:h}=Tr(),m=gu(),g=Xh(i,Gh(u),h,s==="path"),v=JSON.stringify(g);return q.useEffect(()=>{m(JSON.parse(v),{replace:e,state:n,relative:s})},[m,v,s,e,n]),null}function Wl(i){Xe(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function K_({basename:i="/",children:e=null,location:n,navigationType:s="POP",navigator:a,static:u=!1}){Xe(!Xs(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let h=i.replace(/^\/*/,"/"),m=q.useMemo(()=>({basename:h,navigator:a,static:u,future:{}}),[h,a,u]);typeof n=="string"&&(n=Ks(n));let{pathname:g="/",search:v="",hash:w="",state:R=null,key:I="default"}=n,D=q.useMemo(()=>{let F=Jr(g,h);return F==null?null:{location:{pathname:F,search:v,hash:w,state:R,key:I},navigationType:s}},[h,g,v,w,R,I,s]);return Ln(D!=null,`<Router basename="${h}"> is not able to match the URL "${g}${v}${w}" because it does not start with the basename, so the <Router> won't render anything.`),D==null?null:q.createElement(Mn.Provider,{value:m},q.createElement(va.Provider,{children:e,value:D}))}function G_({children:i,location:e}){return L_(Rh(i),e)}function Rh(i,e=[]){let n=[];return q.Children.forEach(i,(s,a)=>{if(!q.isValidElement(s))return;let u=[...e,a];if(s.type===q.Fragment){n.push.apply(n,Rh(s.props.children,u));return}Xe(s.type===Wl,`[${typeof s.type=="string"?s.type:s.type.name}] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>`),Xe(!s.props.index||!s.props.children,"An index route cannot have child routes.");let h={id:s.props.id||u.join("-"),caseSensitive:s.props.caseSensitive,element:s.props.element,Component:s.props.Component,index:s.props.index,path:s.props.path,loader:s.props.loader,action:s.props.action,hydrateFallbackElement:s.props.hydrateFallbackElement,HydrateFallback:s.props.HydrateFallback,errorElement:s.props.errorElement,ErrorBoundary:s.props.ErrorBoundary,hasErrorBoundary:s.props.hasErrorBoundary===!0||s.props.ErrorBoundary!=null||s.props.errorElement!=null,shouldRevalidate:s.props.shouldRevalidate,handle:s.props.handle,lazy:s.props.lazy};s.props.children&&(h.children=Rh(s.props.children,u)),n.push(h)}),n}var Ql="get",Kl="application/x-www-form-urlencoded";function yu(i){return i!=null&&typeof i.tagName=="string"}function X_(i){return yu(i)&&i.tagName.toLowerCase()==="button"}function Y_(i){return yu(i)&&i.tagName.toLowerCase()==="form"}function J_(i){return yu(i)&&i.tagName.toLowerCase()==="input"}function Z_(i){return!!(i.metaKey||i.altKey||i.ctrlKey||i.shiftKey)}function e0(i,e){return i.button===0&&(!e||e==="_self")&&!Z_(i)}var zl=null;function t0(){if(zl===null)try{new FormData(document.createElement("form"),0),zl=!1}catch{zl=!0}return zl}var n0=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function ph(i){return i!=null&&!n0.has(i)?(Ln(!1,`"${i}" is not a valid \`encType\` for \`<Form>\`/\`<fetcher.Form>\` and will default to "${Kl}"`),null):i}function r0(i,e){let n,s,a,u,h;if(Y_(i)){let m=i.getAttribute("action");s=m?Jr(m,e):null,n=i.getAttribute("method")||Ql,a=ph(i.getAttribute("enctype"))||Kl,u=new FormData(i)}else if(X_(i)||J_(i)&&(i.type==="submit"||i.type==="image")){let m=i.form;if(m==null)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let g=i.getAttribute("formaction")||m.getAttribute("action");if(s=g?Jr(g,e):null,n=i.getAttribute("formmethod")||m.getAttribute("method")||Ql,a=ph(i.getAttribute("formenctype"))||ph(m.getAttribute("enctype"))||Kl,u=new FormData(m,i),!t0()){let{name:v,type:w,value:R}=i;if(w==="image"){let I=v?`${v}.`:"";u.append(`${I}x`,"0"),u.append(`${I}y`,"0")}else v&&u.append(v,R)}}else{if(yu(i))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Ql,s=null,a=Kl,h=i}return u&&a==="text/plain"&&(h=u,u=void 0),{action:s,method:n.toLowerCase(),encType:a,formData:u,body:h}}function ed(i,e){if(i===!1||i===null||typeof i>"u")throw new Error(e)}async function i0(i,e){if(i.id in e)return e[i.id];try{let n=await import(i.module);return e[i.id]=n,n}catch(n){return console.error(`Error loading route module \`${i.module}\`, reloading page...`),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise(()=>{})}}function s0(i){return i==null?!1:i.href==null?i.rel==="preload"&&typeof i.imageSrcSet=="string"&&typeof i.imageSizes=="string":typeof i.rel=="string"&&typeof i.href=="string"}async function o0(i,e,n){let s=await Promise.all(i.map(async a=>{let u=e.routes[a.route.id];if(u){let h=await i0(u,n);return h.links?h.links():[]}return[]}));return c0(s.flat(1).filter(s0).filter(a=>a.rel==="stylesheet"||a.rel==="preload").map(a=>a.rel==="stylesheet"?{...a,rel:"prefetch",as:"style"}:{...a,rel:"prefetch"}))}function nm(i,e,n,s,a,u){let h=(g,v)=>n[v]?g.route.id!==n[v].route.id:!0,m=(g,v)=>{var w;return n[v].pathname!==g.pathname||((w=n[v].route.path)==null?void 0:w.endsWith("*"))&&n[v].params["*"]!==g.params["*"]};return u==="assets"?e.filter((g,v)=>h(g,v)||m(g,v)):u==="data"?e.filter((g,v)=>{var R;let w=s.routes[g.route.id];if(!w||!w.hasLoader)return!1;if(h(g,v)||m(g,v))return!0;if(g.route.shouldRevalidate){let I=g.route.shouldRevalidate({currentUrl:new URL(a.pathname+a.search+a.hash,window.origin),currentParams:((R=n[0])==null?void 0:R.params)||{},nextUrl:new URL(i,window.origin),nextParams:g.params,defaultShouldRevalidate:!0});if(typeof I=="boolean")return I}return!0}):[]}function a0(i,e){return l0(i.map(n=>{let s=e.routes[n.route.id];if(!s)return[];let a=[s.module];return s.imports&&(a=a.concat(s.imports)),a}).flat(1))}function l0(i){return[...new Set(i)]}function u0(i){let e={},n=Object.keys(i).sort();for(let s of n)e[s]=i[s];return e}function c0(i,e){let n=new Set;return new Set(e),i.reduce((s,a)=>{let u=JSON.stringify(u0(a));return n.has(u)||(n.add(u),s.push({key:u,link:a})),s},[])}function h0(i){let e=typeof i=="string"?new URL(i,typeof window>"u"?"server://singlefetch/":window.location.origin):i;return e.pathname==="/"?e.pathname="_root.data":e.pathname=`${e.pathname.replace(/\/$/,"")}.data`,e}function d0(){let i=q.useContext(Gs);return ed(i,"You must render this element inside a <DataRouterContext.Provider> element"),i}function f0(){let i=q.useContext(mu);return ed(i,"You must render this element inside a <DataRouterStateContext.Provider> element"),i}var td=q.createContext(void 0);td.displayName="FrameworkContext";function lg(){let i=q.useContext(td);return ed(i,"You must render this element inside a <HydratedRouter> element"),i}function p0(i,e){let n=q.useContext(td),[s,a]=q.useState(!1),[u,h]=q.useState(!1),{onFocus:m,onBlur:g,onMouseEnter:v,onMouseLeave:w,onTouchStart:R}=e,I=q.useRef(null);q.useEffect(()=>{if(i==="render"&&h(!0),i==="viewport"){let $=Q=>{Q.forEach(Y=>{h(Y.isIntersecting)})},z=new IntersectionObserver($,{threshold:.5});return I.current&&z.observe(I.current),()=>{z.disconnect()}}},[i]),q.useEffect(()=>{if(s){let $=setTimeout(()=>{h(!0)},100);return()=>{clearTimeout($)}}},[s]);let D=()=>{a(!0)},F=()=>{a(!1),h(!1)};return n?i!=="intent"?[u,I,{}]:[u,I,{onFocus:Zo(m,D),onBlur:Zo(g,F),onMouseEnter:Zo(v,D),onMouseLeave:Zo(w,F),onTouchStart:Zo(R,D)}]:[!1,I,{}]}function Zo(i,e){return n=>{i&&i(n),n.defaultPrevented||e(n)}}function m0({page:i,...e}){let{router:n}=d0(),s=q.useMemo(()=>Zm(n.routes,i,n.basename),[n.routes,i,n.basename]);return s?q.createElement(y0,{page:i,matches:s,...e}):(console.warn(`Tried to prefetch ${i} but no routes matched.`),null)}function g0(i){let{manifest:e,routeModules:n}=lg(),[s,a]=q.useState([]);return q.useEffect(()=>{let u=!1;return o0(i,e,n).then(h=>{u||a(h)}),()=>{u=!0}},[i,e,n]),s}function y0({page:i,matches:e,...n}){let s=Tr(),{manifest:a,routeModules:u}=lg(),{loaderData:h,matches:m}=f0(),g=q.useMemo(()=>nm(i,e,m,a,s,"data"),[i,e,m,a,s]),v=q.useMemo(()=>nm(i,e,m,a,s,"assets"),[i,e,m,a,s]),w=q.useMemo(()=>{if(i===s.pathname+s.search+s.hash)return[];let D=new Set,F=!1;if(e.forEach(z=>{var Y;let Q=a.routes[z.route.id];!Q||!Q.hasLoader||(!g.some(ie=>ie.route.id===z.route.id)&&z.route.id in h&&((Y=u[z.route.id])!=null&&Y.shouldRevalidate)||Q.hasClientLoader?F=!0:D.add(z.route.id))}),D.size===0)return[];let $=h0(i);return F&&D.size>0&&$.searchParams.set("_routes",e.filter(z=>D.has(z.route.id)).map(z=>z.route.id).join(",")),[$.pathname+$.search]},[h,s,a,g,e,i,u]),R=q.useMemo(()=>a0(v,a),[v,a]),I=g0(v);return q.createElement(q.Fragment,null,w.map(D=>q.createElement("link",{key:D,rel:"prefetch",as:"fetch",href:D,...n})),R.map(D=>q.createElement("link",{key:D,rel:"modulepreload",href:D,...n})),I.map(({key:D,link:F})=>q.createElement("link",{key:D,...F})))}function v0(...i){return e=>{i.forEach(n=>{typeof n=="function"?n(e):n!=null&&(n.current=e)})}}var ug=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u";try{ug&&(window.__reactRouterVersion="7.0.2")}catch{}function _0({basename:i,children:e,window:n}){let s=q.useRef();s.current==null&&(s.current=o_({window:n,v5Compat:!0}));let a=s.current,[u,h]=q.useState({action:a.action,location:a.location}),m=q.useCallback(g=>{q.startTransition(()=>h(g))},[h]);return q.useLayoutEffect(()=>a.listen(m),[a,m]),q.createElement(K_,{basename:i,children:e,location:u.location,navigationType:u.action,navigator:a})}var cg=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,hg=q.forwardRef(function({onClick:e,discover:n="render",prefetch:s="none",relative:a,reloadDocument:u,replace:h,state:m,target:g,to:v,preventScrollReset:w,viewTransition:R,...I},D){let{basename:F}=q.useContext(Mn),$=typeof v=="string"&&cg.test(v),z,Q=!1;if(typeof v=="string"&&$&&(z=v,ug))try{let A=new URL(window.location.href),x=v.startsWith("//")?new URL(A.protocol+v):new URL(v),N=Jr(x.pathname,F);x.origin===A.origin&&N!=null?v=N+x.search+x.hash:Q=!0}catch{Ln(!1,`<Link to="${v}"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.`)}let Y=N_(v,{relative:a}),[ie,ee,ve]=p0(s,I),_e=S0(v,{replace:h,state:m,target:g,preventScrollReset:w,relative:a,viewTransition:R});function k(A){e&&e(A),A.defaultPrevented||_e(A)}let T=q.createElement("a",{...I,...ve,href:z||Y,onClick:Q||u?e:k,ref:v0(D,ee),target:g,"data-discover":!$&&n==="render"?"true":void 0});return ie&&!$?q.createElement(q.Fragment,null,T,q.createElement(m0,{page:Y})):T});hg.displayName="Link";var E0=q.forwardRef(function({"aria-current":e="page",caseSensitive:n=!1,className:s="",end:a=!1,style:u,to:h,viewTransition:m,children:g,...v},w){let R=_a(h,{relative:v.relative}),I=Tr(),D=q.useContext(mu),{navigator:F,basename:$}=q.useContext(Mn),z=D!=null&&P0(R)&&m===!0,Q=F.encodeLocation?F.encodeLocation(R).pathname:R.pathname,Y=I.pathname,ie=D&&D.navigation&&D.navigation.location?D.navigation.location.pathname:null;n||(Y=Y.toLowerCase(),ie=ie?ie.toLowerCase():null,Q=Q.toLowerCase()),ie&&$&&(ie=Jr(ie,$)||ie);const ee=Q!=="/"&&Q.endsWith("/")?Q.length-1:Q.length;let ve=Y===Q||!a&&Y.startsWith(Q)&&Y.charAt(ee)==="/",_e=ie!=null&&(ie===Q||!a&&ie.startsWith(Q)&&ie.charAt(Q.length)==="/"),k={isActive:ve,isPending:_e,isTransitioning:z},T=ve?e:void 0,A;typeof s=="function"?A=s(k):A=[s,ve?"active":null,_e?"pending":null,z?"transitioning":null].filter(Boolean).join(" ");let x=typeof u=="function"?u(k):u;return q.createElement(hg,{...v,"aria-current":T,className:A,ref:w,style:x,to:h,viewTransition:m},typeof g=="function"?g(k):g)});E0.displayName="NavLink";var w0=q.forwardRef(({discover:i="render",fetcherKey:e,navigate:n,reloadDocument:s,replace:a,state:u,method:h=Ql,action:m,onSubmit:g,relative:v,preventScrollReset:w,viewTransition:R,...I},D)=>{let F=A0(),$=C0(m,{relative:v}),z=h.toLowerCase()==="get"?"get":"post",Q=typeof m=="string"&&cg.test(m),Y=ie=>{if(g&&g(ie),ie.defaultPrevented)return;ie.preventDefault();let ee=ie.nativeEvent.submitter,ve=(ee==null?void 0:ee.getAttribute("formmethod"))||h;F(ee||ie.currentTarget,{fetcherKey:e,method:ve,navigate:n,replace:a,state:u,relative:v,preventScrollReset:w,viewTransition:R})};return q.createElement("form",{ref:D,method:z,action:$,onSubmit:s?g:Y,...I,"data-discover":!Q&&i==="render"?"true":void 0})});w0.displayName="Form";function T0(i){return`${i} must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.`}function dg(i){let e=q.useContext(Gs);return Xe(e,T0(i)),e}function S0(i,{target:e,replace:n,state:s,preventScrollReset:a,relative:u,viewTransition:h}={}){let m=gu(),g=Tr(),v=_a(i,{relative:u});return q.useCallback(w=>{if(e0(w,e)){w.preventDefault();let R=n!==void 0?n:ua(g)===ua(v);m(i,{replace:R,state:s,preventScrollReset:a,relative:u,viewTransition:h})}},[g,m,v,n,s,e,i,a,u,h])}var I0=0,R0=()=>`__${String(++I0)}__`;function A0(){let{router:i}=dg("useSubmit"),{basename:e}=q.useContext(Mn),n=$_();return q.useCallback(async(s,a={})=>{let{action:u,method:h,encType:m,formData:g,body:v}=r0(s,e);if(a.navigate===!1){let w=a.fetcherKey||R0();await i.fetch(w,n,a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,flushSync:a.flushSync})}else await i.navigate(a.action||u,{preventScrollReset:a.preventScrollReset,formData:g,body:v,formMethod:a.method||h,formEncType:a.encType||m,replace:a.replace,state:a.state,fromRouteId:n,flushSync:a.flushSync,viewTransition:a.viewTransition})},[i,e,n])}function C0(i,{relative:e}={}){let{basename:n}=q.useContext(Mn),s=q.useContext(Jn);Xe(s,"useFormAction must be used inside a RouteContext");let[a]=s.matches.slice(-1),u={..._a(i||".",{relative:e})},h=Tr();if(i==null){u.search=h.search;let m=new URLSearchParams(u.search),g=m.getAll("index");if(g.some(w=>w==="")){m.delete("index"),g.filter(R=>R).forEach(R=>m.append("index",R));let w=m.toString();u.search=w?`?${w}`:""}}return(!i||i===".")&&a.route.index&&(u.search=u.search?u.search.replace(/^\?/,"?index&"):"?index"),n!=="/"&&(u.pathname=u.pathname==="/"?n:yr([n,u.pathname])),ua(u)}function P0(i,e={}){let n=q.useContext(rg);Xe(n!=null,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:s}=dg("useViewTransitionState"),a=_a(i,{relative:e.relative});if(!n.isTransitioning)return!1;let u=Jr(n.currentLocation.pathname,s)||n.currentLocation.pathname,h=Jr(n.nextLocation.pathname,s)||n.nextLocation.pathname;return tu(a.pathname,h)!=null||tu(a.pathname,u)!=null}new TextEncoder;var rm={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg=function(i){const e=[];let n=0;for(let s=0;s<i.length;s++){let a=i.charCodeAt(s);a<128?e[n++]=a:a<2048?(e[n++]=a>>6|192,e[n++]=a&63|128):(a&64512)===55296&&s+1<i.length&&(i.charCodeAt(s+1)&64512)===56320?(a=65536+((a&1023)<<10)+(i.charCodeAt(++s)&1023),e[n++]=a>>18|240,e[n++]=a>>12&63|128,e[n++]=a>>6&63|128,e[n++]=a&63|128):(e[n++]=a>>12|224,e[n++]=a>>6&63|128,e[n++]=a&63|128)}return e},k0=function(i){const e=[];let n=0,s=0;for(;n<i.length;){const a=i[n++];if(a<128)e[s++]=String.fromCharCode(a);else if(a>191&&a<224){const u=i[n++];e[s++]=String.fromCharCode((a&31)<<6|u&63)}else if(a>239&&a<365){const u=i[n++],h=i[n++],m=i[n++],g=((a&7)<<18|(u&63)<<12|(h&63)<<6|m&63)-65536;e[s++]=String.fromCharCode(55296+(g>>10)),e[s++]=String.fromCharCode(56320+(g&1023))}else{const u=i[n++],h=i[n++];e[s++]=String.fromCharCode((a&15)<<12|(u&63)<<6|h&63)}}return e.join("")},pg={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(i,e){if(!Array.isArray(i))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,s=[];for(let a=0;a<i.length;a+=3){const u=i[a],h=a+1<i.length,m=h?i[a+1]:0,g=a+2<i.length,v=g?i[a+2]:0,w=u>>2,R=(u&3)<<4|m>>4;let I=(m&15)<<2|v>>6,D=v&63;g||(D=64,h||(I=64)),s.push(n[w],n[R],n[I],n[D])}return s.join("")},encodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(i):this.encodeByteArray(fg(i),e)},decodeString(i,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(i):k0(this.decodeStringToByteArray(i,e))},decodeStringToByteArray(i,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,s=[];for(let a=0;a<i.length;){const u=n[i.charAt(a++)],m=a<i.length?n[i.charAt(a)]:0;++a;const v=a<i.length?n[i.charAt(a)]:64;++a;const R=a<i.length?n[i.charAt(a)]:64;if(++a,u==null||m==null||v==null||R==null)throw new x0;const I=u<<2|m>>4;if(s.push(I),v!==64){const D=m<<4&240|v>>2;if(s.push(D),R!==64){const F=v<<6&192|R;s.push(F)}}}return s},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let i=0;i<this.ENCODED_VALS.length;i++)this.byteToCharMap_[i]=this.ENCODED_VALS.charAt(i),this.charToByteMap_[this.byteToCharMap_[i]]=i,this.byteToCharMapWebSafe_[i]=this.ENCODED_VALS_WEBSAFE.charAt(i),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[i]]=i,i>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(i)]=i,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(i)]=i)}}};class x0 extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const V0=function(i){const e=fg(i);return pg.encodeByteArray(e,!0)},nu=function(i){return V0(i).replace(/\./g,"")},N0=function(i){try{return pg.decodeString(i,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function D0(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const L0=()=>D0().__FIREBASE_DEFAULTS__,O0=()=>{if(typeof process>"u"||typeof rm>"u")return;const i=rm.__FIREBASE_DEFAULTS__;if(i)return JSON.parse(i)},M0=()=>{if(typeof document>"u")return;let i;try{i=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=i&&N0(i[1]);return e&&JSON.parse(e)},nd=()=>{try{return L0()||O0()||M0()}catch(i){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${i}`);return}},F0=i=>{var e,n;return(n=(e=nd())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[i]},b0=i=>{const e=F0(i);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const s=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),s]:[e.substring(0,n),s]},mg=()=>{var i;return(i=nd())===null||i===void 0?void 0:i.config};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U0{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,s)=>{n?this.reject(n):this.resolve(s),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,s))}}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function z0(i,e){if(i.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},s=e||"demo-project",a=i.iat||0,u=i.sub||i.user_id;if(!u)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const h=Object.assign({iss:`https://securetoken.google.com/${s}`,aud:s,iat:a,exp:a+3600,auth_time:a,sub:u,user_id:u,firebase:{sign_in_provider:"custom",identities:{}}},i);return[nu(JSON.stringify(n)),nu(JSON.stringify(h)),""].join(".")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j0(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function B0(){var i;const e=(i=nd())===null||i===void 0?void 0:i.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function $0(){return!B0()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function q0(){try{return typeof indexedDB=="object"}catch{return!1}}function H0(){return new Promise((i,e)=>{try{let n=!0;const s="validate-browser-context-for-indexeddb-analytics-module",a=self.indexedDB.open(s);a.onsuccess=()=>{a.result.close(),n||self.indexedDB.deleteDatabase(s),i(!0)},a.onupgradeneeded=()=>{n=!1},a.onerror=()=>{var u;e(((u=a.error)===null||u===void 0?void 0:u.message)||"")}}catch(n){e(n)}})}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W0="FirebaseError";class Ys extends Error{constructor(e,n,s){super(n),this.code=e,this.customData=s,this.name=W0,Object.setPrototypeOf(this,Ys.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,gg.prototype.create)}}class gg{constructor(e,n,s){this.service=e,this.serviceName=n,this.errors=s}create(e,...n){const s=n[0]||{},a=`${this.service}/${e}`,u=this.errors[e],h=u?Q0(u,s):"Error",m=`${this.serviceName}: ${h} (${a}).`;return new Ys(a,m,s)}}function Q0(i,e){return i.replace(K0,(n,s)=>{const a=e[s];return a!=null?String(a):`<${s}?>`})}const K0=/\{\$([^}]+)}/g;function Ah(i,e){if(i===e)return!0;const n=Object.keys(i),s=Object.keys(e);for(const a of n){if(!s.includes(a))return!1;const u=i[a],h=e[a];if(im(u)&&im(h)){if(!Ah(u,h))return!1}else if(u!==h)return!1}for(const a of s)if(!n.includes(a))return!1;return!0}function im(i){return i!==null&&typeof i=="object"}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Zr(i){return i&&i._delegate?i._delegate:i}class ca{constructor(e,n,s){this.name=e,this.instanceFactory=n,this.type=s,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Oi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class G0{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const s=new U0;if(this.instancesDeferred.set(n,s),this.isInitialized(n)||this.shouldAutoInitialize())try{const a=this.getOrInitializeService({instanceIdentifier:n});a&&s.resolve(a)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;const s=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),a=(n=e==null?void 0:e.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(s)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:s})}catch(u){if(a)return null;throw u}else{if(a)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(Y0(e))try{this.getOrInitializeService({instanceIdentifier:Oi})}catch{}for(const[n,s]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(n);try{const u=this.getOrInitializeService({instanceIdentifier:a});s.resolve(u)}catch{}}}}clearInstance(e=Oi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Oi){return this.instances.has(e)}getOptions(e=Oi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,s=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(s))throw Error(`${this.name}(${s}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const a=this.getOrInitializeService({instanceIdentifier:s,options:n});for(const[u,h]of this.instancesDeferred.entries()){const m=this.normalizeInstanceIdentifier(u);s===m&&h.resolve(a)}return a}onInit(e,n){var s;const a=this.normalizeInstanceIdentifier(n),u=(s=this.onInitCallbacks.get(a))!==null&&s!==void 0?s:new Set;u.add(e),this.onInitCallbacks.set(a,u);const h=this.instances.get(a);return h&&e(h,a),()=>{u.delete(e)}}invokeOnInitCallbacks(e,n){const s=this.onInitCallbacks.get(n);if(s)for(const a of s)try{a(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let s=this.instances.get(e);if(!s&&this.component&&(s=this.component.instanceFactory(this.container,{instanceIdentifier:X0(e),options:n}),this.instances.set(e,s),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(s,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,s)}catch{}return s||null}normalizeInstanceIdentifier(e=Oi){return this.component?this.component.multipleInstances?e:Oi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function X0(i){return i===Oi?void 0:i}function Y0(i){return i.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class J0{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new G0(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var De;(function(i){i[i.DEBUG=0]="DEBUG",i[i.VERBOSE=1]="VERBOSE",i[i.INFO=2]="INFO",i[i.WARN=3]="WARN",i[i.ERROR=4]="ERROR",i[i.SILENT=5]="SILENT"})(De||(De={}));const Z0={debug:De.DEBUG,verbose:De.VERBOSE,info:De.INFO,warn:De.WARN,error:De.ERROR,silent:De.SILENT},eE=De.INFO,tE={[De.DEBUG]:"log",[De.VERBOSE]:"log",[De.INFO]:"info",[De.WARN]:"warn",[De.ERROR]:"error"},nE=(i,e,...n)=>{if(e<i.logLevel)return;const s=new Date().toISOString(),a=tE[e];if(a)console[a](`[${s}]  ${i.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yg{constructor(e){this.name=e,this._logLevel=eE,this._logHandler=nE,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in De))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?Z0[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,De.DEBUG,...e),this._logHandler(this,De.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,De.VERBOSE,...e),this._logHandler(this,De.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,De.INFO,...e),this._logHandler(this,De.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,De.WARN,...e),this._logHandler(this,De.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,De.ERROR,...e),this._logHandler(this,De.ERROR,...e)}}const rE=(i,e)=>e.some(n=>i instanceof n);let sm,om;function iE(){return sm||(sm=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function sE(){return om||(om=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const vg=new WeakMap,Ch=new WeakMap,_g=new WeakMap,mh=new WeakMap,rd=new WeakMap;function oE(i){const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("success",u),i.removeEventListener("error",h)},u=()=>{n(Gr(i.result)),a()},h=()=>{s(i.error),a()};i.addEventListener("success",u),i.addEventListener("error",h)});return e.then(n=>{n instanceof IDBCursor&&vg.set(n,i)}).catch(()=>{}),rd.set(e,i),e}function aE(i){if(Ch.has(i))return;const e=new Promise((n,s)=>{const a=()=>{i.removeEventListener("complete",u),i.removeEventListener("error",h),i.removeEventListener("abort",h)},u=()=>{n(),a()},h=()=>{s(i.error||new DOMException("AbortError","AbortError")),a()};i.addEventListener("complete",u),i.addEventListener("error",h),i.addEventListener("abort",h)});Ch.set(i,e)}let Ph={get(i,e,n){if(i instanceof IDBTransaction){if(e==="done")return Ch.get(i);if(e==="objectStoreNames")return i.objectStoreNames||_g.get(i);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Gr(i[e])},set(i,e,n){return i[e]=n,!0},has(i,e){return i instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in i}};function lE(i){Ph=i(Ph)}function uE(i){return i===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const s=i.call(gh(this),e,...n);return _g.set(s,e.sort?e.sort():[e]),Gr(s)}:sE().includes(i)?function(...e){return i.apply(gh(this),e),Gr(vg.get(this))}:function(...e){return Gr(i.apply(gh(this),e))}}function cE(i){return typeof i=="function"?uE(i):(i instanceof IDBTransaction&&aE(i),rE(i,iE())?new Proxy(i,Ph):i)}function Gr(i){if(i instanceof IDBRequest)return oE(i);if(mh.has(i))return mh.get(i);const e=cE(i);return e!==i&&(mh.set(i,e),rd.set(e,i)),e}const gh=i=>rd.get(i);function hE(i,e,{blocked:n,upgrade:s,blocking:a,terminated:u}={}){const h=indexedDB.open(i,e),m=Gr(h);return s&&h.addEventListener("upgradeneeded",g=>{s(Gr(h.result),g.oldVersion,g.newVersion,Gr(h.transaction),g)}),n&&h.addEventListener("blocked",g=>n(g.oldVersion,g.newVersion,g)),m.then(g=>{u&&g.addEventListener("close",()=>u()),a&&g.addEventListener("versionchange",v=>a(v.oldVersion,v.newVersion,v))}).catch(()=>{}),m}const dE=["get","getKey","getAll","getAllKeys","count"],fE=["put","add","delete","clear"],yh=new Map;function am(i,e){if(!(i instanceof IDBDatabase&&!(e in i)&&typeof e=="string"))return;if(yh.get(e))return yh.get(e);const n=e.replace(/FromIndex$/,""),s=e!==n,a=fE.includes(n);if(!(n in(s?IDBIndex:IDBObjectStore).prototype)||!(a||dE.includes(n)))return;const u=async function(h,...m){const g=this.transaction(h,a?"readwrite":"readonly");let v=g.store;return s&&(v=v.index(m.shift())),(await Promise.all([v[n](...m),a&&g.done]))[0]};return yh.set(e,u),u}lE(i=>({...i,get:(e,n,s)=>am(e,n)||i.get(e,n,s),has:(e,n)=>!!am(e,n)||i.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pE{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(mE(n)){const s=n.getImmediate();return`${s.library}/${s.version}`}else return null}).filter(n=>n).join(" ")}}function mE(i){const e=i.getComponent();return(e==null?void 0:e.type)==="VERSION"}const kh="@firebase/app",lm="0.10.16";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _r=new yg("@firebase/app"),gE="@firebase/app-compat",yE="@firebase/analytics-compat",vE="@firebase/analytics",_E="@firebase/app-check-compat",EE="@firebase/app-check",wE="@firebase/auth",TE="@firebase/auth-compat",SE="@firebase/database",IE="@firebase/data-connect",RE="@firebase/database-compat",AE="@firebase/functions",CE="@firebase/functions-compat",PE="@firebase/installations",kE="@firebase/installations-compat",xE="@firebase/messaging",VE="@firebase/messaging-compat",NE="@firebase/performance",DE="@firebase/performance-compat",LE="@firebase/remote-config",OE="@firebase/remote-config-compat",ME="@firebase/storage",FE="@firebase/storage-compat",bE="@firebase/firestore",UE="@firebase/vertexai",zE="@firebase/firestore-compat",jE="firebase",BE="11.0.2";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xh="[DEFAULT]",$E={[kh]:"fire-core",[gE]:"fire-core-compat",[vE]:"fire-analytics",[yE]:"fire-analytics-compat",[EE]:"fire-app-check",[_E]:"fire-app-check-compat",[wE]:"fire-auth",[TE]:"fire-auth-compat",[SE]:"fire-rtdb",[IE]:"fire-data-connect",[RE]:"fire-rtdb-compat",[AE]:"fire-fn",[CE]:"fire-fn-compat",[PE]:"fire-iid",[kE]:"fire-iid-compat",[xE]:"fire-fcm",[VE]:"fire-fcm-compat",[NE]:"fire-perf",[DE]:"fire-perf-compat",[LE]:"fire-rc",[OE]:"fire-rc-compat",[ME]:"fire-gcs",[FE]:"fire-gcs-compat",[bE]:"fire-fst",[zE]:"fire-fst-compat",[UE]:"fire-vertex","fire-js":"fire-js",[jE]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=new Map,qE=new Map,Vh=new Map;function um(i,e){try{i.container.addComponent(e)}catch(n){_r.debug(`Component ${e.name} failed to register with FirebaseApp ${i.name}`,n)}}function iu(i){const e=i.name;if(Vh.has(e))return _r.debug(`There were multiple attempts to register component ${e}.`),!1;Vh.set(e,i);for(const n of ru.values())um(n,i);for(const n of qE.values())um(n,i);return!0}function HE(i,e){const n=i.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),i.container.getProvider(e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const WE={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Xr=new gg("app","Firebase",WE);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class QE{constructor(e,n,s){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=s,this.container.addComponent(new ca("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Xr.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const KE=BE;function Eg(i,e={}){let n=i;typeof e!="object"&&(e={name:e});const s=Object.assign({name:xh,automaticDataCollectionEnabled:!1},e),a=s.name;if(typeof a!="string"||!a)throw Xr.create("bad-app-name",{appName:String(a)});if(n||(n=mg()),!n)throw Xr.create("no-options");const u=ru.get(a);if(u){if(Ah(n,u.options)&&Ah(s,u.config))return u;throw Xr.create("duplicate-app",{appName:a})}const h=new J0(a);for(const g of Vh.values())h.addComponent(g);const m=new QE(n,s,h);return ru.set(a,m),m}function GE(i=xh){const e=ru.get(i);if(!e&&i===xh&&mg())return Eg();if(!e)throw Xr.create("no-app",{appName:i});return e}function Us(i,e,n){var s;let a=(s=$E[i])!==null&&s!==void 0?s:i;n&&(a+=`-${n}`);const u=a.match(/\s|\//),h=e.match(/\s|\//);if(u||h){const m=[`Unable to register library "${a}" with version "${e}":`];u&&m.push(`library name "${a}" contains illegal characters (whitespace or "/")`),u&&h&&m.push("and"),h&&m.push(`version name "${e}" contains illegal characters (whitespace or "/")`),_r.warn(m.join(" "));return}iu(new ca(`${a}-version`,()=>({library:a,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const XE="firebase-heartbeat-database",YE=1,ha="firebase-heartbeat-store";let vh=null;function wg(){return vh||(vh=hE(XE,YE,{upgrade:(i,e)=>{switch(e){case 0:try{i.createObjectStore(ha)}catch(n){console.warn(n)}}}}).catch(i=>{throw Xr.create("idb-open",{originalErrorMessage:i.message})})),vh}async function JE(i){try{const n=(await wg()).transaction(ha),s=await n.objectStore(ha).get(Tg(i));return await n.done,s}catch(e){if(e instanceof Ys)_r.warn(e.message);else{const n=Xr.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});_r.warn(n.message)}}}async function cm(i,e){try{const s=(await wg()).transaction(ha,"readwrite");await s.objectStore(ha).put(e,Tg(i)),await s.done}catch(n){if(n instanceof Ys)_r.warn(n.message);else{const s=Xr.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});_r.warn(s.message)}}}function Tg(i){return`${i.name}!${i.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ZE=1024,ew=30*24*60*60*1e3;class tw{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new rw(n),this._heartbeatsCachePromise=this._storage.read().then(s=>(this._heartbeatsCache=s,s))}async triggerHeartbeat(){var e,n;try{const a=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),u=hm();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===u||this._heartbeatsCache.heartbeats.some(h=>h.date===u)?void 0:(this._heartbeatsCache.heartbeats.push({date:u,agent:a}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(h=>{const m=new Date(h.date).valueOf();return Date.now()-m<=ew}),this._storage.overwrite(this._heartbeatsCache))}catch(s){_r.warn(s)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=hm(),{heartbeatsToSend:s,unsentEntries:a}=nw(this._heartbeatsCache.heartbeats),u=nu(JSON.stringify({version:2,heartbeats:s}));return this._heartbeatsCache.lastSentHeartbeatDate=n,a.length>0?(this._heartbeatsCache.heartbeats=a,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),u}catch(n){return _r.warn(n),""}}}function hm(){return new Date().toISOString().substring(0,10)}function nw(i,e=ZE){const n=[];let s=i.slice();for(const a of i){const u=n.find(h=>h.agent===a.agent);if(u){if(u.dates.push(a.date),dm(n)>e){u.dates.pop();break}}else if(n.push({agent:a.agent,dates:[a.date]}),dm(n)>e){n.pop();break}s=s.slice(1)}return{heartbeatsToSend:n,unsentEntries:s}}class rw{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return q0()?H0().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await JE(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return cm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){var n;if(await this._canUseIndexedDBPromise){const a=await this.read();return cm(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:a.lastSentHeartbeatDate,heartbeats:[...a.heartbeats,...e.heartbeats]})}else return}}function dm(i){return nu(JSON.stringify({version:2,heartbeats:i})).length}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function iw(i){iu(new ca("platform-logger",e=>new pE(e),"PRIVATE")),iu(new ca("heartbeat",e=>new tw(e),"PRIVATE")),Us(kh,lm,i),Us(kh,lm,"esm2017"),Us("fire-js","")}iw("");var fm=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var bi,Sg;(function(){var i;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(k,T){function A(){}A.prototype=T.prototype,k.D=T.prototype,k.prototype=new A,k.prototype.constructor=k,k.C=function(x,N,O){for(var C=Array(arguments.length-2),tt=2;tt<arguments.length;tt++)C[tt-2]=arguments[tt];return T.prototype[N].apply(x,C)}}function n(){this.blockSize=-1}function s(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(s,n),s.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function a(k,T,A){A||(A=0);var x=Array(16);if(typeof T=="string")for(var N=0;16>N;++N)x[N]=T.charCodeAt(A++)|T.charCodeAt(A++)<<8|T.charCodeAt(A++)<<16|T.charCodeAt(A++)<<24;else for(N=0;16>N;++N)x[N]=T[A++]|T[A++]<<8|T[A++]<<16|T[A++]<<24;T=k.g[0],A=k.g[1],N=k.g[2];var O=k.g[3],C=T+(O^A&(N^O))+x[0]+3614090360&4294967295;T=A+(C<<7&4294967295|C>>>25),C=O+(N^T&(A^N))+x[1]+3905402710&4294967295,O=T+(C<<12&4294967295|C>>>20),C=N+(A^O&(T^A))+x[2]+606105819&4294967295,N=O+(C<<17&4294967295|C>>>15),C=A+(T^N&(O^T))+x[3]+3250441966&4294967295,A=N+(C<<22&4294967295|C>>>10),C=T+(O^A&(N^O))+x[4]+4118548399&4294967295,T=A+(C<<7&4294967295|C>>>25),C=O+(N^T&(A^N))+x[5]+1200080426&4294967295,O=T+(C<<12&4294967295|C>>>20),C=N+(A^O&(T^A))+x[6]+2821735955&4294967295,N=O+(C<<17&4294967295|C>>>15),C=A+(T^N&(O^T))+x[7]+4249261313&4294967295,A=N+(C<<22&4294967295|C>>>10),C=T+(O^A&(N^O))+x[8]+1770035416&4294967295,T=A+(C<<7&4294967295|C>>>25),C=O+(N^T&(A^N))+x[9]+2336552879&4294967295,O=T+(C<<12&4294967295|C>>>20),C=N+(A^O&(T^A))+x[10]+4294925233&4294967295,N=O+(C<<17&4294967295|C>>>15),C=A+(T^N&(O^T))+x[11]+2304563134&4294967295,A=N+(C<<22&4294967295|C>>>10),C=T+(O^A&(N^O))+x[12]+1804603682&4294967295,T=A+(C<<7&4294967295|C>>>25),C=O+(N^T&(A^N))+x[13]+4254626195&4294967295,O=T+(C<<12&4294967295|C>>>20),C=N+(A^O&(T^A))+x[14]+2792965006&4294967295,N=O+(C<<17&4294967295|C>>>15),C=A+(T^N&(O^T))+x[15]+1236535329&4294967295,A=N+(C<<22&4294967295|C>>>10),C=T+(N^O&(A^N))+x[1]+4129170786&4294967295,T=A+(C<<5&4294967295|C>>>27),C=O+(A^N&(T^A))+x[6]+3225465664&4294967295,O=T+(C<<9&4294967295|C>>>23),C=N+(T^A&(O^T))+x[11]+643717713&4294967295,N=O+(C<<14&4294967295|C>>>18),C=A+(O^T&(N^O))+x[0]+3921069994&4294967295,A=N+(C<<20&4294967295|C>>>12),C=T+(N^O&(A^N))+x[5]+3593408605&4294967295,T=A+(C<<5&4294967295|C>>>27),C=O+(A^N&(T^A))+x[10]+38016083&4294967295,O=T+(C<<9&4294967295|C>>>23),C=N+(T^A&(O^T))+x[15]+3634488961&4294967295,N=O+(C<<14&4294967295|C>>>18),C=A+(O^T&(N^O))+x[4]+3889429448&4294967295,A=N+(C<<20&4294967295|C>>>12),C=T+(N^O&(A^N))+x[9]+568446438&4294967295,T=A+(C<<5&4294967295|C>>>27),C=O+(A^N&(T^A))+x[14]+3275163606&4294967295,O=T+(C<<9&4294967295|C>>>23),C=N+(T^A&(O^T))+x[3]+4107603335&4294967295,N=O+(C<<14&4294967295|C>>>18),C=A+(O^T&(N^O))+x[8]+1163531501&4294967295,A=N+(C<<20&4294967295|C>>>12),C=T+(N^O&(A^N))+x[13]+2850285829&4294967295,T=A+(C<<5&4294967295|C>>>27),C=O+(A^N&(T^A))+x[2]+4243563512&4294967295,O=T+(C<<9&4294967295|C>>>23),C=N+(T^A&(O^T))+x[7]+1735328473&4294967295,N=O+(C<<14&4294967295|C>>>18),C=A+(O^T&(N^O))+x[12]+2368359562&4294967295,A=N+(C<<20&4294967295|C>>>12),C=T+(A^N^O)+x[5]+4294588738&4294967295,T=A+(C<<4&4294967295|C>>>28),C=O+(T^A^N)+x[8]+2272392833&4294967295,O=T+(C<<11&4294967295|C>>>21),C=N+(O^T^A)+x[11]+1839030562&4294967295,N=O+(C<<16&4294967295|C>>>16),C=A+(N^O^T)+x[14]+4259657740&4294967295,A=N+(C<<23&4294967295|C>>>9),C=T+(A^N^O)+x[1]+2763975236&4294967295,T=A+(C<<4&4294967295|C>>>28),C=O+(T^A^N)+x[4]+1272893353&4294967295,O=T+(C<<11&4294967295|C>>>21),C=N+(O^T^A)+x[7]+4139469664&4294967295,N=O+(C<<16&4294967295|C>>>16),C=A+(N^O^T)+x[10]+3200236656&4294967295,A=N+(C<<23&4294967295|C>>>9),C=T+(A^N^O)+x[13]+681279174&4294967295,T=A+(C<<4&4294967295|C>>>28),C=O+(T^A^N)+x[0]+3936430074&4294967295,O=T+(C<<11&4294967295|C>>>21),C=N+(O^T^A)+x[3]+3572445317&4294967295,N=O+(C<<16&4294967295|C>>>16),C=A+(N^O^T)+x[6]+76029189&4294967295,A=N+(C<<23&4294967295|C>>>9),C=T+(A^N^O)+x[9]+3654602809&4294967295,T=A+(C<<4&4294967295|C>>>28),C=O+(T^A^N)+x[12]+3873151461&4294967295,O=T+(C<<11&4294967295|C>>>21),C=N+(O^T^A)+x[15]+530742520&4294967295,N=O+(C<<16&4294967295|C>>>16),C=A+(N^O^T)+x[2]+3299628645&4294967295,A=N+(C<<23&4294967295|C>>>9),C=T+(N^(A|~O))+x[0]+4096336452&4294967295,T=A+(C<<6&4294967295|C>>>26),C=O+(A^(T|~N))+x[7]+1126891415&4294967295,O=T+(C<<10&4294967295|C>>>22),C=N+(T^(O|~A))+x[14]+2878612391&4294967295,N=O+(C<<15&4294967295|C>>>17),C=A+(O^(N|~T))+x[5]+4237533241&4294967295,A=N+(C<<21&4294967295|C>>>11),C=T+(N^(A|~O))+x[12]+1700485571&4294967295,T=A+(C<<6&4294967295|C>>>26),C=O+(A^(T|~N))+x[3]+2399980690&4294967295,O=T+(C<<10&4294967295|C>>>22),C=N+(T^(O|~A))+x[10]+4293915773&4294967295,N=O+(C<<15&4294967295|C>>>17),C=A+(O^(N|~T))+x[1]+2240044497&4294967295,A=N+(C<<21&4294967295|C>>>11),C=T+(N^(A|~O))+x[8]+1873313359&4294967295,T=A+(C<<6&4294967295|C>>>26),C=O+(A^(T|~N))+x[15]+4264355552&4294967295,O=T+(C<<10&4294967295|C>>>22),C=N+(T^(O|~A))+x[6]+2734768916&4294967295,N=O+(C<<15&4294967295|C>>>17),C=A+(O^(N|~T))+x[13]+1309151649&4294967295,A=N+(C<<21&4294967295|C>>>11),C=T+(N^(A|~O))+x[4]+4149444226&4294967295,T=A+(C<<6&4294967295|C>>>26),C=O+(A^(T|~N))+x[11]+3174756917&4294967295,O=T+(C<<10&4294967295|C>>>22),C=N+(T^(O|~A))+x[2]+718787259&4294967295,N=O+(C<<15&4294967295|C>>>17),C=A+(O^(N|~T))+x[9]+3951481745&4294967295,k.g[0]=k.g[0]+T&4294967295,k.g[1]=k.g[1]+(N+(C<<21&4294967295|C>>>11))&4294967295,k.g[2]=k.g[2]+N&4294967295,k.g[3]=k.g[3]+O&4294967295}s.prototype.u=function(k,T){T===void 0&&(T=k.length);for(var A=T-this.blockSize,x=this.B,N=this.h,O=0;O<T;){if(N==0)for(;O<=A;)a(this,k,O),O+=this.blockSize;if(typeof k=="string"){for(;O<T;)if(x[N++]=k.charCodeAt(O++),N==this.blockSize){a(this,x),N=0;break}}else for(;O<T;)if(x[N++]=k[O++],N==this.blockSize){a(this,x),N=0;break}}this.h=N,this.o+=T},s.prototype.v=function(){var k=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);k[0]=128;for(var T=1;T<k.length-8;++T)k[T]=0;var A=8*this.o;for(T=k.length-8;T<k.length;++T)k[T]=A&255,A/=256;for(this.u(k),k=Array(16),T=A=0;4>T;++T)for(var x=0;32>x;x+=8)k[A++]=this.g[T]>>>x&255;return k};function u(k,T){var A=m;return Object.prototype.hasOwnProperty.call(A,k)?A[k]:A[k]=T(k)}function h(k,T){this.h=T;for(var A=[],x=!0,N=k.length-1;0<=N;N--){var O=k[N]|0;x&&O==T||(A[N]=O,x=!1)}this.g=A}var m={};function g(k){return-128<=k&&128>k?u(k,function(T){return new h([T|0],0>T?-1:0)}):new h([k|0],0>k?-1:0)}function v(k){if(isNaN(k)||!isFinite(k))return R;if(0>k)return z(v(-k));for(var T=[],A=1,x=0;k>=A;x++)T[x]=k/A|0,A*=4294967296;return new h(T,0)}function w(k,T){if(k.length==0)throw Error("number format error: empty string");if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(k.charAt(0)=="-")return z(w(k.substring(1),T));if(0<=k.indexOf("-"))throw Error('number format error: interior "-" character');for(var A=v(Math.pow(T,8)),x=R,N=0;N<k.length;N+=8){var O=Math.min(8,k.length-N),C=parseInt(k.substring(N,N+O),T);8>O?(O=v(Math.pow(T,O)),x=x.j(O).add(v(C))):(x=x.j(A),x=x.add(v(C)))}return x}var R=g(0),I=g(1),D=g(16777216);i=h.prototype,i.m=function(){if($(this))return-z(this).m();for(var k=0,T=1,A=0;A<this.g.length;A++){var x=this.i(A);k+=(0<=x?x:4294967296+x)*T,T*=4294967296}return k},i.toString=function(k){if(k=k||10,2>k||36<k)throw Error("radix out of range: "+k);if(F(this))return"0";if($(this))return"-"+z(this).toString(k);for(var T=v(Math.pow(k,6)),A=this,x="";;){var N=ee(A,T).g;A=Q(A,N.j(T));var O=((0<A.g.length?A.g[0]:A.h)>>>0).toString(k);if(A=N,F(A))return O+x;for(;6>O.length;)O="0"+O;x=O+x}},i.i=function(k){return 0>k?0:k<this.g.length?this.g[k]:this.h};function F(k){if(k.h!=0)return!1;for(var T=0;T<k.g.length;T++)if(k.g[T]!=0)return!1;return!0}function $(k){return k.h==-1}i.l=function(k){return k=Q(this,k),$(k)?-1:F(k)?0:1};function z(k){for(var T=k.g.length,A=[],x=0;x<T;x++)A[x]=~k.g[x];return new h(A,~k.h).add(I)}i.abs=function(){return $(this)?z(this):this},i.add=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],x=0,N=0;N<=T;N++){var O=x+(this.i(N)&65535)+(k.i(N)&65535),C=(O>>>16)+(this.i(N)>>>16)+(k.i(N)>>>16);x=C>>>16,O&=65535,C&=65535,A[N]=C<<16|O}return new h(A,A[A.length-1]&-2147483648?-1:0)};function Q(k,T){return k.add(z(T))}i.j=function(k){if(F(this)||F(k))return R;if($(this))return $(k)?z(this).j(z(k)):z(z(this).j(k));if($(k))return z(this.j(z(k)));if(0>this.l(D)&&0>k.l(D))return v(this.m()*k.m());for(var T=this.g.length+k.g.length,A=[],x=0;x<2*T;x++)A[x]=0;for(x=0;x<this.g.length;x++)for(var N=0;N<k.g.length;N++){var O=this.i(x)>>>16,C=this.i(x)&65535,tt=k.i(N)>>>16,kt=k.i(N)&65535;A[2*x+2*N]+=C*kt,Y(A,2*x+2*N),A[2*x+2*N+1]+=O*kt,Y(A,2*x+2*N+1),A[2*x+2*N+1]+=C*tt,Y(A,2*x+2*N+1),A[2*x+2*N+2]+=O*tt,Y(A,2*x+2*N+2)}for(x=0;x<T;x++)A[x]=A[2*x+1]<<16|A[2*x];for(x=T;x<2*T;x++)A[x]=0;return new h(A,0)};function Y(k,T){for(;(k[T]&65535)!=k[T];)k[T+1]+=k[T]>>>16,k[T]&=65535,T++}function ie(k,T){this.g=k,this.h=T}function ee(k,T){if(F(T))throw Error("division by zero");if(F(k))return new ie(R,R);if($(k))return T=ee(z(k),T),new ie(z(T.g),z(T.h));if($(T))return T=ee(k,z(T)),new ie(z(T.g),T.h);if(30<k.g.length){if($(k)||$(T))throw Error("slowDivide_ only works with positive integers.");for(var A=I,x=T;0>=x.l(k);)A=ve(A),x=ve(x);var N=_e(A,1),O=_e(x,1);for(x=_e(x,2),A=_e(A,2);!F(x);){var C=O.add(x);0>=C.l(k)&&(N=N.add(A),O=C),x=_e(x,1),A=_e(A,1)}return T=Q(k,N.j(T)),new ie(N,T)}for(N=R;0<=k.l(T);){for(A=Math.max(1,Math.floor(k.m()/T.m())),x=Math.ceil(Math.log(A)/Math.LN2),x=48>=x?1:Math.pow(2,x-48),O=v(A),C=O.j(T);$(C)||0<C.l(k);)A-=x,O=v(A),C=O.j(T);F(O)&&(O=I),N=N.add(O),k=Q(k,C)}return new ie(N,k)}i.A=function(k){return ee(this,k).h},i.and=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],x=0;x<T;x++)A[x]=this.i(x)&k.i(x);return new h(A,this.h&k.h)},i.or=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],x=0;x<T;x++)A[x]=this.i(x)|k.i(x);return new h(A,this.h|k.h)},i.xor=function(k){for(var T=Math.max(this.g.length,k.g.length),A=[],x=0;x<T;x++)A[x]=this.i(x)^k.i(x);return new h(A,this.h^k.h)};function ve(k){for(var T=k.g.length+1,A=[],x=0;x<T;x++)A[x]=k.i(x)<<1|k.i(x-1)>>>31;return new h(A,k.h)}function _e(k,T){var A=T>>5;T%=32;for(var x=k.g.length-A,N=[],O=0;O<x;O++)N[O]=0<T?k.i(O+A)>>>T|k.i(O+A+1)<<32-T:k.i(O+A);return new h(N,k.h)}s.prototype.digest=s.prototype.v,s.prototype.reset=s.prototype.s,s.prototype.update=s.prototype.u,Sg=s,h.prototype.add=h.prototype.add,h.prototype.multiply=h.prototype.j,h.prototype.modulo=h.prototype.A,h.prototype.compare=h.prototype.l,h.prototype.toNumber=h.prototype.m,h.prototype.toString=h.prototype.toString,h.prototype.getBits=h.prototype.i,h.fromNumber=v,h.fromString=w,bi=h}).apply(typeof fm<"u"?fm:typeof self<"u"?self:typeof window<"u"?window:{});var jl=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Ig,ea,Rg,Gl,Nh,Ag,Cg,Pg;(function(){var i,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(l,f,y){return l==Array.prototype||l==Object.prototype||(l[f]=y.value),l};function n(l){l=[typeof globalThis=="object"&&globalThis,l,typeof window=="object"&&window,typeof self=="object"&&self,typeof jl=="object"&&jl];for(var f=0;f<l.length;++f){var y=l[f];if(y&&y.Math==Math)return y}throw Error("Cannot find global object")}var s=n(this);function a(l,f){if(f)e:{var y=s;l=l.split(".");for(var E=0;E<l.length-1;E++){var M=l[E];if(!(M in y))break e;y=y[M]}l=l[l.length-1],E=y[l],f=f(E),f!=E&&f!=null&&e(y,l,{configurable:!0,writable:!0,value:f})}}function u(l,f){l instanceof String&&(l+="");var y=0,E=!1,M={next:function(){if(!E&&y<l.length){var B=y++;return{value:f(B,l[B]),done:!1}}return E=!0,{done:!0,value:void 0}}};return M[Symbol.iterator]=function(){return M},M}a("Array.prototype.values",function(l){return l||function(){return u(this,function(f,y){return y})}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var h=h||{},m=this||self;function g(l){var f=typeof l;return f=f!="object"?f:l?Array.isArray(l)?"array":f:"null",f=="array"||f=="object"&&typeof l.length=="number"}function v(l){var f=typeof l;return f=="object"&&l!=null||f=="function"}function w(l,f,y){return l.call.apply(l.bind,arguments)}function R(l,f,y){if(!l)throw Error();if(2<arguments.length){var E=Array.prototype.slice.call(arguments,2);return function(){var M=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(M,E),l.apply(f,M)}}return function(){return l.apply(f,arguments)}}function I(l,f,y){return I=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?w:R,I.apply(null,arguments)}function D(l,f){var y=Array.prototype.slice.call(arguments,1);return function(){var E=y.slice();return E.push.apply(E,arguments),l.apply(this,E)}}function F(l,f){function y(){}y.prototype=f.prototype,l.aa=f.prototype,l.prototype=new y,l.prototype.constructor=l,l.Qb=function(E,M,B){for(var te=Array(arguments.length-2),Ue=2;Ue<arguments.length;Ue++)te[Ue-2]=arguments[Ue];return f.prototype[M].apply(E,te)}}function $(l){const f=l.length;if(0<f){const y=Array(f);for(let E=0;E<f;E++)y[E]=l[E];return y}return[]}function z(l,f){for(let y=1;y<arguments.length;y++){const E=arguments[y];if(g(E)){const M=l.length||0,B=E.length||0;l.length=M+B;for(let te=0;te<B;te++)l[M+te]=E[te]}else l.push(E)}}class Q{constructor(f,y){this.i=f,this.j=y,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Y(l){return/^[\s\xa0]*$/.test(l)}function ie(){var l=m.navigator;return l&&(l=l.userAgent)?l:""}function ee(l){return ee[" "](l),l}ee[" "]=function(){};var ve=ie().indexOf("Gecko")!=-1&&!(ie().toLowerCase().indexOf("webkit")!=-1&&ie().indexOf("Edge")==-1)&&!(ie().indexOf("Trident")!=-1||ie().indexOf("MSIE")!=-1)&&ie().indexOf("Edge")==-1;function _e(l,f,y){for(const E in l)f.call(y,l[E],E,l)}function k(l,f){for(const y in l)f.call(void 0,l[y],y,l)}function T(l){const f={};for(const y in l)f[y]=l[y];return f}const A="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function x(l,f){let y,E;for(let M=1;M<arguments.length;M++){E=arguments[M];for(y in E)l[y]=E[y];for(let B=0;B<A.length;B++)y=A[B],Object.prototype.hasOwnProperty.call(E,y)&&(l[y]=E[y])}}function N(l){var f=1;l=l.split(":");const y=[];for(;0<f&&l.length;)y.push(l.shift()),f--;return l.length&&y.push(l.join(":")),y}function O(l){m.setTimeout(()=>{throw l},0)}function C(){var l=pe;let f=null;return l.g&&(f=l.g,l.g=l.g.next,l.g||(l.h=null),f.next=null),f}class tt{constructor(){this.h=this.g=null}add(f,y){const E=kt.get();E.set(f,y),this.h?this.h.next=E:this.g=E,this.h=E}}var kt=new Q(()=>new xt,l=>l.reset());class xt{constructor(){this.next=this.g=this.h=null}set(f,y){this.h=f,this.g=y,this.next=null}reset(){this.next=this.g=this.h=null}}let ze,re=!1,pe=new tt,oe=()=>{const l=m.Promise.resolve(void 0);ze=()=>{l.then(L)}};var L=()=>{for(var l;l=C();){try{l.h.call(l.g)}catch(y){O(y)}var f=kt;f.j(l),100>f.h&&(f.h++,l.next=f.g,f.g=l)}re=!1};function W(){this.s=this.s,this.C=this.C}W.prototype.s=!1,W.prototype.ma=function(){this.s||(this.s=!0,this.N())},W.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function fe(l,f){this.type=l,this.g=this.target=f,this.defaultPrevented=!1}fe.prototype.h=function(){this.defaultPrevented=!0};var Ie=function(){if(!m.addEventListener||!Object.defineProperty)return!1;var l=!1,f=Object.defineProperty({},"passive",{get:function(){l=!0}});try{const y=()=>{};m.addEventListener("test",y,f),m.removeEventListener("test",y,f)}catch{}return l}();function Re(l,f){if(fe.call(this,l?l.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,l){var y=this.type=l.type,E=l.changedTouches&&l.changedTouches.length?l.changedTouches[0]:null;if(this.target=l.target||l.srcElement,this.g=f,f=l.relatedTarget){if(ve){e:{try{ee(f.nodeName);var M=!0;break e}catch{}M=!1}M||(f=null)}}else y=="mouseover"?f=l.fromElement:y=="mouseout"&&(f=l.toElement);this.relatedTarget=f,E?(this.clientX=E.clientX!==void 0?E.clientX:E.pageX,this.clientY=E.clientY!==void 0?E.clientY:E.pageY,this.screenX=E.screenX||0,this.screenY=E.screenY||0):(this.clientX=l.clientX!==void 0?l.clientX:l.pageX,this.clientY=l.clientY!==void 0?l.clientY:l.pageY,this.screenX=l.screenX||0,this.screenY=l.screenY||0),this.button=l.button,this.key=l.key||"",this.ctrlKey=l.ctrlKey,this.altKey=l.altKey,this.shiftKey=l.shiftKey,this.metaKey=l.metaKey,this.pointerId=l.pointerId||0,this.pointerType=typeof l.pointerType=="string"?l.pointerType:xe[l.pointerType]||"",this.state=l.state,this.i=l,l.defaultPrevented&&Re.aa.h.call(this)}}F(Re,fe);var xe={2:"touch",3:"pen",4:"mouse"};Re.prototype.h=function(){Re.aa.h.call(this);var l=this.i;l.preventDefault?l.preventDefault():l.returnValue=!1};var Me="closure_listenable_"+(1e6*Math.random()|0),Fe=0;function Be(l,f,y,E,M){this.listener=l,this.proxy=null,this.src=f,this.type=y,this.capture=!!E,this.ha=M,this.key=++Fe,this.da=this.fa=!1}function gt(l){l.da=!0,l.listener=null,l.proxy=null,l.src=null,l.ha=null}function Zn(l){this.src=l,this.g={},this.h=0}Zn.prototype.add=function(l,f,y,E,M){var B=l.toString();l=this.g[B],l||(l=this.g[B]=[],this.h++);var te=Sr(l,f,E,M);return-1<te?(f=l[te],y||(f.fa=!1)):(f=new Be(f,this.src,B,!!E,M),f.fa=y,l.push(f)),f};function $i(l,f){var y=f.type;if(y in l.g){var E=l.g[y],M=Array.prototype.indexOf.call(E,f,void 0),B;(B=0<=M)&&Array.prototype.splice.call(E,M,1),B&&(gt(f),l.g[y].length==0&&(delete l.g[y],l.h--))}}function Sr(l,f,y,E){for(var M=0;M<l.length;++M){var B=l[M];if(!B.da&&B.listener==f&&B.capture==!!y&&B.ha==E)return M}return-1}var ai="closure_lm_"+(1e6*Math.random()|0),qi={};function no(l,f,y,E,M){if(Array.isArray(f)){for(var B=0;B<f.length;B++)no(l,f[B],y,E,M);return null}return y=so(y),l&&l[Me]?l.K(f,y,v(E)?!!E.capture:!!E,M):ro(l,f,y,!1,E,M)}function ro(l,f,y,E,M,B){if(!f)throw Error("Invalid event type");var te=v(M)?!!M.capture:!!M,Ue=Wi(l);if(Ue||(l[ai]=Ue=new Zn(l)),y=Ue.add(f,y,E,te,B),y.proxy)return y;if(E=Ia(),y.proxy=E,E.src=l,E.listener=y,l.addEventListener)Ie||(M=te),M===void 0&&(M=!1),l.addEventListener(f.toString(),E,M);else if(l.attachEvent)l.attachEvent(tr(f.toString()),E);else if(l.addListener&&l.removeListener)l.addListener(E);else throw Error("addEventListener and attachEvent are unavailable.");return y}function Ia(){function l(y){return f.call(l.src,l.listener,y)}const f=io;return l}function Hi(l,f,y,E,M){if(Array.isArray(f))for(var B=0;B<f.length;B++)Hi(l,f[B],y,E,M);else E=v(E)?!!E.capture:!!E,y=so(y),l&&l[Me]?(l=l.i,f=String(f).toString(),f in l.g&&(B=l.g[f],y=Sr(B,y,E,M),-1<y&&(gt(B[y]),Array.prototype.splice.call(B,y,1),B.length==0&&(delete l.g[f],l.h--)))):l&&(l=Wi(l))&&(f=l.g[f.toString()],l=-1,f&&(l=Sr(f,y,E,M)),(y=-1<l?f[l]:null)&&er(y))}function er(l){if(typeof l!="number"&&l&&!l.da){var f=l.src;if(f&&f[Me])$i(f.i,l);else{var y=l.type,E=l.proxy;f.removeEventListener?f.removeEventListener(y,E,l.capture):f.detachEvent?f.detachEvent(tr(y),E):f.addListener&&f.removeListener&&f.removeListener(E),(y=Wi(f))?($i(y,l),y.h==0&&(y.src=null,f[ai]=null)):gt(l)}}}function tr(l){return l in qi?qi[l]:qi[l]="on"+l}function io(l,f){if(l.da)l=!0;else{f=new Re(f,this);var y=l.listener,E=l.ha||l.src;l.fa&&er(l),l=y.call(E,f)}return l}function Wi(l){return l=l[ai],l instanceof Zn?l:null}var Qi="__closure_events_fn_"+(1e9*Math.random()>>>0);function so(l){return typeof l=="function"?l:(l[Qi]||(l[Qi]=function(f){return l.handleEvent(f)}),l[Qi])}function lt(){W.call(this),this.i=new Zn(this),this.M=this,this.F=null}F(lt,W),lt.prototype[Me]=!0,lt.prototype.removeEventListener=function(l,f,y,E){Hi(this,l,f,y,E)};function ut(l,f){var y,E=l.F;if(E)for(y=[];E;E=E.F)y.push(E);if(l=l.M,E=f.type||f,typeof f=="string")f=new fe(f,l);else if(f instanceof fe)f.target=f.target||l;else{var M=f;f=new fe(E,l),x(f,M)}if(M=!0,y)for(var B=y.length-1;0<=B;B--){var te=f.g=y[B];M=nr(te,E,!0,f)&&M}if(te=f.g=l,M=nr(te,E,!0,f)&&M,M=nr(te,E,!1,f)&&M,y)for(B=0;B<y.length;B++)te=f.g=y[B],M=nr(te,E,!1,f)&&M}lt.prototype.N=function(){if(lt.aa.N.call(this),this.i){var l=this.i,f;for(f in l.g){for(var y=l.g[f],E=0;E<y.length;E++)gt(y[E]);delete l.g[f],l.h--}}this.F=null},lt.prototype.K=function(l,f,y,E){return this.i.add(String(l),f,!1,y,E)},lt.prototype.L=function(l,f,y,E){return this.i.add(String(l),f,!0,y,E)};function nr(l,f,y,E){if(f=l.i.g[String(f)],!f)return!0;f=f.concat();for(var M=!0,B=0;B<f.length;++B){var te=f[B];if(te&&!te.da&&te.capture==y){var Ue=te.listener,ct=te.ha||te.src;te.fa&&$i(l.i,te),M=Ue.call(ct,E)!==!1&&M}}return M&&!E.defaultPrevented}function oo(l,f,y){if(typeof l=="function")y&&(l=I(l,y));else if(l&&typeof l.handleEvent=="function")l=I(l.handleEvent,l);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:m.setTimeout(l,f||0)}function Ir(l){l.g=oo(()=>{l.g=null,l.i&&(l.i=!1,Ir(l))},l.l);const f=l.h;l.h=null,l.m.apply(null,f)}class li extends W{constructor(f,y){super(),this.m=f,this.l=y,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Ir(this)}N(){super.N(),this.g&&(m.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ui(l){W.call(this),this.h=l,this.g={}}F(ui,W);var ao=[];function lo(l){_e(l.g,function(f,y){this.g.hasOwnProperty(y)&&er(f)},l),l.g={}}ui.prototype.N=function(){ui.aa.N.call(this),lo(this)},ui.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var uo=m.JSON.stringify,co=m.JSON.parse,ho=class{stringify(l){return m.JSON.stringify(l,void 0)}parse(l){return m.JSON.parse(l,void 0)}};function ci(){}ci.prototype.h=null;function Ki(l){return l.h||(l.h=l.i())}function Gi(){}var ln={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Fn(){fe.call(this,"d")}F(Fn,fe);function Xi(){fe.call(this,"c")}F(Xi,fe);var bn={},fo=null;function hi(){return fo=fo||new lt}bn.La="serverreachability";function po(l){fe.call(this,bn.La,l)}F(po,fe);function rr(l){const f=hi();ut(f,new po(f))}bn.STAT_EVENT="statevent";function mo(l,f){fe.call(this,bn.STAT_EVENT,l),this.stat=f}F(mo,fe);function nt(l){const f=hi();ut(f,new mo(f,l))}bn.Ma="timingevent";function Yi(l,f){fe.call(this,bn.Ma,l),this.size=f}F(Yi,fe);function _n(l,f){if(typeof l!="function")throw Error("Fn must not be null and must be a function");return m.setTimeout(function(){l()},f)}function di(){this.g=!0}di.prototype.xa=function(){this.g=!1};function fi(l,f,y,E,M,B){l.info(function(){if(l.g)if(B)for(var te="",Ue=B.split("&"),ct=0;ct<Ue.length;ct++){var Ve=Ue[ct].split("=");if(1<Ve.length){var yt=Ve[0];Ve=Ve[1];var st=yt.split("_");te=2<=st.length&&st[1]=="type"?te+(yt+"="+Ve+"&"):te+(yt+"=redacted&")}}else te=null;else te=B;return"XMLHTTP REQ ("+E+") [attempt "+M+"]: "+f+`
`+y+`
`+te})}function Ji(l,f,y,E,M,B,te){l.info(function(){return"XMLHTTP RESP ("+E+") [ attempt "+M+"]: "+f+`
`+y+`
`+B+" "+te})}function En(l,f,y,E){l.info(function(){return"XMLHTTP TEXT ("+f+"): "+Mu(l,y)+(E?" "+E:"")})}function go(l,f){l.info(function(){return"TIMEOUT: "+f})}di.prototype.info=function(){};function Mu(l,f){if(!l.g)return f;if(!f)return null;try{var y=JSON.parse(f);if(y){for(l=0;l<y.length;l++)if(Array.isArray(y[l])){var E=y[l];if(!(2>E.length)){var M=E[1];if(Array.isArray(M)&&!(1>M.length)){var B=M[0];if(B!="noop"&&B!="stop"&&B!="close")for(var te=1;te<M.length;te++)M[te]=""}}}}return uo(y)}catch{return f}}var Zi={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ra={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},wn;function pi(){}F(pi,ci),pi.prototype.g=function(){return new XMLHttpRequest},pi.prototype.i=function(){return{}},wn=new pi;function Tn(l,f,y,E){this.j=l,this.i=f,this.l=y,this.R=E||1,this.U=new ui(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Aa}function Aa(){this.i=null,this.g="",this.h=!1}var yo={},es={};function ts(l,f,y){l.L=1,l.v=kr(en(f)),l.m=y,l.P=!0,vo(l,null)}function vo(l,f){l.F=Date.now(),$e(l),l.A=en(l.v);var y=l.A,E=l.R;Array.isArray(E)||(E=[String(E)]),Vr(y.i,"t",E),l.C=0,y=l.j.J,l.h=new Aa,l.g=qa(l.j,y?f:null,!l.m),0<l.O&&(l.M=new li(I(l.Y,l,l.g),l.O)),f=l.U,y=l.g,E=l.ca;var M="readystatechange";Array.isArray(M)||(M&&(ao[0]=M.toString()),M=ao);for(var B=0;B<M.length;B++){var te=no(y,M[B],E||f.handleEvent,!1,f.h||f);if(!te)break;f.g[te.key]=te}f=l.H?T(l.H):{},l.m?(l.u||(l.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",l.g.ea(l.A,l.u,l.m,f)):(l.u="GET",l.g.ea(l.A,l.u,null,f)),rr(),fi(l.i,l.u,l.A,l.l,l.R,l.m)}Tn.prototype.ca=function(l){l=l.target;const f=this.M;f&&$t(l)==3?f.j():this.Y(l)},Tn.prototype.Y=function(l){try{if(l==this.g)e:{const st=$t(this.g);var f=this.g.Ba();const hn=this.g.Z();if(!(3>st)&&(st!=3||this.g&&(this.h.h||this.g.oa()||Io(this.g)))){this.J||st!=4||f==7||(f==8||0>=hn?rr(3):rr(2)),mi(this);var y=this.g.Z();this.X=y;t:if(Ca(this)){var E=Io(this.g);l="";var M=E.length,B=$t(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){un(this),Rr(this);var te="";break t}this.h.i=new m.TextDecoder}for(f=0;f<M;f++)this.h.h=!0,l+=this.h.i.decode(E[f],{stream:!(B&&f==M-1)});E.length=0,this.h.g+=l,this.C=0,te=this.h.g}else te=this.g.oa();if(this.o=y==200,Ji(this.i,this.u,this.A,this.l,this.R,st,y),this.o){if(this.T&&!this.K){t:{if(this.g){var Ue,ct=this.g;if((Ue=ct.g?ct.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Y(Ue)){var Ve=Ue;break t}}Ve=null}if(y=Ve)En(this.i,this.l,y,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,_o(this,y);else{this.o=!1,this.s=3,nt(12),un(this),Rr(this);break e}}if(this.P){y=!0;let nn;for(;!this.J&&this.C<te.length;)if(nn=Fu(this,te),nn==es){st==4&&(this.s=4,nt(14),y=!1),En(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==yo){this.s=4,nt(15),En(this.i,this.l,te,"[Invalid Chunk]"),y=!1;break}else En(this.i,this.l,nn,null),_o(this,nn);if(Ca(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),st!=4||te.length!=0||this.h.h||(this.s=1,nt(16),y=!1),this.o=this.o&&y,!y)En(this.i,this.l,te,"[Invalid Chunked Response]"),un(this),Rr(this);else if(0<te.length&&!this.W){this.W=!0;var yt=this.j;yt.g==this&&yt.ba&&!yt.M&&(yt.j.info("Great, no buffering proxy detected. Bytes received: "+te.length),Ao(yt),yt.M=!0,nt(11))}}else En(this.i,this.l,te,null),_o(this,te);st==4&&un(this),this.o&&!this.J&&(st==4?ds(this.j,this):(this.o=!1,$e(this)))}else as(this.g),y==400&&0<te.indexOf("Unknown SID")?(this.s=3,nt(12)):(this.s=0,nt(13)),un(this),Rr(this)}}}catch{}finally{}};function Ca(l){return l.g?l.u=="GET"&&l.L!=2&&l.j.Ca:!1}function Fu(l,f){var y=l.C,E=f.indexOf(`
`,y);return E==-1?es:(y=Number(f.substring(y,E)),isNaN(y)?yo:(E+=1,E+y>f.length?es:(f=f.slice(E,E+y),l.C=E+y,f)))}Tn.prototype.cancel=function(){this.J=!0,un(this)};function $e(l){l.S=Date.now()+l.I,Pa(l,l.I)}function Pa(l,f){if(l.B!=null)throw Error("WatchDog timer not null");l.B=_n(I(l.ba,l),f)}function mi(l){l.B&&(m.clearTimeout(l.B),l.B=null)}Tn.prototype.ba=function(){this.B=null;const l=Date.now();0<=l-this.S?(go(this.i,this.A),this.L!=2&&(rr(),nt(17)),un(this),this.s=2,Rr(this)):Pa(this,this.S-l)};function Rr(l){l.j.G==0||l.J||ds(l.j,l)}function un(l){mi(l);var f=l.M;f&&typeof f.ma=="function"&&f.ma(),l.M=null,lo(l.U),l.g&&(f=l.g,l.g=null,f.abort(),f.ma())}function _o(l,f){try{var y=l.j;if(y.G!=0&&(y.g==l||bt(y.h,l))){if(!l.K&&bt(y.h,l)&&y.G==3){try{var E=y.Da.g.parse(f)}catch{E=null}if(Array.isArray(E)&&E.length==3){var M=E;if(M[0]==0){e:if(!y.u){if(y.g)if(y.g.F+3e3<l.F)hs(y),Cn(y);else break e;cs(y),nt(18)}}else y.za=M[1],0<y.za-y.T&&37500>M[2]&&y.F&&y.v==0&&!y.C&&(y.C=_n(I(y.Za,y),6e3));if(1>=xa(y.h)&&y.ca){try{y.ca()}catch{}y.ca=void 0}}else lr(y,11)}else if((l.K||y.g==l)&&hs(y),!Y(f))for(M=y.Da.g.parse(f),f=0;f<M.length;f++){let Ve=M[f];if(y.T=Ve[0],Ve=Ve[1],y.G==2)if(Ve[0]=="c"){y.K=Ve[1],y.ia=Ve[2];const yt=Ve[3];yt!=null&&(y.la=yt,y.j.info("VER="+y.la));const st=Ve[4];st!=null&&(y.Aa=st,y.j.info("SVER="+y.Aa));const hn=Ve[5];hn!=null&&typeof hn=="number"&&0<hn&&(E=1.5*hn,y.L=E,y.j.info("backChannelRequestTimeoutMs_="+E)),E=y;const nn=l.g;if(nn){const Ti=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ti){var B=E.h;B.g||Ti.indexOf("spdy")==-1&&Ti.indexOf("quic")==-1&&Ti.indexOf("h2")==-1||(B.j=B.l,B.g=new Set,B.h&&(Eo(B,B.h),B.h=null))}if(E.D){const ps=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;ps&&(E.ya=ps,je(E.I,E.D,ps))}}y.G=3,y.l&&y.l.ua(),y.ba&&(y.R=Date.now()-l.F,y.j.info("Handshake RTT: "+y.R+"ms")),E=y;var te=l;if(E.qa=$a(E,E.J?E.ia:null,E.W),te.K){Va(E.h,te);var Ue=te,ct=E.L;ct&&(Ue.I=ct),Ue.B&&(mi(Ue),$e(Ue)),E.g=te}else wi(E);0<y.i.length&&Bn(y)}else Ve[0]!="stop"&&Ve[0]!="close"||lr(y,7);else y.G==3&&(Ve[0]=="stop"||Ve[0]=="close"?Ve[0]=="stop"?lr(y,7):St(y):Ve[0]!="noop"&&y.l&&y.l.ta(Ve),y.v=0)}}rr(4)}catch{}}var ka=class{constructor(l,f){this.g=l,this.map=f}};function gi(l){this.l=l||10,m.PerformanceNavigationTiming?(l=m.performance.getEntriesByType("navigation"),l=0<l.length&&(l[0].nextHopProtocol=="hq"||l[0].nextHopProtocol=="h2")):l=!!(m.chrome&&m.chrome.loadTimes&&m.chrome.loadTimes()&&m.chrome.loadTimes().wasFetchedViaSpdy),this.j=l?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Zt(l){return l.h?!0:l.g?l.g.size>=l.j:!1}function xa(l){return l.h?1:l.g?l.g.size:0}function bt(l,f){return l.h?l.h==f:l.g?l.g.has(f):!1}function Eo(l,f){l.g?l.g.add(f):l.h=f}function Va(l,f){l.h&&l.h==f?l.h=null:l.g&&l.g.has(f)&&l.g.delete(f)}gi.prototype.cancel=function(){if(this.i=Na(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const l of this.g.values())l.cancel();this.g.clear()}};function Na(l){if(l.h!=null)return l.i.concat(l.h.D);if(l.g!=null&&l.g.size!==0){let f=l.i;for(const y of l.g.values())f=f.concat(y.D);return f}return $(l.i)}function ns(l){if(l.V&&typeof l.V=="function")return l.V();if(typeof Map<"u"&&l instanceof Map||typeof Set<"u"&&l instanceof Set)return Array.from(l.values());if(typeof l=="string")return l.split("");if(g(l)){for(var f=[],y=l.length,E=0;E<y;E++)f.push(l[E]);return f}f=[],y=0;for(E in l)f[y++]=l[E];return f}function rs(l){if(l.na&&typeof l.na=="function")return l.na();if(!l.V||typeof l.V!="function"){if(typeof Map<"u"&&l instanceof Map)return Array.from(l.keys());if(!(typeof Set<"u"&&l instanceof Set)){if(g(l)||typeof l=="string"){var f=[];l=l.length;for(var y=0;y<l;y++)f.push(y);return f}f=[],y=0;for(const E in l)f[y++]=E;return f}}}function Ar(l,f){if(l.forEach&&typeof l.forEach=="function")l.forEach(f,void 0);else if(g(l)||typeof l=="string")Array.prototype.forEach.call(l,f,void 0);else for(var y=rs(l),E=ns(l),M=E.length,B=0;B<M;B++)f.call(void 0,E[B],y&&y[B],l)}var yi=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function bu(l,f){if(l){l=l.split("&");for(var y=0;y<l.length;y++){var E=l[y].indexOf("="),M=null;if(0<=E){var B=l[y].substring(0,E);M=l[y].substring(E+1)}else B=l[y];f(B,M?decodeURIComponent(M.replace(/\+/g," ")):"")}}}function ir(l){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,l instanceof ir){this.h=l.h,vi(this,l.j),this.o=l.o,this.g=l.g,Cr(this,l.s),this.l=l.l;var f=l.i,y=new Un;y.i=f.i,f.g&&(y.g=new Map(f.g),y.h=f.h),Pr(this,y),this.m=l.m}else l&&(f=String(l).match(yi))?(this.h=!1,vi(this,f[1]||"",!0),this.o=Pe(f[2]||""),this.g=Pe(f[3]||"",!0),Cr(this,f[4]),this.l=Pe(f[5]||"",!0),Pr(this,f[6]||"",!0),this.m=Pe(f[7]||"")):(this.h=!1,this.i=new Un(null,this.h))}ir.prototype.toString=function(){var l=[],f=this.j;f&&l.push(xr(f,is,!0),":");var y=this.g;return(y||f=="file")&&(l.push("//"),(f=this.o)&&l.push(xr(f,is,!0),"@"),l.push(encodeURIComponent(String(y)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),y=this.s,y!=null&&l.push(":",String(y))),(y=this.l)&&(this.g&&y.charAt(0)!="/"&&l.push("/"),l.push(xr(y,y.charAt(0)=="/"?Oa:La,!0))),(y=this.i.toString())&&l.push("?",y),(y=this.m)&&l.push("#",xr(y,wo)),l.join("")};function en(l){return new ir(l)}function vi(l,f,y){l.j=y?Pe(f,!0):f,l.j&&(l.j=l.j.replace(/:$/,""))}function Cr(l,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);l.s=f}else l.s=null}function Pr(l,f,y){f instanceof Un?(l.i=f,zn(l.i,l.h)):(y||(f=xr(f,Ma)),l.i=new Un(f,l.h))}function je(l,f,y){l.i.set(f,y)}function kr(l){return je(l,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),l}function Pe(l,f){return l?f?decodeURI(l.replace(/%25/g,"%2525")):decodeURIComponent(l):""}function xr(l,f,y){return typeof l=="string"?(l=encodeURI(l).replace(f,Da),y&&(l=l.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),l):null}function Da(l){return l=l.charCodeAt(0),"%"+(l>>4&15).toString(16)+(l&15).toString(16)}var is=/[#\/\?@]/g,La=/[#\?:]/g,Oa=/[#\?]/g,Ma=/[#\?@]/g,wo=/#/g;function Un(l,f){this.h=this.g=null,this.i=l||null,this.j=!!f}function Tt(l){l.g||(l.g=new Map,l.h=0,l.i&&bu(l.i,function(f,y){l.add(decodeURIComponent(f.replace(/\+/g," ")),y)}))}i=Un.prototype,i.add=function(l,f){Tt(this),this.i=null,l=cn(this,l);var y=this.g.get(l);return y||this.g.set(l,y=[]),y.push(f),this.h+=1,this};function Sn(l,f){Tt(l),f=cn(l,f),l.g.has(f)&&(l.i=null,l.h-=l.g.get(f).length,l.g.delete(f))}function In(l,f){return Tt(l),f=cn(l,f),l.g.has(f)}i.forEach=function(l,f){Tt(this),this.g.forEach(function(y,E){y.forEach(function(M){l.call(f,M,E,this)},this)},this)},i.na=function(){Tt(this);const l=Array.from(this.g.values()),f=Array.from(this.g.keys()),y=[];for(let E=0;E<f.length;E++){const M=l[E];for(let B=0;B<M.length;B++)y.push(f[E])}return y},i.V=function(l){Tt(this);let f=[];if(typeof l=="string")In(this,l)&&(f=f.concat(this.g.get(cn(this,l))));else{l=Array.from(this.g.values());for(let y=0;y<l.length;y++)f=f.concat(l[y])}return f},i.set=function(l,f){return Tt(this),this.i=null,l=cn(this,l),In(this,l)&&(this.h-=this.g.get(l).length),this.g.set(l,[f]),this.h+=1,this},i.get=function(l,f){return l?(l=this.V(l),0<l.length?String(l[0]):f):f};function Vr(l,f,y){Sn(l,f),0<y.length&&(l.i=null,l.g.set(cn(l,f),$(y)),l.h+=y.length)}i.toString=function(){if(this.i)return this.i;if(!this.g)return"";const l=[],f=Array.from(this.g.keys());for(var y=0;y<f.length;y++){var E=f[y];const B=encodeURIComponent(String(E)),te=this.V(E);for(E=0;E<te.length;E++){var M=B;te[E]!==""&&(M+="="+encodeURIComponent(String(te[E]))),l.push(M)}}return this.i=l.join("&")};function cn(l,f){return f=String(f),l.j&&(f=f.toLowerCase()),f}function zn(l,f){f&&!l.j&&(Tt(l),l.i=null,l.g.forEach(function(y,E){var M=E.toLowerCase();E!=M&&(Sn(this,E),Vr(this,M,y))},l)),l.j=f}function Uu(l,f){const y=new di;if(m.Image){const E=new Image;E.onload=D(Bt,y,"TestLoadImage: loaded",!0,f,E),E.onerror=D(Bt,y,"TestLoadImage: error",!1,f,E),E.onabort=D(Bt,y,"TestLoadImage: abort",!1,f,E),E.ontimeout=D(Bt,y,"TestLoadImage: timeout",!1,f,E),m.setTimeout(function(){E.ontimeout&&E.ontimeout()},1e4),E.src=l}else f(!1)}function Fa(l,f){const y=new di,E=new AbortController,M=setTimeout(()=>{E.abort(),Bt(y,"TestPingServer: timeout",!1,f)},1e4);fetch(l,{signal:E.signal}).then(B=>{clearTimeout(M),B.ok?Bt(y,"TestPingServer: ok",!0,f):Bt(y,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(M),Bt(y,"TestPingServer: error",!1,f)})}function Bt(l,f,y,E,M){try{M&&(M.onload=null,M.onerror=null,M.onabort=null,M.ontimeout=null),E(y)}catch{}}function zu(){this.g=new ho}function ba(l,f,y){const E=y||"";try{Ar(l,function(M,B){let te=M;v(M)&&(te=uo(M)),f.push(E+B+"="+encodeURIComponent(te))})}catch(M){throw f.push(E+"type="+encodeURIComponent("_badmap")),M}}function sr(l){this.l=l.Ub||null,this.j=l.eb||!1}F(sr,ci),sr.prototype.g=function(){return new _i(this.l,this.j)},sr.prototype.i=function(l){return function(){return l}}({});function _i(l,f){lt.call(this),this.D=l,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}F(_i,lt),i=_i.prototype,i.open=function(l,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=l,this.A=f,this.readyState=1,An(this)},i.send=function(l){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;const f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};l&&(f.body=l),(this.D||m).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},i.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,Rn(this)),this.readyState=0},i.Sa=function(l){if(this.g&&(this.l=l,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=l.headers,this.readyState=2,An(this)),this.g&&(this.readyState=3,An(this),this.g)))if(this.responseType==="arraybuffer")l.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof m.ReadableStream<"u"&&"body"in l){if(this.j=l.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Ua(this)}else l.text().then(this.Ra.bind(this),this.ga.bind(this))};function Ua(l){l.j.read().then(l.Pa.bind(l)).catch(l.ga.bind(l))}i.Pa=function(l){if(this.g){if(this.o&&l.value)this.response.push(l.value);else if(!this.o){var f=l.value?l.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!l.done}))&&(this.response=this.responseText+=f)}l.done?Rn(this):An(this),this.readyState==3&&Ua(this)}},i.Ra=function(l){this.g&&(this.response=this.responseText=l,Rn(this))},i.Qa=function(l){this.g&&(this.response=l,Rn(this))},i.ga=function(){this.g&&Rn(this)};function Rn(l){l.readyState=4,l.l=null,l.j=null,l.v=null,An(l)}i.setRequestHeader=function(l,f){this.u.append(l,f)},i.getResponseHeader=function(l){return this.h&&this.h.get(l.toLowerCase())||""},i.getAllResponseHeaders=function(){if(!this.h)return"";const l=[],f=this.h.entries();for(var y=f.next();!y.done;)y=y.value,l.push(y[0]+": "+y[1]),y=f.next();return l.join(`\r
`)};function An(l){l.onreadystatechange&&l.onreadystatechange.call(l)}Object.defineProperty(_i.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(l){this.m=l?"include":"same-origin"}});function or(l){let f="";return _e(l,function(y,E){f+=E,f+=":",f+=y,f+=`\r
`}),f}function Nr(l,f,y){e:{for(E in y){var E=!1;break e}E=!0}E||(y=or(y),typeof l=="string"?y!=null&&encodeURIComponent(String(y)):je(l,f,y))}function Qe(l){lt.call(this),this.headers=new Map,this.o=l||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}F(Qe,lt);var ju=/^https?$/i,To=["POST","PUT"];i=Qe.prototype,i.Ha=function(l){this.J=l},i.ea=function(l,f,y,E){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+l);f=f?f.toUpperCase():"GET",this.D=l,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():wn.g(),this.v=this.o?Ki(this.o):Ki(wn),this.g.onreadystatechange=I(this.Ea,this);try{this.B=!0,this.g.open(f,String(l),!0),this.B=!1}catch(B){Ei(this,B);return}if(l=y||"",y=new Map(this.headers),E)if(Object.getPrototypeOf(E)===Object.prototype)for(var M in E)y.set(M,E[M]);else if(typeof E.keys=="function"&&typeof E.get=="function")for(const B of E.keys())y.set(B,E.get(B));else throw Error("Unknown input type for opt_headers: "+String(E));E=Array.from(y.keys()).find(B=>B.toLowerCase()=="content-type"),M=m.FormData&&l instanceof m.FormData,!(0<=Array.prototype.indexOf.call(To,f,void 0))||E||M||y.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[B,te]of y)this.g.setRequestHeader(B,te);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{os(this),this.u=!0,this.g.send(l),this.u=!1}catch(B){Ei(this,B)}};function Ei(l,f){l.h=!1,l.g&&(l.j=!0,l.g.abort(),l.j=!1),l.l=f,l.m=5,ss(l),tn(l)}function ss(l){l.A||(l.A=!0,ut(l,"complete"),ut(l,"error"))}i.abort=function(l){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=l||7,ut(this,"complete"),ut(this,"abort"),tn(this))},i.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),tn(this,!0)),Qe.aa.N.call(this)},i.Ea=function(){this.s||(this.B||this.u||this.j?So(this):this.bb())},i.bb=function(){So(this)};function So(l){if(l.h&&typeof h<"u"&&(!l.v[1]||$t(l)!=4||l.Z()!=2)){if(l.u&&$t(l)==4)oo(l.Ea,0,l);else if(ut(l,"readystatechange"),$t(l)==4){l.h=!1;try{const te=l.Z();e:switch(te){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var y;if(!(y=f)){var E;if(E=te===0){var M=String(l.D).match(yi)[1]||null;!M&&m.self&&m.self.location&&(M=m.self.location.protocol.slice(0,-1)),E=!ju.test(M?M.toLowerCase():"")}y=E}if(y)ut(l,"complete"),ut(l,"success");else{l.m=6;try{var B=2<$t(l)?l.g.statusText:""}catch{B=""}l.l=B+" ["+l.Z()+"]",ss(l)}}finally{tn(l)}}}}function tn(l,f){if(l.g){os(l);const y=l.g,E=l.v[0]?()=>{}:null;l.g=null,l.v=null,f||ut(l,"ready");try{y.onreadystatechange=E}catch{}}}function os(l){l.I&&(m.clearTimeout(l.I),l.I=null)}i.isActive=function(){return!!this.g};function $t(l){return l.g?l.g.readyState:0}i.Z=function(){try{return 2<$t(this)?this.g.status:-1}catch{return-1}},i.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},i.Oa=function(l){if(this.g){var f=this.g.responseText;return l&&f.indexOf(l)==0&&(f=f.substring(l.length)),co(f)}};function Io(l){try{if(!l.g)return null;if("response"in l.g)return l.g.response;switch(l.H){case"":case"text":return l.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in l.g)return l.g.mozResponseArrayBuffer}return null}catch{return null}}function as(l){const f={};l=(l.g&&2<=$t(l)&&l.g.getAllResponseHeaders()||"").split(`\r
`);for(let E=0;E<l.length;E++){if(Y(l[E]))continue;var y=N(l[E]);const M=y[0];if(y=y[1],typeof y!="string")continue;y=y.trim();const B=f[M]||[];f[M]=B,B.push(y)}k(f,function(E){return E.join(", ")})}i.Ba=function(){return this.m},i.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function jn(l,f,y){return y&&y.internalChannelParams&&y.internalChannelParams[l]||f}function Ro(l){this.Aa=0,this.i=[],this.j=new di,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=jn("failFast",!1,l),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=jn("baseRetryDelayMs",5e3,l),this.cb=jn("retryDelaySeedMs",1e4,l),this.Wa=jn("forwardChannelMaxRetries",2,l),this.wa=jn("forwardChannelRequestTimeoutMs",2e4,l),this.pa=l&&l.xmlHttpFactory||void 0,this.Xa=l&&l.Tb||void 0,this.Ca=l&&l.useFetchStreams||!1,this.L=void 0,this.J=l&&l.supportsCrossDomainXhr||!1,this.K="",this.h=new gi(l&&l.concurrentRequestLimit),this.Da=new zu,this.P=l&&l.fastHandshake||!1,this.O=l&&l.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=l&&l.Rb||!1,l&&l.xa&&this.j.xa(),l&&l.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&l&&l.detectBufferingProxy||!1,this.ja=void 0,l&&l.longPollingTimeout&&0<l.longPollingTimeout&&(this.ja=l.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}i=Ro.prototype,i.la=8,i.G=1,i.connect=function(l,f,y,E){nt(0),this.W=l,this.H=f||{},y&&E!==void 0&&(this.H.OSID=y,this.H.OAID=E),this.F=this.X,this.I=$a(this,null,this.W),Bn(this)};function St(l){if(ls(l),l.G==3){var f=l.U++,y=en(l.I);if(je(y,"SID",l.K),je(y,"RID",f),je(y,"TYPE","terminate"),ar(l,y),f=new Tn(l,l.j,f),f.L=2,f.v=kr(en(y)),y=!1,m.navigator&&m.navigator.sendBeacon)try{y=m.navigator.sendBeacon(f.v.toString(),"")}catch{}!y&&m.Image&&(new Image().src=f.v,y=!0),y||(f.g=qa(f.j,null),f.g.ea(f.v)),f.F=Date.now(),$e(f)}Ba(l)}function Cn(l){l.g&&(Ao(l),l.g.cancel(),l.g=null)}function ls(l){Cn(l),l.u&&(m.clearTimeout(l.u),l.u=null),hs(l),l.h.cancel(),l.s&&(typeof l.s=="number"&&m.clearTimeout(l.s),l.s=null)}function Bn(l){if(!Zt(l.h)&&!l.s){l.s=!0;var f=l.Ga;ze||oe(),re||(ze(),re=!0),pe.add(f,l),l.B=0}}function Bu(l,f){return xa(l.h)>=l.h.j-(l.s?1:0)?!1:l.s?(l.i=f.D.concat(l.i),!0):l.G==1||l.G==2||l.B>=(l.Va?0:l.Wa)?!1:(l.s=_n(I(l.Ga,l,f),ja(l,l.B)),l.B++,!0)}i.Ga=function(l){if(this.s)if(this.s=null,this.G==1){if(!l){this.U=Math.floor(1e5*Math.random()),l=this.U++;const M=new Tn(this,this.j,l);let B=this.o;if(this.S&&(B?(B=T(B),x(B,this.S)):B=this.S),this.m!==null||this.O||(M.H=B,B=null),this.P)e:{for(var f=0,y=0;y<this.i.length;y++){t:{var E=this.i[y];if("__data__"in E.map&&(E=E.map.__data__,typeof E=="string")){E=E.length;break t}E=void 0}if(E===void 0)break;if(f+=E,4096<f){f=y;break e}if(f===4096||y===this.i.length-1){f=y+1;break e}}f=1e3}else f=1e3;f=Dr(this,M,f),y=en(this.I),je(y,"RID",l),je(y,"CVER",22),this.D&&je(y,"X-HTTP-Session-Id",this.D),ar(this,y),B&&(this.O?f="headers="+encodeURIComponent(String(or(B)))+"&"+f:this.m&&Nr(y,this.m,B)),Eo(this.h,M),this.Ua&&je(y,"TYPE","init"),this.P?(je(y,"$req",f),je(y,"SID","null"),M.T=!0,ts(M,y,null)):ts(M,y,f),this.G=2}}else this.G==3&&(l?us(this,l):this.i.length==0||Zt(this.h)||us(this))};function us(l,f){var y;f?y=f.l:y=l.U++;const E=en(l.I);je(E,"SID",l.K),je(E,"RID",y),je(E,"AID",l.T),ar(l,E),l.m&&l.o&&Nr(E,l.m,l.o),y=new Tn(l,l.j,y,l.B+1),l.m===null&&(y.H=l.o),f&&(l.i=f.D.concat(l.i)),f=Dr(l,y,1e3),y.I=Math.round(.5*l.wa)+Math.round(.5*l.wa*Math.random()),Eo(l.h,y),ts(y,E,f)}function ar(l,f){l.H&&_e(l.H,function(y,E){je(f,E,y)}),l.l&&Ar({},function(y,E){je(f,E,y)})}function Dr(l,f,y){y=Math.min(l.i.length,y);var E=l.l?I(l.l.Na,l.l,l):null;e:{var M=l.i;let B=-1;for(;;){const te=["count="+y];B==-1?0<y?(B=M[0].g,te.push("ofs="+B)):B=0:te.push("ofs="+B);let Ue=!0;for(let ct=0;ct<y;ct++){let Ve=M[ct].g;const yt=M[ct].map;if(Ve-=B,0>Ve)B=Math.max(0,M[ct].g-100),Ue=!1;else try{ba(yt,te,"req"+Ve+"_")}catch{E&&E(yt)}}if(Ue){E=te.join("&");break e}}}return l=l.i.splice(0,y),f.D=l,E}function wi(l){if(!l.g&&!l.u){l.Y=1;var f=l.Fa;ze||oe(),re||(ze(),re=!0),pe.add(f,l),l.v=0}}function cs(l){return l.g||l.u||3<=l.v?!1:(l.Y++,l.u=_n(I(l.Fa,l),ja(l,l.v)),l.v++,!0)}i.Fa=function(){if(this.u=null,za(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var l=2*this.R;this.j.info("BP detection timer enabled: "+l),this.A=_n(I(this.ab,this),l)}},i.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,nt(10),Cn(this),za(this))};function Ao(l){l.A!=null&&(m.clearTimeout(l.A),l.A=null)}function za(l){l.g=new Tn(l,l.j,"rpc",l.Y),l.m===null&&(l.g.H=l.o),l.g.O=0;var f=en(l.qa);je(f,"RID","rpc"),je(f,"SID",l.K),je(f,"AID",l.T),je(f,"CI",l.F?"0":"1"),!l.F&&l.ja&&je(f,"TO",l.ja),je(f,"TYPE","xmlhttp"),ar(l,f),l.m&&l.o&&Nr(f,l.m,l.o),l.L&&(l.g.I=l.L);var y=l.g;l=l.ia,y.L=1,y.v=kr(en(f)),y.m=null,y.P=!0,vo(y,l)}i.Za=function(){this.C!=null&&(this.C=null,Cn(this),cs(this),nt(19))};function hs(l){l.C!=null&&(m.clearTimeout(l.C),l.C=null)}function ds(l,f){var y=null;if(l.g==f){hs(l),Ao(l),l.g=null;var E=2}else if(bt(l.h,f))y=f.D,Va(l.h,f),E=1;else return;if(l.G!=0){if(f.o)if(E==1){y=f.m?f.m.length:0,f=Date.now()-f.F;var M=l.B;E=hi(),ut(E,new Yi(E,y)),Bn(l)}else wi(l);else if(M=f.s,M==3||M==0&&0<f.X||!(E==1&&Bu(l,f)||E==2&&cs(l)))switch(y&&0<y.length&&(f=l.h,f.i=f.i.concat(y)),M){case 1:lr(l,5);break;case 4:lr(l,10);break;case 3:lr(l,6);break;default:lr(l,2)}}}function ja(l,f){let y=l.Ta+Math.floor(Math.random()*l.cb);return l.isActive()||(y*=2),y*f}function lr(l,f){if(l.j.info("Error code "+f),f==2){var y=I(l.fb,l),E=l.Xa;const M=!E;E=new ir(E||"//www.google.com/images/cleardot.gif"),m.location&&m.location.protocol=="http"||vi(E,"https"),kr(E),M?Uu(E.toString(),y):Fa(E.toString(),y)}else nt(2);l.G=0,l.l&&l.l.sa(f),Ba(l),ls(l)}i.fb=function(l){l?(this.j.info("Successfully pinged google.com"),nt(2)):(this.j.info("Failed to ping google.com"),nt(1))};function Ba(l){if(l.G=0,l.ka=[],l.l){const f=Na(l.h);(f.length!=0||l.i.length!=0)&&(z(l.ka,f),z(l.ka,l.i),l.h.i.length=0,$(l.i),l.i.length=0),l.l.ra()}}function $a(l,f,y){var E=y instanceof ir?en(y):new ir(y);if(E.g!="")f&&(E.g=f+"."+E.g),Cr(E,E.s);else{var M=m.location;E=M.protocol,f=f?f+"."+M.hostname:M.hostname,M=+M.port;var B=new ir(null);E&&vi(B,E),f&&(B.g=f),M&&Cr(B,M),y&&(B.l=y),E=B}return y=l.D,f=l.ya,y&&f&&je(E,y,f),je(E,"VER",l.la),ar(l,E),E}function qa(l,f,y){if(f&&!l.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=l.Ca&&!l.pa?new Qe(new sr({eb:y})):new Qe(l.pa),f.Ha(l.J),f}i.isActive=function(){return!!this.l&&this.l.isActive(this)};function Co(){}i=Co.prototype,i.ua=function(){},i.ta=function(){},i.sa=function(){},i.ra=function(){},i.isActive=function(){return!0},i.Na=function(){};function fs(){}fs.prototype.g=function(l,f){return new Ut(l,f)};function Ut(l,f){lt.call(this),this.g=new Ro(f),this.l=l,this.h=f&&f.messageUrlParams||null,l=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(l?l["X-Client-Protocol"]="webchannel":l={"X-Client-Protocol":"webchannel"}),this.g.o=l,l=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(l?l["X-WebChannel-Content-Type"]=f.messageContentType:l={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(l?l["X-WebChannel-Client-Profile"]=f.va:l={"X-WebChannel-Client-Profile":f.va}),this.g.S=l,(l=f&&f.Sb)&&!Y(l)&&(this.g.m=l),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Y(f)&&(this.g.D=f,l=this.h,l!==null&&f in l&&(l=this.h,f in l&&delete l[f])),this.j=new $n(this)}F(Ut,lt),Ut.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ut.prototype.close=function(){St(this.g)},Ut.prototype.o=function(l){var f=this.g;if(typeof l=="string"){var y={};y.__data__=l,l=y}else this.u&&(y={},y.__data__=uo(l),l=y);f.i.push(new ka(f.Ya++,l)),f.G==3&&Bn(f)},Ut.prototype.N=function(){this.g.l=null,delete this.j,St(this.g),delete this.g,Ut.aa.N.call(this)};function Ha(l){Fn.call(this),l.__headers__&&(this.headers=l.__headers__,this.statusCode=l.__status__,delete l.__headers__,delete l.__status__);var f=l.__sm__;if(f){e:{for(const y in f){l=y;break e}l=void 0}(this.i=l)&&(l=this.i,f=f!==null&&l in f?f[l]:void 0),this.data=f}else this.data=l}F(Ha,Fn);function Wa(){Xi.call(this),this.status=1}F(Wa,Xi);function $n(l){this.g=l}F($n,Co),$n.prototype.ua=function(){ut(this.g,"a")},$n.prototype.ta=function(l){ut(this.g,new Ha(l))},$n.prototype.sa=function(l){ut(this.g,new Wa)},$n.prototype.ra=function(){ut(this.g,"b")},fs.prototype.createWebChannel=fs.prototype.g,Ut.prototype.send=Ut.prototype.o,Ut.prototype.open=Ut.prototype.m,Ut.prototype.close=Ut.prototype.close,Pg=function(){return new fs},Cg=function(){return hi()},Ag=bn,Nh={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Zi.NO_ERROR=0,Zi.TIMEOUT=8,Zi.HTTP_ERROR=6,Gl=Zi,Ra.COMPLETE="complete",Rg=Ra,Gi.EventType=ln,ln.OPEN="a",ln.CLOSE="b",ln.ERROR="c",ln.MESSAGE="d",lt.prototype.listen=lt.prototype.K,ea=Gi,Qe.prototype.listenOnce=Qe.prototype.L,Qe.prototype.getLastError=Qe.prototype.Ka,Qe.prototype.getLastErrorCode=Qe.prototype.Ba,Qe.prototype.getStatus=Qe.prototype.Z,Qe.prototype.getResponseJson=Qe.prototype.Oa,Qe.prototype.getResponseText=Qe.prototype.oa,Qe.prototype.send=Qe.prototype.ea,Qe.prototype.setWithCredentials=Qe.prototype.Ha,Ig=Qe}).apply(typeof jl<"u"?jl:typeof self<"u"?self:typeof window<"u"?window:{});const pm="@firebase/firestore";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Mt.UNAUTHENTICATED=new Mt(null),Mt.GOOGLE_CREDENTIALS=new Mt("google-credentials-uid"),Mt.FIRST_PARTY=new Mt("first-party-uid"),Mt.MOCK_USER=new Mt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Js="11.0.2";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui=new yg("@firebase/firestore");function Os(){return Ui.logLevel}function ae(i,...e){if(Ui.logLevel<=De.DEBUG){const n=e.map(id);Ui.debug(`Firestore (${Js}): ${i}`,...n)}}function Er(i,...e){if(Ui.logLevel<=De.ERROR){const n=e.map(id);Ui.error(`Firestore (${Js}): ${i}`,...n)}}function js(i,...e){if(Ui.logLevel<=De.WARN){const n=e.map(id);Ui.warn(`Firestore (${Js}): ${i}`,...n)}}function id(i){if(typeof i=="string")return i;try{/**
* @license
* Copyright 2020 Google LLC
*
* Licensed under the Apache License, Version 2.0 (the "License");
* you may not use this file except in compliance with the License.
* You may obtain a copy of the License at
*
*   http://www.apache.org/licenses/LICENSE-2.0
*
* Unless required by applicable law or agreed to in writing, software
* distributed under the License is distributed on an "AS IS" BASIS,
* WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
* See the License for the specific language governing permissions and
* limitations under the License.
*/return function(n){return JSON.stringify(n)}(i)}catch{return i}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function we(i="Unexpected state"){const e=`FIRESTORE (${Js}) INTERNAL ASSERTION FAILED: `+i;throw Er(e),new Error(e)}function be(i,e){i||we()}function Se(i,e){return i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const X={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class de extends Ys{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vr{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kg{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class sw{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Mt.UNAUTHENTICATED))}shutdown(){}}class ow{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class aw{constructor(e){this.t=e,this.currentUser=Mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){be(this.o===void 0);let s=this.i;const a=g=>this.i!==s?(s=this.i,n(g)):Promise.resolve();let u=new vr;this.o=()=>{this.i++,this.currentUser=this.u(),u.resolve(),u=new vr,e.enqueueRetryable(()=>a(this.currentUser))};const h=()=>{const g=u;e.enqueueRetryable(async()=>{await g.promise,await a(this.currentUser)})},m=g=>{ae("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=g,this.o&&(this.auth.addAuthTokenListener(this.o),h())};this.t.onInit(g=>m(g)),setTimeout(()=>{if(!this.auth){const g=this.t.getImmediate({optional:!0});g?m(g):(ae("FirebaseAuthCredentialsProvider","Auth not yet detected"),u.resolve(),u=new vr)}},0),h()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(s=>this.i!==e?(ae("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):s?(be(typeof s.accessToken=="string"),new kg(s.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return be(e===null||typeof e=="string"),new Mt(e)}}class lw{constructor(e,n,s){this.l=e,this.h=n,this.P=s,this.type="FirstParty",this.user=Mt.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class uw{constructor(e,n,s){this.l=e,this.h=n,this.P=s}getToken(){return Promise.resolve(new lw(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class cw{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class hw{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){be(this.o===void 0);const s=u=>{u.error!=null&&ae("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${u.error.message}`);const h=u.token!==this.R;return this.R=u.token,ae("FirebaseAppCheckTokenProvider",`Received ${h?"new":"existing"} token.`),h?n(u.token):Promise.resolve()};this.o=u=>{e.enqueueRetryable(()=>s(u))};const a=u=>{ae("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=u,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(u=>a(u)),setTimeout(()=>{if(!this.appCheck){const u=this.A.getImmediate({optional:!0});u?a(u):ae("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(be(typeof n.token=="string"),this.R=n.token,new cw(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dw(i){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(i);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let s=0;s<i;s++)n[s]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xg{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length;let s="";for(;s.length<20;){const a=dw(40);for(let u=0;u<a.length;++u)s.length<20&&a[u]<n&&(s+=e.charAt(a[u]%e.length))}return s}}function ke(i,e){return i<e?-1:i>e?1:0}function Bs(i,e,n){return i.length===e.length&&i.every((s,a)=>n(s,e[a]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pt{static now(){return pt.fromMillis(Date.now())}static fromDate(e){return pt.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),s=Math.floor(1e6*(e-1e3*n));return new pt(n,s)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new de(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new de(X.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new de(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new de(X.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?ke(this.nanoseconds,e.nanoseconds):ke(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Te{static fromTimestamp(e){return new Te(e)}static min(){return new Te(new pt(0,0))}static max(){return new Te(new pt(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class da{constructor(e,n,s){n===void 0?n=0:n>e.length&&we(),s===void 0?s=e.length-n:s>e.length-n&&we(),this.segments=e,this.offset=n,this.len=s}get length(){return this.len}isEqual(e){return da.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof da?e.forEach(s=>{n.push(s)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,s=this.limit();n<s;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const s=Math.min(e.length,n.length);for(let a=0;a<s;a++){const u=e.get(a),h=n.get(a);if(u<h)return-1;if(u>h)return 1}return e.length<n.length?-1:e.length>n.length?1:0}}class Ge extends da{construct(e,n,s){return new Ge(e,n,s)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const s of e){if(s.indexOf("//")>=0)throw new de(X.INVALID_ARGUMENT,`Invalid segment (${s}). Paths must not contain // in them.`);n.push(...s.split("/").filter(a=>a.length>0))}return new Ge(n)}static emptyPath(){return new Ge([])}}const fw=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Ct extends da{construct(e,n,s){return new Ct(e,n,s)}static isValidIdentifier(e){return fw.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Ct.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new Ct(["__name__"])}static fromServerFormat(e){const n=[];let s="",a=0;const u=()=>{if(s.length===0)throw new de(X.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(s),s=""};let h=!1;for(;a<e.length;){const m=e[a];if(m==="\\"){if(a+1===e.length)throw new de(X.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const g=e[a+1];if(g!=="\\"&&g!=="."&&g!=="`")throw new de(X.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);s+=g,a+=2}else m==="`"?(h=!h,a++):m!=="."||h?(s+=m,a++):(u(),a++)}if(u(),h)throw new de(X.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Ct(n)}static emptyPath(){return new Ct([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ye{constructor(e){this.path=e}static fromPath(e){return new ye(Ge.fromString(e))}static fromName(e){return new ye(Ge.fromString(e).popFirst(5))}static empty(){return new ye(Ge.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Ge.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Ge.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ye(new Ge(e.slice()))}}function pw(i,e){const n=i.toTimestamp().seconds,s=i.toTimestamp().nanoseconds+1,a=Te.fromTimestamp(s===1e9?new pt(n+1,0):new pt(n,s));return new ei(a,ye.empty(),e)}function mw(i){return new ei(i.readTime,i.key,-1)}class ei{constructor(e,n,s){this.readTime=e,this.documentKey=n,this.largestBatchId=s}static min(){return new ei(Te.min(),ye.empty(),-1)}static max(){return new ei(Te.max(),ye.empty(),-1)}}function gw(i,e){let n=i.readTime.compareTo(e.readTime);return n!==0?n:(n=ye.comparator(i.documentKey,e.documentKey),n!==0?n:ke(i.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yw="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class vw{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Zs(i){if(i.code!==X.FAILED_PRECONDITION||i.message!==yw)throw i;ae("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&we(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((s,a)=>{this.nextCallback=u=>{this.wrapSuccess(e,u).next(s,a)},this.catchCallback=u=>{this.wrapFailure(n,u).next(s,a)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,s)=>{n(e)})}static reject(e){return new H((n,s)=>{s(e)})}static waitFor(e){return new H((n,s)=>{let a=0,u=0,h=!1;e.forEach(m=>{++a,m.next(()=>{++u,h&&u===a&&n()},g=>s(g))}),h=!0,u===a&&n()})}static or(e){let n=H.resolve(!1);for(const s of e)n=n.next(a=>a?H.resolve(a):s());return n}static forEach(e,n){const s=[];return e.forEach((a,u)=>{s.push(n.call(this,a,u))}),this.waitFor(s)}static mapArray(e,n){return new H((s,a)=>{const u=e.length,h=new Array(u);let m=0;for(let g=0;g<u;g++){const v=g;n(e[v]).next(w=>{h[v]=w,++m,m===u&&s(h)},w=>a(w))}})}static doWhile(e,n){return new H((s,a)=>{const u=()=>{e()===!0?n().next(()=>{u()},a):s()};u()})}}function _w(i){const e=i.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function eo(i){return i.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vu{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=s=>this.ie(s),this.se=s=>n.writeSequenceNumber(s))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}vu.oe=-1;function _u(i){return i==null}function su(i){return i===0&&1/i==-1/0}function Ew(i){return typeof i=="number"&&Number.isInteger(i)&&!su(i)&&i<=Number.MAX_SAFE_INTEGER&&i>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ww(i){let e="";for(let n=0;n<i.length;n++)e.length>0&&(e=mm(e)),e=Tw(i.get(n),e);return mm(e)}function Tw(i,e){let n=e;const s=i.length;for(let a=0;a<s;a++){const u=i.charAt(a);switch(u){case"\0":n+="";break;case"":n+="";break;default:n+=u}}return n}function mm(i){return i+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gm(i){let e=0;for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e++;return e}function si(i,e){for(const n in i)Object.prototype.hasOwnProperty.call(i,n)&&e(n,i[n])}function Vg(i){for(const e in i)if(Object.prototype.hasOwnProperty.call(i,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ze{constructor(e,n){this.comparator=e,this.root=n||At.EMPTY}insert(e,n){return new Ze(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,At.BLACK,null,null))}remove(e){return new Ze(this.comparator,this.root.remove(e,this.comparator).copy(null,null,At.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const s=this.comparator(e,n.key);if(s===0)return n.value;s<0?n=n.left:s>0&&(n=n.right)}return null}indexOf(e){let n=0,s=this.root;for(;!s.isEmpty();){const a=this.comparator(e,s.key);if(a===0)return n+s.left.size;a<0?s=s.left:(n+=s.left.size+1,s=s.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,s)=>(e(n,s),!1))}toString(){const e=[];return this.inorderTraversal((n,s)=>(e.push(`${n}:${s}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Bl(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Bl(this.root,e,this.comparator,!1)}getReverseIterator(){return new Bl(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Bl(this.root,e,this.comparator,!0)}}class Bl{constructor(e,n,s,a){this.isReverse=a,this.nodeStack=[];let u=1;for(;!e.isEmpty();)if(u=n?s(e.key,n):1,n&&a&&(u*=-1),u<0)e=this.isReverse?e.left:e.right;else{if(u===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class At{constructor(e,n,s,a,u){this.key=e,this.value=n,this.color=s??At.RED,this.left=a??At.EMPTY,this.right=u??At.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,s,a,u){return new At(e??this.key,n??this.value,s??this.color,a??this.left,u??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,s){let a=this;const u=s(e,a.key);return a=u<0?a.copy(null,null,null,a.left.insert(e,n,s),null):u===0?a.copy(null,n,null,null,null):a.copy(null,null,null,null,a.right.insert(e,n,s)),a.fixUp()}removeMin(){if(this.left.isEmpty())return At.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let s,a=this;if(n(e,a.key)<0)a.left.isEmpty()||a.left.isRed()||a.left.left.isRed()||(a=a.moveRedLeft()),a=a.copy(null,null,null,a.left.remove(e,n),null);else{if(a.left.isRed()&&(a=a.rotateRight()),a.right.isEmpty()||a.right.isRed()||a.right.left.isRed()||(a=a.moveRedRight()),n(e,a.key)===0){if(a.right.isEmpty())return At.EMPTY;s=a.right.min(),a=a.copy(s.key,s.value,null,null,a.right.removeMin())}a=a.copy(null,null,null,null,a.right.remove(e,n))}return a.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,At.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,At.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw we();const e=this.left.check();if(e!==this.right.check())throw we();return e+(this.isRed()?0:1)}}At.EMPTY=null,At.RED=!0,At.BLACK=!1;At.EMPTY=new class{constructor(){this.size=0}get key(){throw we()}get value(){throw we()}get color(){throw we()}get left(){throw we()}get right(){throw we()}copy(e,n,s,a,u){return this}insert(e,n,s){return new At(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class mt{constructor(e){this.comparator=e,this.data=new Ze(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,s)=>(e(n),!1))}forEachInRange(e,n){const s=this.data.getIteratorFrom(e[0]);for(;s.hasNext();){const a=s.getNext();if(this.comparator(a.key,e[1])>=0)return;n(a.key)}}forEachWhile(e,n){let s;for(s=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();s.hasNext();)if(!e(s.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new ym(this.data.getIterator())}getIteratorFrom(e){return new ym(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(s=>{n=n.add(s)}),n}isEqual(e){if(!(e instanceof mt)||this.size!==e.size)return!1;const n=this.data.getIterator(),s=e.data.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(this.comparator(a,u)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new mt(this.comparator);return n.data=e,n}}class ym{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class an{constructor(e){this.fields=e,e.sort(Ct.comparator)}static empty(){return new an([])}unionWith(e){let n=new mt(Ct.comparator);for(const s of this.fields)n=n.add(s);for(const s of e)n=n.add(s);return new an(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Bs(this.fields,e.fields,(n,s)=>n.isEqual(s))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ng extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(a){try{return atob(a)}catch(u){throw typeof DOMException<"u"&&u instanceof DOMException?new Ng("Invalid base64 string: "+u):u}}(e);return new Pt(n)}static fromUint8Array(e){const n=function(a){let u="";for(let h=0;h<a.length;++h)u+=String.fromCharCode(a[h]);return u}(e);return new Pt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const s=new Uint8Array(n.length);for(let a=0;a<n.length;a++)s[a]=n.charCodeAt(a);return s}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return ke(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Pt.EMPTY_BYTE_STRING=new Pt("");const Sw=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ti(i){if(be(!!i),typeof i=="string"){let e=0;const n=Sw.exec(i);if(be(!!n),n[1]){let a=n[1];a=(a+"000000000").substr(0,9),e=Number(a)}const s=new Date(i);return{seconds:Math.floor(s.getTime()/1e3),nanos:e}}return{seconds:it(i.seconds),nanos:it(i.nanos)}}function it(i){return typeof i=="number"?i:typeof i=="string"?Number(i):0}function ni(i){return typeof i=="string"?Pt.fromBase64String(i):Pt.fromUint8Array(i)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sd(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function Eu(i){const e=i.mapValue.fields.__previous_value__;return sd(e)?Eu(e):e}function fa(i){const e=ti(i.mapValue.fields.__local_write_time__.timestampValue);return new pt(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iw{constructor(e,n,s,a,u,h,m,g,v){this.databaseId=e,this.appId=n,this.persistenceKey=s,this.host=a,this.ssl=u,this.forceLongPolling=h,this.autoDetectLongPolling=m,this.longPollingOptions=g,this.useFetchStreams=v}}class pa{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new pa("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof pa&&e.projectId===this.projectId&&e.database===this.database}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const $l={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function ri(i){return"nullValue"in i?0:"booleanValue"in i?1:"integerValue"in i||"doubleValue"in i?2:"timestampValue"in i?3:"stringValue"in i?5:"bytesValue"in i?6:"referenceValue"in i?7:"geoPointValue"in i?8:"arrayValue"in i?9:"mapValue"in i?sd(i)?4:Aw(i)?9007199254740991:Rw(i)?10:11:we()}function Xn(i,e){if(i===e)return!0;const n=ri(i);if(n!==ri(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return i.booleanValue===e.booleanValue;case 4:return fa(i).isEqual(fa(e));case 3:return function(a,u){if(typeof a.timestampValue=="string"&&typeof u.timestampValue=="string"&&a.timestampValue.length===u.timestampValue.length)return a.timestampValue===u.timestampValue;const h=ti(a.timestampValue),m=ti(u.timestampValue);return h.seconds===m.seconds&&h.nanos===m.nanos}(i,e);case 5:return i.stringValue===e.stringValue;case 6:return function(a,u){return ni(a.bytesValue).isEqual(ni(u.bytesValue))}(i,e);case 7:return i.referenceValue===e.referenceValue;case 8:return function(a,u){return it(a.geoPointValue.latitude)===it(u.geoPointValue.latitude)&&it(a.geoPointValue.longitude)===it(u.geoPointValue.longitude)}(i,e);case 2:return function(a,u){if("integerValue"in a&&"integerValue"in u)return it(a.integerValue)===it(u.integerValue);if("doubleValue"in a&&"doubleValue"in u){const h=it(a.doubleValue),m=it(u.doubleValue);return h===m?su(h)===su(m):isNaN(h)&&isNaN(m)}return!1}(i,e);case 9:return Bs(i.arrayValue.values||[],e.arrayValue.values||[],Xn);case 10:case 11:return function(a,u){const h=a.mapValue.fields||{},m=u.mapValue.fields||{};if(gm(h)!==gm(m))return!1;for(const g in h)if(h.hasOwnProperty(g)&&(m[g]===void 0||!Xn(h[g],m[g])))return!1;return!0}(i,e);default:return we()}}function ma(i,e){return(i.values||[]).find(n=>Xn(n,e))!==void 0}function $s(i,e){if(i===e)return 0;const n=ri(i),s=ri(e);if(n!==s)return ke(n,s);switch(n){case 0:case 9007199254740991:return 0;case 1:return ke(i.booleanValue,e.booleanValue);case 2:return function(u,h){const m=it(u.integerValue||u.doubleValue),g=it(h.integerValue||h.doubleValue);return m<g?-1:m>g?1:m===g?0:isNaN(m)?isNaN(g)?0:-1:1}(i,e);case 3:return vm(i.timestampValue,e.timestampValue);case 4:return vm(fa(i),fa(e));case 5:return ke(i.stringValue,e.stringValue);case 6:return function(u,h){const m=ni(u),g=ni(h);return m.compareTo(g)}(i.bytesValue,e.bytesValue);case 7:return function(u,h){const m=u.split("/"),g=h.split("/");for(let v=0;v<m.length&&v<g.length;v++){const w=ke(m[v],g[v]);if(w!==0)return w}return ke(m.length,g.length)}(i.referenceValue,e.referenceValue);case 8:return function(u,h){const m=ke(it(u.latitude),it(h.latitude));return m!==0?m:ke(it(u.longitude),it(h.longitude))}(i.geoPointValue,e.geoPointValue);case 9:return _m(i.arrayValue,e.arrayValue);case 10:return function(u,h){var m,g,v,w;const R=u.fields||{},I=h.fields||{},D=(m=R.value)===null||m===void 0?void 0:m.arrayValue,F=(g=I.value)===null||g===void 0?void 0:g.arrayValue,$=ke(((v=D==null?void 0:D.values)===null||v===void 0?void 0:v.length)||0,((w=F==null?void 0:F.values)===null||w===void 0?void 0:w.length)||0);return $!==0?$:_m(D,F)}(i.mapValue,e.mapValue);case 11:return function(u,h){if(u===$l.mapValue&&h===$l.mapValue)return 0;if(u===$l.mapValue)return 1;if(h===$l.mapValue)return-1;const m=u.fields||{},g=Object.keys(m),v=h.fields||{},w=Object.keys(v);g.sort(),w.sort();for(let R=0;R<g.length&&R<w.length;++R){const I=ke(g[R],w[R]);if(I!==0)return I;const D=$s(m[g[R]],v[w[R]]);if(D!==0)return D}return ke(g.length,w.length)}(i.mapValue,e.mapValue);default:throw we()}}function vm(i,e){if(typeof i=="string"&&typeof e=="string"&&i.length===e.length)return ke(i,e);const n=ti(i),s=ti(e),a=ke(n.seconds,s.seconds);return a!==0?a:ke(n.nanos,s.nanos)}function _m(i,e){const n=i.values||[],s=e.values||[];for(let a=0;a<n.length&&a<s.length;++a){const u=$s(n[a],s[a]);if(u)return u}return ke(n.length,s.length)}function qs(i){return Dh(i)}function Dh(i){return"nullValue"in i?"null":"booleanValue"in i?""+i.booleanValue:"integerValue"in i?""+i.integerValue:"doubleValue"in i?""+i.doubleValue:"timestampValue"in i?function(n){const s=ti(n);return`time(${s.seconds},${s.nanos})`}(i.timestampValue):"stringValue"in i?i.stringValue:"bytesValue"in i?function(n){return ni(n).toBase64()}(i.bytesValue):"referenceValue"in i?function(n){return ye.fromName(n).toString()}(i.referenceValue):"geoPointValue"in i?function(n){return`geo(${n.latitude},${n.longitude})`}(i.geoPointValue):"arrayValue"in i?function(n){let s="[",a=!0;for(const u of n.values||[])a?a=!1:s+=",",s+=Dh(u);return s+"]"}(i.arrayValue):"mapValue"in i?function(n){const s=Object.keys(n.fields||{}).sort();let a="{",u=!0;for(const h of s)u?u=!1:a+=",",a+=`${h}:${Dh(n.fields[h])}`;return a+"}"}(i.mapValue):we()}function Xl(i){switch(ri(i)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Eu(i);return e?16+Xl(e):16;case 5:return 2*i.stringValue.length;case 6:return ni(i.bytesValue).approximateByteSize();case 7:return i.referenceValue.length;case 9:return function(s){return(s.values||[]).reduce((a,u)=>a+Xl(u),0)}(i.arrayValue);case 10:case 11:return function(s){let a=0;return si(s.fields,(u,h)=>{a+=u.length+Xl(h)}),a}(i.mapValue);default:throw we()}}function Lh(i){return!!i&&"integerValue"in i}function od(i){return!!i&&"arrayValue"in i}function Em(i){return!!i&&"nullValue"in i}function wm(i){return!!i&&"doubleValue"in i&&isNaN(Number(i.doubleValue))}function Yl(i){return!!i&&"mapValue"in i}function Rw(i){var e,n;return((n=(((e=i==null?void 0:i.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function sa(i){if(i.geoPointValue)return{geoPointValue:Object.assign({},i.geoPointValue)};if(i.timestampValue&&typeof i.timestampValue=="object")return{timestampValue:Object.assign({},i.timestampValue)};if(i.mapValue){const e={mapValue:{fields:{}}};return si(i.mapValue.fields,(n,s)=>e.mapValue.fields[n]=sa(s)),e}if(i.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(i.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=sa(i.arrayValue.values[n]);return e}return Object.assign({},i)}function Aw(i){return(((i.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yt{constructor(e){this.value=e}static empty(){return new Yt({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let s=0;s<e.length-1;++s)if(n=(n.mapValue.fields||{})[e.get(s)],!Yl(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=sa(n)}setAll(e){let n=Ct.emptyPath(),s={},a=[];e.forEach((h,m)=>{if(!n.isImmediateParentOf(m)){const g=this.getFieldsMap(n);this.applyChanges(g,s,a),s={},a=[],n=m.popLast()}h?s[m.lastSegment()]=sa(h):a.push(m.lastSegment())});const u=this.getFieldsMap(n);this.applyChanges(u,s,a)}delete(e){const n=this.field(e.popLast());Yl(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Xn(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let s=0;s<e.length;++s){let a=n.mapValue.fields[e.get(s)];Yl(a)&&a.mapValue.fields||(a={mapValue:{fields:{}}},n.mapValue.fields[e.get(s)]=a),n=a}return n.mapValue.fields}applyChanges(e,n,s){si(n,(a,u)=>e[a]=u);for(const a of s)delete e[a]}clone(){return new Yt(sa(this.value))}}function Dg(i){const e=[];return si(i.fields,(n,s)=>{const a=new Ct([n]);if(Yl(s)){const u=Dg(s.mapValue).fields;if(u.length===0)e.push(a);else for(const h of u)e.push(a.child(h))}else e.push(a)}),new an(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e,n,s,a,u,h,m){this.key=e,this.documentType=n,this.version=s,this.readTime=a,this.createTime=u,this.data=h,this.documentState=m}static newInvalidDocument(e){return new Ft(e,0,Te.min(),Te.min(),Te.min(),Yt.empty(),0)}static newFoundDocument(e,n,s,a){return new Ft(e,1,n,Te.min(),s,a,0)}static newNoDocument(e,n){return new Ft(e,2,n,Te.min(),Te.min(),Yt.empty(),0)}static newUnknownDocument(e,n){return new Ft(e,3,n,Te.min(),Te.min(),Yt.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(Te.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Yt.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Yt.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Te.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ft&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ft(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ou{constructor(e,n){this.position=e,this.inclusive=n}}function Tm(i,e,n){let s=0;for(let a=0;a<i.position.length;a++){const u=e[a],h=i.position[a];if(u.field.isKeyField()?s=ye.comparator(ye.fromName(h.referenceValue),n.key):s=$s(h,n.data.field(u.field)),u.dir==="desc"&&(s*=-1),s!==0)break}return s}function Sm(i,e){if(i===null)return e===null;if(e===null||i.inclusive!==e.inclusive||i.position.length!==e.position.length)return!1;for(let n=0;n<i.position.length;n++)if(!Xn(i.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function Cw(i,e){return i.dir===e.dir&&i.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Lg{}class ft extends Lg{constructor(e,n,s){super(),this.field=e,this.op=n,this.value=s}static create(e,n,s){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,s):new kw(e,n,s):n==="array-contains"?new Nw(e,s):n==="in"?new Dw(e,s):n==="not-in"?new Lw(e,s):n==="array-contains-any"?new Ow(e,s):new ft(e,n,s)}static createKeyFieldInFilter(e,n,s){return n==="in"?new xw(e,s):new Vw(e,s)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison($s(n,this.value)):n!==null&&ri(this.value)===ri(n)&&this.matchesComparison($s(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return we()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Yn extends Lg{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new Yn(e,n)}matches(e){return Og(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function Og(i){return i.op==="and"}function Mg(i){return Pw(i)&&Og(i)}function Pw(i){for(const e of i.filters)if(e instanceof Yn)return!1;return!0}function Oh(i){if(i instanceof ft)return i.field.canonicalString()+i.op.toString()+qs(i.value);if(Mg(i))return i.filters.map(e=>Oh(e)).join(",");{const e=i.filters.map(n=>Oh(n)).join(",");return`${i.op}(${e})`}}function Fg(i,e){return i instanceof ft?function(s,a){return a instanceof ft&&s.op===a.op&&s.field.isEqual(a.field)&&Xn(s.value,a.value)}(i,e):i instanceof Yn?function(s,a){return a instanceof Yn&&s.op===a.op&&s.filters.length===a.filters.length?s.filters.reduce((u,h,m)=>u&&Fg(h,a.filters[m]),!0):!1}(i,e):void we()}function bg(i){return i instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${qs(n.value)}`}(i):i instanceof Yn?function(n){return n.op.toString()+" {"+n.getFilters().map(bg).join(" ,")+"}"}(i):"Filter"}class kw extends ft{constructor(e,n,s){super(e,n,s),this.key=ye.fromName(s.referenceValue)}matches(e){const n=ye.comparator(e.key,this.key);return this.matchesComparison(n)}}class xw extends ft{constructor(e,n){super(e,"in",n),this.keys=Ug("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class Vw extends ft{constructor(e,n){super(e,"not-in",n),this.keys=Ug("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function Ug(i,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(s=>ye.fromName(s.referenceValue))}class Nw extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return od(n)&&ma(n.arrayValue,this.value)}}class Dw extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ma(this.value.arrayValue,n)}}class Lw extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(ma(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&!ma(this.value.arrayValue,n)}}class Ow extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!od(n)||!n.arrayValue.values)&&n.arrayValue.values.some(s=>ma(this.value.arrayValue,s))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mw{constructor(e,n=null,s=[],a=[],u=null,h=null,m=null){this.path=e,this.collectionGroup=n,this.orderBy=s,this.filters=a,this.limit=u,this.startAt=h,this.endAt=m,this.ue=null}}function Im(i,e=null,n=[],s=[],a=null,u=null,h=null){return new Mw(i,e,n,s,a,u,h)}function ad(i){const e=Se(i);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(s=>Oh(s)).join(","),n+="|ob:",n+=e.orderBy.map(s=>function(u){return u.field.canonicalString()+u.dir}(s)).join(","),_u(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(s=>qs(s)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(s=>qs(s)).join(",")),e.ue=n}return e.ue}function ld(i,e){if(i.limit!==e.limit||i.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<i.orderBy.length;n++)if(!Cw(i.orderBy[n],e.orderBy[n]))return!1;if(i.filters.length!==e.filters.length)return!1;for(let n=0;n<i.filters.length;n++)if(!Fg(i.filters[n],e.filters[n]))return!1;return i.collectionGroup===e.collectionGroup&&!!i.path.isEqual(e.path)&&!!Sm(i.startAt,e.startAt)&&Sm(i.endAt,e.endAt)}function Mh(i){return ye.isDocumentKey(i.path)&&i.collectionGroup===null&&i.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu{constructor(e,n=null,s=[],a=[],u=null,h="F",m=null,g=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=s,this.filters=a,this.limit=u,this.limitType=h,this.startAt=m,this.endAt=g,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function Fw(i,e,n,s,a,u,h,m){return new wu(i,e,n,s,a,u,h,m)}function ud(i){return new wu(i)}function Rm(i){return i.filters.length===0&&i.limit===null&&i.startAt==null&&i.endAt==null&&(i.explicitOrderBy.length===0||i.explicitOrderBy.length===1&&i.explicitOrderBy[0].field.isKeyField())}function bw(i){return i.collectionGroup!==null}function oa(i){const e=Se(i);if(e.ce===null){e.ce=[];const n=new Set;for(const u of e.explicitOrderBy)e.ce.push(u),n.add(u.field.canonicalString());const s=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(h){let m=new mt(Ct.comparator);return h.filters.forEach(g=>{g.getFlattenedFilters().forEach(v=>{v.isInequality()&&(m=m.add(v.field))})}),m})(e).forEach(u=>{n.has(u.canonicalString())||u.isKeyField()||e.ce.push(new au(u,s))}),n.has(Ct.keyField().canonicalString())||e.ce.push(new au(Ct.keyField(),s))}return e.ce}function Kn(i){const e=Se(i);return e.le||(e.le=Uw(e,oa(i))),e.le}function Uw(i,e){if(i.limitType==="F")return Im(i.path,i.collectionGroup,e,i.filters,i.limit,i.startAt,i.endAt);{e=e.map(a=>{const u=a.dir==="desc"?"asc":"desc";return new au(a.field,u)});const n=i.endAt?new ou(i.endAt.position,i.endAt.inclusive):null,s=i.startAt?new ou(i.startAt.position,i.startAt.inclusive):null;return Im(i.path,i.collectionGroup,e,i.filters,i.limit,n,s)}}function Fh(i,e,n){return new wu(i.path,i.collectionGroup,i.explicitOrderBy.slice(),i.filters.slice(),e,n,i.startAt,i.endAt)}function Tu(i,e){return ld(Kn(i),Kn(e))&&i.limitType===e.limitType}function zg(i){return`${ad(Kn(i))}|lt:${i.limitType}`}function Ms(i){return`Query(target=${function(n){let s=n.path.canonicalString();return n.collectionGroup!==null&&(s+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(s+=`, filters: [${n.filters.map(a=>bg(a)).join(", ")}]`),_u(n.limit)||(s+=", limit: "+n.limit),n.orderBy.length>0&&(s+=`, orderBy: [${n.orderBy.map(a=>function(h){return`${h.field.canonicalString()} (${h.dir})`}(a)).join(", ")}]`),n.startAt&&(s+=", startAt: ",s+=n.startAt.inclusive?"b:":"a:",s+=n.startAt.position.map(a=>qs(a)).join(",")),n.endAt&&(s+=", endAt: ",s+=n.endAt.inclusive?"a:":"b:",s+=n.endAt.position.map(a=>qs(a)).join(",")),`Target(${s})`}(Kn(i))}; limitType=${i.limitType})`}function Su(i,e){return e.isFoundDocument()&&function(s,a){const u=a.key.path;return s.collectionGroup!==null?a.key.hasCollectionId(s.collectionGroup)&&s.path.isPrefixOf(u):ye.isDocumentKey(s.path)?s.path.isEqual(u):s.path.isImmediateParentOf(u)}(i,e)&&function(s,a){for(const u of oa(s))if(!u.field.isKeyField()&&a.data.field(u.field)===null)return!1;return!0}(i,e)&&function(s,a){for(const u of s.filters)if(!u.matches(a))return!1;return!0}(i,e)&&function(s,a){return!(s.startAt&&!function(h,m,g){const v=Tm(h,m,g);return h.inclusive?v<=0:v<0}(s.startAt,oa(s),a)||s.endAt&&!function(h,m,g){const v=Tm(h,m,g);return h.inclusive?v>=0:v>0}(s.endAt,oa(s),a))}(i,e)}function zw(i){return i.collectionGroup||(i.path.length%2==1?i.path.lastSegment():i.path.get(i.path.length-2))}function jg(i){return(e,n)=>{let s=!1;for(const a of oa(i)){const u=jw(a,e,n);if(u!==0)return u;s=s||a.field.isKeyField()}return 0}}function jw(i,e,n){const s=i.field.isKeyField()?ye.comparator(e.key,n.key):function(u,h,m){const g=h.data.field(u),v=m.data.field(u);return g!==null&&v!==null?$s(g,v):we()}(i.field,e,n);switch(i.dir){case"asc":return s;case"desc":return-1*s;default:return we()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zi{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s!==void 0){for(const[a,u]of s)if(this.equalsFn(a,e))return u}}has(e){return this.get(e)!==void 0}set(e,n){const s=this.mapKeyFn(e),a=this.inner[s];if(a===void 0)return this.inner[s]=[[e,n]],void this.innerSize++;for(let u=0;u<a.length;u++)if(this.equalsFn(a[u][0],e))return void(a[u]=[e,n]);a.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),s=this.inner[n];if(s===void 0)return!1;for(let a=0;a<s.length;a++)if(this.equalsFn(s[a][0],e))return s.length===1?delete this.inner[n]:s.splice(a,1),this.innerSize--,!0;return!1}forEach(e){si(this.inner,(n,s)=>{for(const[a,u]of s)e(a,u)})}isEmpty(){return Vg(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bw=new Ze(ye.comparator);function wr(){return Bw}const Bg=new Ze(ye.comparator);function ta(...i){let e=Bg;for(const n of i)e=e.insert(n.key,n);return e}function $g(i){let e=Bg;return i.forEach((n,s)=>e=e.insert(n,s.overlayedDocument)),e}function Fi(){return aa()}function qg(){return aa()}function aa(){return new zi(i=>i.toString(),(i,e)=>i.isEqual(e))}const $w=new Ze(ye.comparator),qw=new mt(ye.comparator);function Ce(...i){let e=qw;for(const n of i)e=e.add(n);return e}const Hw=new mt(ke);function Ww(){return Hw}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cd(i,e){if(i.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:su(e)?"-0":e}}function Hg(i){return{integerValue:""+i}}function Qw(i,e){return Ew(e)?Hg(e):cd(i,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Iu{constructor(){this._=void 0}}function Kw(i,e,n){return i instanceof lu?function(a,u){const h={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:a.seconds,nanos:a.nanoseconds}}}};return u&&sd(u)&&(u=Eu(u)),u&&(h.fields.__previous_value__=u),{mapValue:h}}(n,e):i instanceof ga?Qg(i,e):i instanceof ya?Kg(i,e):function(a,u){const h=Wg(a,u),m=Am(h)+Am(a.Pe);return Lh(h)&&Lh(a.Pe)?Hg(m):cd(a.serializer,m)}(i,e)}function Gw(i,e,n){return i instanceof ga?Qg(i,e):i instanceof ya?Kg(i,e):n}function Wg(i,e){return i instanceof uu?function(s){return Lh(s)||function(u){return!!u&&"doubleValue"in u}(s)}(e)?e:{integerValue:0}:null}class lu extends Iu{}class ga extends Iu{constructor(e){super(),this.elements=e}}function Qg(i,e){const n=Gg(e);for(const s of i.elements)n.some(a=>Xn(a,s))||n.push(s);return{arrayValue:{values:n}}}class ya extends Iu{constructor(e){super(),this.elements=e}}function Kg(i,e){let n=Gg(e);for(const s of i.elements)n=n.filter(a=>!Xn(a,s));return{arrayValue:{values:n}}}class uu extends Iu{constructor(e,n){super(),this.serializer=e,this.Pe=n}}function Am(i){return it(i.integerValue||i.doubleValue)}function Gg(i){return od(i)&&i.arrayValue.values?i.arrayValue.values.slice():[]}function Xw(i,e){return i.field.isEqual(e.field)&&function(s,a){return s instanceof ga&&a instanceof ga||s instanceof ya&&a instanceof ya?Bs(s.elements,a.elements,Xn):s instanceof uu&&a instanceof uu?Xn(s.Pe,a.Pe):s instanceof lu&&a instanceof lu}(i.transform,e.transform)}class Yw{constructor(e,n){this.version=e,this.transformResults=n}}class vn{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new vn}static exists(e){return new vn(void 0,e)}static updateTime(e){return new vn(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Jl(i,e){return i.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(i.updateTime):i.exists===void 0||i.exists===e.isFoundDocument()}class Ru{}function Xg(i,e){if(!i.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return i.isNoDocument()?new hd(i.key,vn.none()):new Ea(i.key,i.data,vn.none());{const n=i.data,s=Yt.empty();let a=new mt(Ct.comparator);for(let u of e.fields)if(!a.has(u)){let h=n.field(u);h===null&&u.length>1&&(u=u.popLast(),h=n.field(u)),h===null?s.delete(u):s.set(u,h),a=a.add(u)}return new oi(i.key,s,new an(a.toArray()),vn.none())}}function Jw(i,e,n){i instanceof Ea?function(a,u,h){const m=a.value.clone(),g=Pm(a.fieldTransforms,u,h.transformResults);m.setAll(g),u.convertToFoundDocument(h.version,m).setHasCommittedMutations()}(i,e,n):i instanceof oi?function(a,u,h){if(!Jl(a.precondition,u))return void u.convertToUnknownDocument(h.version);const m=Pm(a.fieldTransforms,u,h.transformResults),g=u.data;g.setAll(Yg(a)),g.setAll(m),u.convertToFoundDocument(h.version,g).setHasCommittedMutations()}(i,e,n):function(a,u,h){u.convertToNoDocument(h.version).setHasCommittedMutations()}(0,e,n)}function la(i,e,n,s){return i instanceof Ea?function(u,h,m,g){if(!Jl(u.precondition,h))return m;const v=u.value.clone(),w=km(u.fieldTransforms,g,h);return v.setAll(w),h.convertToFoundDocument(h.version,v).setHasLocalMutations(),null}(i,e,n,s):i instanceof oi?function(u,h,m,g){if(!Jl(u.precondition,h))return m;const v=km(u.fieldTransforms,g,h),w=h.data;return w.setAll(Yg(u)),w.setAll(v),h.convertToFoundDocument(h.version,w).setHasLocalMutations(),m===null?null:m.unionWith(u.fieldMask.fields).unionWith(u.fieldTransforms.map(R=>R.field))}(i,e,n,s):function(u,h,m){return Jl(u.precondition,h)?(h.convertToNoDocument(h.version).setHasLocalMutations(),null):m}(i,e,n)}function Zw(i,e){let n=null;for(const s of i.fieldTransforms){const a=e.data.field(s.field),u=Wg(s.transform,a||null);u!=null&&(n===null&&(n=Yt.empty()),n.set(s.field,u))}return n||null}function Cm(i,e){return i.type===e.type&&!!i.key.isEqual(e.key)&&!!i.precondition.isEqual(e.precondition)&&!!function(s,a){return s===void 0&&a===void 0||!(!s||!a)&&Bs(s,a,(u,h)=>Xw(u,h))}(i.fieldTransforms,e.fieldTransforms)&&(i.type===0?i.value.isEqual(e.value):i.type!==1||i.data.isEqual(e.data)&&i.fieldMask.isEqual(e.fieldMask))}class Ea extends Ru{constructor(e,n,s,a=[]){super(),this.key=e,this.value=n,this.precondition=s,this.fieldTransforms=a,this.type=0}getFieldMask(){return null}}class oi extends Ru{constructor(e,n,s,a,u=[]){super(),this.key=e,this.data=n,this.fieldMask=s,this.precondition=a,this.fieldTransforms=u,this.type=1}getFieldMask(){return this.fieldMask}}function Yg(i){const e=new Map;return i.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const s=i.data.field(n);e.set(n,s)}}),e}function Pm(i,e,n){const s=new Map;be(i.length===n.length);for(let a=0;a<n.length;a++){const u=i[a],h=u.transform,m=e.data.field(u.field);s.set(u.field,Gw(h,m,n[a]))}return s}function km(i,e,n){const s=new Map;for(const a of i){const u=a.transform,h=n.data.field(a.field);s.set(a.field,Kw(u,h,e))}return s}class hd extends Ru{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class e1 extends Ru{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class t1{constructor(e,n,s,a){this.batchId=e,this.localWriteTime=n,this.baseMutations=s,this.mutations=a}applyToRemoteDocument(e,n){const s=n.mutationResults;for(let a=0;a<this.mutations.length;a++){const u=this.mutations[a];u.key.isEqual(e.key)&&Jw(u,e,s[a])}}applyToLocalView(e,n){for(const s of this.baseMutations)s.key.isEqual(e.key)&&(n=la(s,e,n,this.localWriteTime));for(const s of this.mutations)s.key.isEqual(e.key)&&(n=la(s,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const s=qg();return this.mutations.forEach(a=>{const u=e.get(a.key),h=u.overlayedDocument;let m=this.applyToLocalView(h,u.mutatedFields);m=n.has(a.key)?null:m;const g=Xg(h,m);g!==null&&s.set(a.key,g),h.isValidDocument()||h.convertToNoDocument(Te.min())}),s}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Bs(this.mutations,e.mutations,(n,s)=>Cm(n,s))&&Bs(this.baseMutations,e.baseMutations,(n,s)=>Cm(n,s))}}class dd{constructor(e,n,s,a){this.batch=e,this.commitVersion=n,this.mutationResults=s,this.docVersions=a}static from(e,n,s){be(e.mutations.length===s.length);let a=function(){return $w}();const u=e.mutations;for(let h=0;h<u.length;h++)a=a.insert(u[h].key,s[h].version);return new dd(e,n,s,a)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n1{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class r1{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var at,Ne;function i1(i){switch(i){default:return we();case X.CANCELLED:case X.UNKNOWN:case X.DEADLINE_EXCEEDED:case X.RESOURCE_EXHAUSTED:case X.INTERNAL:case X.UNAVAILABLE:case X.UNAUTHENTICATED:return!1;case X.INVALID_ARGUMENT:case X.NOT_FOUND:case X.ALREADY_EXISTS:case X.PERMISSION_DENIED:case X.FAILED_PRECONDITION:case X.ABORTED:case X.OUT_OF_RANGE:case X.UNIMPLEMENTED:case X.DATA_LOSS:return!0}}function Jg(i){if(i===void 0)return Er("GRPC error has no .code"),X.UNKNOWN;switch(i){case at.OK:return X.OK;case at.CANCELLED:return X.CANCELLED;case at.UNKNOWN:return X.UNKNOWN;case at.DEADLINE_EXCEEDED:return X.DEADLINE_EXCEEDED;case at.RESOURCE_EXHAUSTED:return X.RESOURCE_EXHAUSTED;case at.INTERNAL:return X.INTERNAL;case at.UNAVAILABLE:return X.UNAVAILABLE;case at.UNAUTHENTICATED:return X.UNAUTHENTICATED;case at.INVALID_ARGUMENT:return X.INVALID_ARGUMENT;case at.NOT_FOUND:return X.NOT_FOUND;case at.ALREADY_EXISTS:return X.ALREADY_EXISTS;case at.PERMISSION_DENIED:return X.PERMISSION_DENIED;case at.FAILED_PRECONDITION:return X.FAILED_PRECONDITION;case at.ABORTED:return X.ABORTED;case at.OUT_OF_RANGE:return X.OUT_OF_RANGE;case at.UNIMPLEMENTED:return X.UNIMPLEMENTED;case at.DATA_LOSS:return X.DATA_LOSS;default:return we()}}(Ne=at||(at={}))[Ne.OK=0]="OK",Ne[Ne.CANCELLED=1]="CANCELLED",Ne[Ne.UNKNOWN=2]="UNKNOWN",Ne[Ne.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ne[Ne.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ne[Ne.NOT_FOUND=5]="NOT_FOUND",Ne[Ne.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ne[Ne.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ne[Ne.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ne[Ne.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ne[Ne.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ne[Ne.ABORTED=10]="ABORTED",Ne[Ne.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ne[Ne.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ne[Ne.INTERNAL=13]="INTERNAL",Ne[Ne.UNAVAILABLE=14]="UNAVAILABLE",Ne[Ne.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s1(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o1=new bi([4294967295,4294967295],0);function xm(i){const e=s1().encode(i),n=new Sg;return n.update(e),new Uint8Array(n.digest())}function Vm(i){const e=new DataView(i.buffer),n=e.getUint32(0,!0),s=e.getUint32(4,!0),a=e.getUint32(8,!0),u=e.getUint32(12,!0);return[new bi([n,s],0),new bi([a,u],0)]}class fd{constructor(e,n,s){if(this.bitmap=e,this.padding=n,this.hashCount=s,n<0||n>=8)throw new na(`Invalid padding: ${n}`);if(s<0)throw new na(`Invalid hash count: ${s}`);if(e.length>0&&this.hashCount===0)throw new na(`Invalid hash count: ${s}`);if(e.length===0&&n!==0)throw new na(`Invalid padding when bitmap length is 0: ${n}`);this.Te=8*e.length-n,this.Ie=bi.fromNumber(this.Te)}Ee(e,n,s){let a=e.add(n.multiply(bi.fromNumber(s)));return a.compare(o1)===1&&(a=new bi([a.getBits(0),a.getBits(1)],0)),a.modulo(this.Ie).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Te===0)return!1;const n=xm(e),[s,a]=Vm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);if(!this.de(h))return!1}return!0}static create(e,n,s){const a=e%8==0?0:8-e%8,u=new Uint8Array(Math.ceil(e/8)),h=new fd(u,a,n);return s.forEach(m=>h.insert(m)),h}insert(e){if(this.Te===0)return;const n=xm(e),[s,a]=Vm(n);for(let u=0;u<this.hashCount;u++){const h=this.Ee(s,a,u);this.Ae(h)}}Ae(e){const n=Math.floor(e/8),s=e%8;this.bitmap[n]|=1<<s}}class na extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Au{constructor(e,n,s,a,u){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=s,this.documentUpdates=a,this.resolvedLimboDocuments=u}static createSynthesizedRemoteEventForCurrentChange(e,n,s){const a=new Map;return a.set(e,wa.createSynthesizedTargetChangeForCurrentChange(e,n,s)),new Au(Te.min(),a,new Ze(ke),wr(),Ce())}}class wa{constructor(e,n,s,a,u){this.resumeToken=e,this.current=n,this.addedDocuments=s,this.modifiedDocuments=a,this.removedDocuments=u}static createSynthesizedTargetChangeForCurrentChange(e,n,s){return new wa(s,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zl{constructor(e,n,s,a){this.Re=e,this.removedTargetIds=n,this.key=s,this.Ve=a}}class Zg{constructor(e,n){this.targetId=e,this.me=n}}class ey{constructor(e,n,s=Pt.EMPTY_BYTE_STRING,a=null){this.state=e,this.targetIds=n,this.resumeToken=s,this.cause=a}}class Nm{constructor(){this.fe=0,this.ge=Dm(),this.pe=Pt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Ce(),n=Ce(),s=Ce();return this.ge.forEach((a,u)=>{switch(u){case 0:e=e.add(a);break;case 2:n=n.add(a);break;case 1:s=s.add(a);break;default:we()}}),new wa(this.pe,this.ye,e,n,s)}Ce(){this.we=!1,this.ge=Dm()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,be(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class a1{constructor(e){this.Le=e,this.Be=new Map,this.ke=wr(),this.qe=ql(),this.Qe=ql(),this.Ke=new Ze(ke)}$e(e){for(const n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(n,e.Ve):this.We(n,e.key,e.Ve);for(const n of e.removedTargetIds)this.We(n,e.key,e.Ve)}Ge(e){this.forEachTarget(e,n=>{const s=this.ze(n);switch(e.state){case 0:this.je(n)&&s.De(e.resumeToken);break;case 1:s.Oe(),s.Se||s.Ce(),s.De(e.resumeToken);break;case 2:s.Oe(),s.Se||this.removeTarget(n);break;case 3:this.je(n)&&(s.Ne(),s.De(e.resumeToken));break;case 4:this.je(n)&&(this.He(n),s.De(e.resumeToken));break;default:we()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((s,a)=>{this.je(a)&&n(a)})}Je(e){const n=e.targetId,s=e.me.count,a=this.Ye(n);if(a){const u=a.target;if(Mh(u))if(s===0){const h=new ye(u.path);this.We(n,h,Ft.newNoDocument(h,Te.min()))}else be(s===1);else{const h=this.Ze(n);if(h!==s){const m=this.Xe(e),g=m?this.et(m,e,h):1;if(g!==0){this.He(n);const v=g===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(n,v)}}}}}Xe(e){const n=e.me.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:s="",padding:a=0},hashCount:u=0}=n;let h,m;try{h=ni(s).toUint8Array()}catch(g){if(g instanceof Ng)return js("Decoding the base64 bloom filter in existence filter failed ("+g.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw g}try{m=new fd(h,a,u)}catch(g){return js(g instanceof na?"BloomFilter error: ":"Applying bloom filter failed: ",g),null}return m.Te===0?null:m}et(e,n,s){return n.me.count===s-this.rt(e,n.targetId)?0:2}rt(e,n){const s=this.Le.getRemoteKeysForTarget(n);let a=0;return s.forEach(u=>{const h=this.Le.nt(),m=`projects/${h.projectId}/databases/${h.database}/documents/${u.path.canonicalString()}`;e.mightContain(m)||(this.We(n,u,null),a++)}),a}it(e){const n=new Map;this.Be.forEach((u,h)=>{const m=this.Ye(h);if(m){if(u.current&&Mh(m.target)){const g=new ye(m.target.path);this.st(g).has(h)||this.ot(h,g)||this.We(h,g,Ft.newNoDocument(g,e))}u.be&&(n.set(h,u.ve()),u.Ce())}});let s=Ce();this.Qe.forEach((u,h)=>{let m=!0;h.forEachWhile(g=>{const v=this.Ye(g);return!v||v.purpose==="TargetPurposeLimboResolution"||(m=!1,!1)}),m&&(s=s.add(u))}),this.ke.forEach((u,h)=>h.setReadTime(e));const a=new Au(e,n,this.Ke,this.ke,s);return this.ke=wr(),this.qe=ql(),this.Qe=ql(),this.Ke=new Ze(ke),a}Ue(e,n){if(!this.je(e))return;const s=this.ot(e,n.key)?2:0;this.ze(e).Fe(n.key,s),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e)),this.Qe=this.Qe.insert(n.key,this._t(n.key).add(e))}We(e,n,s){if(!this.je(e))return;const a=this.ze(e);this.ot(e,n)?a.Fe(n,1):a.Me(n),this.Qe=this.Qe.insert(n,this._t(n).delete(e)),this.Qe=this.Qe.insert(n,this._t(n).add(e)),s&&(this.ke=this.ke.insert(n,s))}removeTarget(e){this.Be.delete(e)}Ze(e){const n=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let n=this.Be.get(e);return n||(n=new Nm,this.Be.set(e,n)),n}_t(e){let n=this.Qe.get(e);return n||(n=new mt(ke),this.Qe=this.Qe.insert(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new mt(ke),this.qe=this.qe.insert(e,n)),n}je(e){const n=this.Ye(e)!==null;return n||ae("WatchChangeAggregator","Detected inactive target",e),n}Ye(e){const n=this.Be.get(e);return n&&n.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Nm),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.We(e,n,null)})}ot(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}}function ql(){return new Ze(ye.comparator)}function Dm(){return new Ze(ye.comparator)}const l1={asc:"ASCENDING",desc:"DESCENDING"},u1={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},c1={and:"AND",or:"OR"};class h1{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function bh(i,e){return i.useProto3Json||_u(e)?e:{value:e}}function cu(i,e){return i.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function ty(i,e){return i.useProto3Json?e.toBase64():e.toUint8Array()}function d1(i,e){return cu(i,e.toTimestamp())}function Gn(i){return be(!!i),Te.fromTimestamp(function(n){const s=ti(n);return new pt(s.seconds,s.nanos)}(i))}function pd(i,e){return Uh(i,e).canonicalString()}function Uh(i,e){const n=function(a){return new Ge(["projects",a.projectId,"databases",a.database])}(i).child("documents");return e===void 0?n:n.child(e)}function ny(i){const e=Ge.fromString(i);return be(ay(e)),e}function zh(i,e){return pd(i.databaseId,e.path)}function _h(i,e){const n=ny(e);if(n.get(1)!==i.databaseId.projectId)throw new de(X.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+i.databaseId.projectId);if(n.get(3)!==i.databaseId.database)throw new de(X.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+i.databaseId.database);return new ye(iy(n))}function ry(i,e){return pd(i.databaseId,e)}function f1(i){const e=ny(i);return e.length===4?Ge.emptyPath():iy(e)}function jh(i){return new Ge(["projects",i.databaseId.projectId,"databases",i.databaseId.database]).canonicalString()}function iy(i){return be(i.length>4&&i.get(4)==="documents"),i.popFirst(5)}function Lm(i,e,n){return{name:zh(i,e),fields:n.value.mapValue.fields}}function p1(i,e){let n;if("targetChange"in e){e.targetChange;const s=function(v){return v==="NO_CHANGE"?0:v==="ADD"?1:v==="REMOVE"?2:v==="CURRENT"?3:v==="RESET"?4:we()}(e.targetChange.targetChangeType||"NO_CHANGE"),a=e.targetChange.targetIds||[],u=function(v,w){return v.useProto3Json?(be(w===void 0||typeof w=="string"),Pt.fromBase64String(w||"")):(be(w===void 0||w instanceof Buffer||w instanceof Uint8Array),Pt.fromUint8Array(w||new Uint8Array))}(i,e.targetChange.resumeToken),h=e.targetChange.cause,m=h&&function(v){const w=v.code===void 0?X.UNKNOWN:Jg(v.code);return new de(w,v.message||"")}(h);n=new ey(s,a,u,m||null)}else if("documentChange"in e){e.documentChange;const s=e.documentChange;s.document,s.document.name,s.document.updateTime;const a=_h(i,s.document.name),u=Gn(s.document.updateTime),h=s.document.createTime?Gn(s.document.createTime):Te.min(),m=new Yt({mapValue:{fields:s.document.fields}}),g=Ft.newFoundDocument(a,u,h,m),v=s.targetIds||[],w=s.removedTargetIds||[];n=new Zl(v,w,g.key,g)}else if("documentDelete"in e){e.documentDelete;const s=e.documentDelete;s.document;const a=_h(i,s.document),u=s.readTime?Gn(s.readTime):Te.min(),h=Ft.newNoDocument(a,u),m=s.removedTargetIds||[];n=new Zl([],m,h.key,h)}else if("documentRemove"in e){e.documentRemove;const s=e.documentRemove;s.document;const a=_h(i,s.document),u=s.removedTargetIds||[];n=new Zl([],u,a,null)}else{if(!("filter"in e))return we();{e.filter;const s=e.filter;s.targetId;const{count:a=0,unchangedNames:u}=s,h=new r1(a,u),m=s.targetId;n=new Zg(m,h)}}return n}function m1(i,e){let n;if(e instanceof Ea)n={update:Lm(i,e.key,e.value)};else if(e instanceof hd)n={delete:zh(i,e.key)};else if(e instanceof oi)n={update:Lm(i,e.key,e.data),updateMask:I1(e.fieldMask)};else{if(!(e instanceof e1))return we();n={verify:zh(i,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(s=>function(u,h){const m=h.transform;if(m instanceof lu)return{fieldPath:h.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(m instanceof ga)return{fieldPath:h.field.canonicalString(),appendMissingElements:{values:m.elements}};if(m instanceof ya)return{fieldPath:h.field.canonicalString(),removeAllFromArray:{values:m.elements}};if(m instanceof uu)return{fieldPath:h.field.canonicalString(),increment:m.Pe};throw we()}(0,s))),e.precondition.isNone||(n.currentDocument=function(a,u){return u.updateTime!==void 0?{updateTime:d1(a,u.updateTime)}:u.exists!==void 0?{exists:u.exists}:we()}(i,e.precondition)),n}function g1(i,e){return i&&i.length>0?(be(e!==void 0),i.map(n=>function(a,u){let h=a.updateTime?Gn(a.updateTime):Gn(u);return h.isEqual(Te.min())&&(h=Gn(u)),new Yw(h,a.transformResults||[])}(n,e))):[]}function y1(i,e){return{documents:[ry(i,e.path)]}}function v1(i,e){const n={structuredQuery:{}},s=e.path;let a;e.collectionGroup!==null?(a=s,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(a=s.popLast(),n.structuredQuery.from=[{collectionId:s.lastSegment()}]),n.parent=ry(i,a);const u=function(v){if(v.length!==0)return oy(Yn.create(v,"and"))}(e.filters);u&&(n.structuredQuery.where=u);const h=function(v){if(v.length!==0)return v.map(w=>function(I){return{field:Fs(I.field),direction:w1(I.dir)}}(w))}(e.orderBy);h&&(n.structuredQuery.orderBy=h);const m=bh(i,e.limit);return m!==null&&(n.structuredQuery.limit=m),e.startAt&&(n.structuredQuery.startAt=function(v){return{before:v.inclusive,values:v.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(v){return{before:!v.inclusive,values:v.position}}(e.endAt)),{ct:n,parent:a}}function _1(i){let e=f1(i.parent);const n=i.structuredQuery,s=n.from?n.from.length:0;let a=null;if(s>0){be(s===1);const w=n.from[0];w.allDescendants?a=w.collectionId:e=e.child(w.collectionId)}let u=[];n.where&&(u=function(R){const I=sy(R);return I instanceof Yn&&Mg(I)?I.getFilters():[I]}(n.where));let h=[];n.orderBy&&(h=function(R){return R.map(I=>function(F){return new au(bs(F.field),function(z){switch(z){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(F.direction))}(I))}(n.orderBy));let m=null;n.limit&&(m=function(R){let I;return I=typeof R=="object"?R.value:R,_u(I)?null:I}(n.limit));let g=null;n.startAt&&(g=function(R){const I=!!R.before,D=R.values||[];return new ou(D,I)}(n.startAt));let v=null;return n.endAt&&(v=function(R){const I=!R.before,D=R.values||[];return new ou(D,I)}(n.endAt)),Fw(e,a,h,u,m,"F",g,v)}function E1(i,e){const n=function(a){switch(a){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return we()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function sy(i){return i.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const s=bs(n.unaryFilter.field);return ft.create(s,"==",{doubleValue:NaN});case"IS_NULL":const a=bs(n.unaryFilter.field);return ft.create(a,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const u=bs(n.unaryFilter.field);return ft.create(u,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const h=bs(n.unaryFilter.field);return ft.create(h,"!=",{nullValue:"NULL_VALUE"});default:return we()}}(i):i.fieldFilter!==void 0?function(n){return ft.create(bs(n.fieldFilter.field),function(a){switch(a){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return we()}}(n.fieldFilter.op),n.fieldFilter.value)}(i):i.compositeFilter!==void 0?function(n){return Yn.create(n.compositeFilter.filters.map(s=>sy(s)),function(a){switch(a){case"AND":return"and";case"OR":return"or";default:return we()}}(n.compositeFilter.op))}(i):we()}function w1(i){return l1[i]}function T1(i){return u1[i]}function S1(i){return c1[i]}function Fs(i){return{fieldPath:i.canonicalString()}}function bs(i){return Ct.fromServerFormat(i.fieldPath)}function oy(i){return i instanceof ft?function(n){if(n.op==="=="){if(wm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NAN"}};if(Em(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(wm(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NAN"}};if(Em(n.value))return{unaryFilter:{field:Fs(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Fs(n.field),op:T1(n.op),value:n.value}}}(i):i instanceof Yn?function(n){const s=n.getFilters().map(a=>oy(a));return s.length===1?s[0]:{compositeFilter:{op:S1(n.op),filters:s}}}(i):we()}function I1(i){const e=[];return i.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function ay(i){return i.length>=4&&i.get(0)==="projects"&&i.get(2)==="databases"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kr{constructor(e,n,s,a,u=Te.min(),h=Te.min(),m=Pt.EMPTY_BYTE_STRING,g=null){this.target=e,this.targetId=n,this.purpose=s,this.sequenceNumber=a,this.snapshotVersion=u,this.lastLimboFreeSnapshotVersion=h,this.resumeToken=m,this.expectedCount=g}withSequenceNumber(e){return new Kr(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new Kr(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class R1{constructor(e){this.ht=e}}function A1(i){const e=_1({parent:i.parent,structuredQuery:i.structuredQuery});return i.limitType==="LAST"?Fh(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class C1{constructor(){this.ln=new P1}addToCollectionParentIndex(e,n){return this.ln.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.ln.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(ei.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(ei.min())}updateCollectionGroup(e,n,s){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class P1{constructor(){this.index={}}add(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n]||new mt(Ge.comparator),u=!a.has(s);return this.index[n]=a.add(s),u}has(e){const n=e.lastSegment(),s=e.popLast(),a=this.index[n];return a&&a.has(s)}getEntries(e){return(this.index[e]||new mt(Ge.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class Xt{static withCacheSize(e){return new Xt(e,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,s){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Xt.DEFAULT_COLLECTION_PERCENTILE=10,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Xt.DEFAULT=new Xt(41943040,Xt.DEFAULT_COLLECTION_PERCENTILE,Xt.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Xt.DISABLED=new Xt(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hs{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Hs(0)}static Qn(){return new Hs(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Mm([i,e],[n,s]){const a=ke(i,n);return a===0?ke(e,s):a}class k1{constructor(e){this.Gn=e,this.buffer=new mt(Mm),this.zn=0}jn(){return++this.zn}Hn(e){const n=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(n);else{const s=this.buffer.last();Mm(n,s)<0&&(this.buffer=this.buffer.delete(s).add(n))}}get maxValue(){return this.buffer.last()[0]}}class x1{constructor(e,n,s){this.garbageCollector=e,this.asyncQueue=n,this.localStore=s,this.Jn=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return this.Jn!==null}Yn(e){ae("LruGarbageCollector",`Garbage collection scheduled in ${e}ms`),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){eo(n)?ae("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",n):await Zs(n)}await this.Yn(3e5)})}}class V1{constructor(e,n){this.Zn=e,this.params=n}calculateTargetCount(e,n){return this.Zn.Xn(e).next(s=>Math.floor(n/100*s))}nthSequenceNumber(e,n){if(n===0)return H.resolve(vu.oe);const s=new k1(n);return this.Zn.forEachTarget(e,a=>s.Hn(a.sequenceNumber)).next(()=>this.Zn.er(e,a=>s.Hn(a))).next(()=>s.maxValue)}removeTargets(e,n,s){return this.Zn.removeTargets(e,n,s)}removeOrphanedDocuments(e,n){return this.Zn.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ae("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(Om)):this.getCacheSize(e).next(s=>s<this.params.cacheSizeCollectionThreshold?(ae("LruGarbageCollector",`Garbage collection skipped; Cache size ${s} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Om):this.tr(e,n))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,n){let s,a,u,h,m,g,v;const w=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(R=>(R>this.params.maximumSequenceNumbersToCollect?(ae("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${R}`),a=this.params.maximumSequenceNumbersToCollect):a=R,h=Date.now(),this.nthSequenceNumber(e,a))).next(R=>(s=R,m=Date.now(),this.removeTargets(e,s,n))).next(R=>(u=R,g=Date.now(),this.removeOrphanedDocuments(e,s))).next(R=>(v=Date.now(),Os()<=De.DEBUG&&ae("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${h-w}ms
	Determined least recently used ${a} in `+(m-h)+`ms
	Removed ${u} targets in `+(g-m)+`ms
	Removed ${R} documents in `+(v-g)+`ms
Total Duration: ${v-w}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:a,targetsRemoved:u,documentsRemoved:R})))}}function N1(i,e){return new V1(i,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class D1{constructor(){this.changes=new zi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ft.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const s=this.changes.get(n);return s!==void 0?H.resolve(s):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class L1{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class O1{constructor(e,n,s,a){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=s,this.indexManager=a}getDocument(e,n){let s=null;return this.documentOverlayCache.getOverlay(e,n).next(a=>(s=a,this.remoteDocumentCache.getEntry(e,n))).next(a=>(s!==null&&la(s.mutation,a,an.empty(),pt.now()),a))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.getLocalViewOfDocuments(e,s,Ce()).next(()=>s))}getLocalViewOfDocuments(e,n,s=Ce()){const a=Fi();return this.populateOverlays(e,a,n).next(()=>this.computeViews(e,n,a,s).next(u=>{let h=ta();return u.forEach((m,g)=>{h=h.insert(m,g.overlayedDocument)}),h}))}getOverlayedDocuments(e,n){const s=Fi();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,Ce()))}populateOverlays(e,n,s){const a=[];return s.forEach(u=>{n.has(u)||a.push(u)}),this.documentOverlayCache.getOverlays(e,a).next(u=>{u.forEach((h,m)=>{n.set(h,m)})})}computeViews(e,n,s,a){let u=wr();const h=aa(),m=function(){return aa()}();return n.forEach((g,v)=>{const w=s.get(v.key);a.has(v.key)&&(w===void 0||w.mutation instanceof oi)?u=u.insert(v.key,v):w!==void 0?(h.set(v.key,w.mutation.getFieldMask()),la(w.mutation,v,w.mutation.getFieldMask(),pt.now())):h.set(v.key,an.empty())}),this.recalculateAndSaveOverlays(e,u).next(g=>(g.forEach((v,w)=>h.set(v,w)),n.forEach((v,w)=>{var R;return m.set(v,new L1(w,(R=h.get(v))!==null&&R!==void 0?R:null))}),m))}recalculateAndSaveOverlays(e,n){const s=aa();let a=new Ze((h,m)=>h-m),u=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(h=>{for(const m of h)m.keys().forEach(g=>{const v=n.get(g);if(v===null)return;let w=s.get(g)||an.empty();w=m.applyToLocalView(v,w),s.set(g,w);const R=(a.get(m.batchId)||Ce()).add(g);a=a.insert(m.batchId,R)})}).next(()=>{const h=[],m=a.getReverseIterator();for(;m.hasNext();){const g=m.getNext(),v=g.key,w=g.value,R=qg();w.forEach(I=>{if(!u.has(I)){const D=Xg(n.get(I),s.get(I));D!==null&&R.set(I,D),u=u.add(I)}}),h.push(this.documentOverlayCache.saveOverlays(e,v,R))}return H.waitFor(h)}).next(()=>s)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(s=>this.recalculateAndSaveOverlays(e,s))}getDocumentsMatchingQuery(e,n,s,a){return function(h){return ye.isDocumentKey(h.path)&&h.collectionGroup===null&&h.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):bw(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,s,a):this.getDocumentsMatchingCollectionQuery(e,n,s,a)}getNextDocuments(e,n,s,a){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,s,a).next(u=>{const h=a-u.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,s.largestBatchId,a-u.size):H.resolve(Fi());let m=-1,g=u;return h.next(v=>H.forEach(v,(w,R)=>(m<R.largestBatchId&&(m=R.largestBatchId),u.get(w)?H.resolve():this.remoteDocumentCache.getEntry(e,w).next(I=>{g=g.insert(w,I)}))).next(()=>this.populateOverlays(e,v,u)).next(()=>this.computeViews(e,g,v,Ce())).next(w=>({batchId:m,changes:$g(w)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ye(n)).next(s=>{let a=ta();return s.isFoundDocument()&&(a=a.insert(s.key,s)),a})}getDocumentsMatchingCollectionGroupQuery(e,n,s,a){const u=n.collectionGroup;let h=ta();return this.indexManager.getCollectionParents(e,u).next(m=>H.forEach(m,g=>{const v=function(R,I){return new wu(I,null,R.explicitOrderBy.slice(),R.filters.slice(),R.limit,R.limitType,R.startAt,R.endAt)}(n,g.child(u));return this.getDocumentsMatchingCollectionQuery(e,v,s,a).next(w=>{w.forEach((R,I)=>{h=h.insert(R,I)})})}).next(()=>h))}getDocumentsMatchingCollectionQuery(e,n,s,a){let u;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,s.largestBatchId).next(h=>(u=h,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,s,u,a))).next(h=>{u.forEach((g,v)=>{const w=v.getKey();h.get(w)===null&&(h=h.insert(w,Ft.newInvalidDocument(w)))});let m=ta();return h.forEach((g,v)=>{const w=u.get(g);w!==void 0&&la(w.mutation,v,an.empty(),pt.now()),Su(n,v)&&(m=m.insert(g,v))}),m})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class M1{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,n){return H.resolve(this.Tr.get(n))}saveBundleMetadata(e,n){return this.Tr.set(n.id,function(a){return{id:a.id,version:a.version,createTime:Gn(a.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Ir.get(n))}saveNamedQuery(e,n){return this.Ir.set(n.name,function(a){return{name:a.name,query:A1(a.bundledQuery),readTime:Gn(a.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F1{constructor(){this.overlays=new Ze(ye.comparator),this.Er=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const s=Fi();return H.forEach(n,a=>this.getOverlay(e,a).next(u=>{u!==null&&s.set(a,u)})).next(()=>s)}saveOverlays(e,n,s){return s.forEach((a,u)=>{this.Tt(e,n,u)}),H.resolve()}removeOverlaysForBatchId(e,n,s){const a=this.Er.get(s);return a!==void 0&&(a.forEach(u=>this.overlays=this.overlays.remove(u)),this.Er.delete(s)),H.resolve()}getOverlaysForCollection(e,n,s){const a=Fi(),u=n.length+1,h=new ye(n.child("")),m=this.overlays.getIteratorFrom(h);for(;m.hasNext();){const g=m.getNext().value,v=g.getKey();if(!n.isPrefixOf(v.path))break;v.path.length===u&&g.largestBatchId>s&&a.set(g.getKey(),g)}return H.resolve(a)}getOverlaysForCollectionGroup(e,n,s,a){let u=new Ze((v,w)=>v-w);const h=this.overlays.getIterator();for(;h.hasNext();){const v=h.getNext().value;if(v.getKey().getCollectionGroup()===n&&v.largestBatchId>s){let w=u.get(v.largestBatchId);w===null&&(w=Fi(),u=u.insert(v.largestBatchId,w)),w.set(v.getKey(),v)}}const m=Fi(),g=u.getIterator();for(;g.hasNext()&&(g.getNext().value.forEach((v,w)=>m.set(v,w)),!(m.size()>=a)););return H.resolve(m)}Tt(e,n,s){const a=this.overlays.get(s.key);if(a!==null){const h=this.Er.get(a.largestBatchId).delete(s.key);this.Er.set(a.largestBatchId,h)}this.overlays=this.overlays.insert(s.key,new n1(n,s));let u=this.Er.get(n);u===void 0&&(u=Ce(),this.Er.set(n,u)),this.Er.set(n,u.add(s.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b1{constructor(){this.sessionToken=Pt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class md{constructor(){this.dr=new mt(wt.Ar),this.Rr=new mt(wt.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,n){const s=new wt(e,n);this.dr=this.dr.add(s),this.Rr=this.Rr.add(s)}mr(e,n){e.forEach(s=>this.addReference(s,n))}removeReference(e,n){this.gr(new wt(e,n))}pr(e,n){e.forEach(s=>this.removeReference(s,n))}yr(e){const n=new ye(new Ge([])),s=new wt(n,e),a=new wt(n,e+1),u=[];return this.Rr.forEachInRange([s,a],h=>{this.gr(h),u.push(h.key)}),u}wr(){this.dr.forEach(e=>this.gr(e))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const n=new ye(new Ge([])),s=new wt(n,e),a=new wt(n,e+1);let u=Ce();return this.Rr.forEachInRange([s,a],h=>{u=u.add(h.key)}),u}containsKey(e){const n=new wt(e,0),s=this.dr.firstAfterOrEqual(n);return s!==null&&e.isEqual(s.key)}}class wt{constructor(e,n){this.key=e,this.br=n}static Ar(e,n){return ye.comparator(e.key,n.key)||ke(e.br,n.br)}static Vr(e,n){return ke(e.br,n.br)||ye.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U1{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Dr=1,this.vr=new mt(wt.Ar)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,s,a){const u=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const h=new t1(u,n,s,a);this.mutationQueue.push(h);for(const m of a)this.vr=this.vr.add(new wt(m.key,u)),this.indexManager.addToCollectionParentIndex(e,m.key.path.popLast());return H.resolve(h)}lookupMutationBatch(e,n){return H.resolve(this.Cr(n))}getNextMutationBatchAfterBatchId(e,n){const s=n+1,a=this.Fr(s),u=a<0?0:a;return H.resolve(this.mutationQueue.length>u?this.mutationQueue[u]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?-1:this.Dr-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const s=new wt(n,0),a=new wt(n,Number.POSITIVE_INFINITY),u=[];return this.vr.forEachInRange([s,a],h=>{const m=this.Cr(h.br);u.push(m)}),H.resolve(u)}getAllMutationBatchesAffectingDocumentKeys(e,n){let s=new mt(ke);return n.forEach(a=>{const u=new wt(a,0),h=new wt(a,Number.POSITIVE_INFINITY);this.vr.forEachInRange([u,h],m=>{s=s.add(m.br)})}),H.resolve(this.Mr(s))}getAllMutationBatchesAffectingQuery(e,n){const s=n.path,a=s.length+1;let u=s;ye.isDocumentKey(u)||(u=u.child(""));const h=new wt(new ye(u),0);let m=new mt(ke);return this.vr.forEachWhile(g=>{const v=g.key.path;return!!s.isPrefixOf(v)&&(v.length===a&&(m=m.add(g.br)),!0)},h),H.resolve(this.Mr(m))}Mr(e){const n=[];return e.forEach(s=>{const a=this.Cr(s);a!==null&&n.push(a)}),n}removeMutationBatch(e,n){be(this.Or(n.batchId,"removed")===0),this.mutationQueue.shift();let s=this.vr;return H.forEach(n.mutations,a=>{const u=new wt(a.key,n.batchId);return s=s.delete(u),this.referenceDelegate.markPotentiallyOrphaned(e,a.key)}).next(()=>{this.vr=s})}Ln(e){}containsKey(e,n){const s=new wt(n,0),a=this.vr.firstAfterOrEqual(s);return H.resolve(n.isEqual(a&&a.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}Or(e,n){return this.Fr(e)}Fr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Cr(e){const n=this.Fr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z1{constructor(e){this.Nr=e,this.docs=function(){return new Ze(ye.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const s=n.key,a=this.docs.get(s),u=a?a.size:0,h=this.Nr(n);return this.docs=this.docs.insert(s,{document:n.mutableCopy(),size:h}),this.size+=h-u,this.indexManager.addToCollectionParentIndex(e,s.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const s=this.docs.get(n);return H.resolve(s?s.document.mutableCopy():Ft.newInvalidDocument(n))}getEntries(e,n){let s=wr();return n.forEach(a=>{const u=this.docs.get(a);s=s.insert(a,u?u.document.mutableCopy():Ft.newInvalidDocument(a))}),H.resolve(s)}getDocumentsMatchingQuery(e,n,s,a){let u=wr();const h=n.path,m=new ye(h.child("")),g=this.docs.getIteratorFrom(m);for(;g.hasNext();){const{key:v,value:{document:w}}=g.getNext();if(!h.isPrefixOf(v.path))break;v.path.length>h.length+1||gw(mw(w),s)<=0||(a.has(w.key)||Su(n,w))&&(u=u.insert(w.key,w.mutableCopy()))}return H.resolve(u)}getAllFromCollectionGroup(e,n,s,a){we()}Lr(e,n){return H.forEach(this.docs,s=>n(s))}newChangeBuffer(e){return new j1(this)}getSize(e){return H.resolve(this.size)}}class j1 extends D1{constructor(e){super(),this.hr=e}applyChanges(e){const n=[];return this.changes.forEach((s,a)=>{a.isValidDocument()?n.push(this.hr.addEntry(e,a)):this.hr.removeEntry(s)}),H.waitFor(n)}getFromCache(e,n){return this.hr.getEntry(e,n)}getAllFromCache(e,n){return this.hr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class B1{constructor(e){this.persistence=e,this.Br=new zi(n=>ad(n),ld),this.lastRemoteSnapshotVersion=Te.min(),this.highestTargetId=0,this.kr=0,this.qr=new md,this.targetCount=0,this.Qr=Hs.qn()}forEachTarget(e,n){return this.Br.forEach((s,a)=>n(a)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,s){return s&&(this.lastRemoteSnapshotVersion=s),n>this.kr&&(this.kr=n),H.resolve()}Un(e){this.Br.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.Qr=new Hs(n),this.highestTargetId=n),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,n){return this.Un(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.Un(n),H.resolve()}removeTargetData(e,n){return this.Br.delete(n.target),this.qr.yr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,s){let a=0;const u=[];return this.Br.forEach((h,m)=>{m.sequenceNumber<=n&&s.get(m.targetId)===null&&(this.Br.delete(h),u.push(this.removeMatchingKeysForTargetId(e,m.targetId)),a++)}),H.waitFor(u).next(()=>a)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const s=this.Br.get(n)||null;return H.resolve(s)}addMatchingKeys(e,n,s){return this.qr.mr(n,s),H.resolve()}removeMatchingKeys(e,n,s){this.qr.pr(n,s);const a=this.persistence.referenceDelegate,u=[];return a&&n.forEach(h=>{u.push(a.markPotentiallyOrphaned(e,h))}),H.waitFor(u)}removeMatchingKeysForTargetId(e,n){return this.qr.yr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const s=this.qr.Sr(n);return H.resolve(s)}containsKey(e,n){return H.resolve(this.qr.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ly{constructor(e,n){this.Kr={},this.overlays={},this.$r=new vu(0),this.Ur=!1,this.Ur=!0,this.Wr=new b1,this.referenceDelegate=e(this),this.Gr=new B1(this),this.indexManager=new C1,this.remoteDocumentCache=function(a){return new z1(a)}(s=>this.referenceDelegate.zr(s)),this.serializer=new R1(n),this.jr=new M1(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new F1,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let s=this.Kr[e.toKey()];return s||(s=new U1(n,this.referenceDelegate),this.Kr[e.toKey()]=s),s}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,n,s){ae("MemoryPersistence","Starting transaction:",e);const a=new $1(this.$r.next());return this.referenceDelegate.Hr(),s(a).next(u=>this.referenceDelegate.Jr(a).next(()=>u)).toPromise().then(u=>(a.raiseOnCommittedEvent(),u))}Yr(e,n){return H.or(Object.values(this.Kr).map(s=>()=>s.containsKey(e,n)))}}class $1 extends vw{constructor(e){super(),this.currentSequenceNumber=e}}class gd{constructor(e){this.persistence=e,this.Zr=new md,this.Xr=null}static ei(e){return new gd(e)}get ti(){if(this.Xr)return this.Xr;throw we()}addReference(e,n,s){return this.Zr.addReference(s,n),this.ti.delete(s.toString()),H.resolve()}removeReference(e,n,s){return this.Zr.removeReference(s,n),this.ti.add(s.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.ti.add(n.toString()),H.resolve()}removeTarget(e,n){this.Zr.yr(n.targetId).forEach(a=>this.ti.add(a.toString()));const s=this.persistence.getTargetCache();return s.getMatchingKeysForTargetId(e,n.targetId).next(a=>{a.forEach(u=>this.ti.add(u.toString()))}).next(()=>s.removeTargetData(e,n))}Hr(){this.Xr=new Set}Jr(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.ti,s=>{const a=ye.fromPath(s);return this.ni(e,a).next(u=>{u||n.removeEntry(a,Te.min())})}).next(()=>(this.Xr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ni(e,n).next(s=>{s?this.ti.delete(n.toString()):this.ti.add(n.toString())})}zr(e){return 0}ni(e,n){return H.or([()=>H.resolve(this.Zr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Yr(e,n)])}}class hu{constructor(e,n){this.persistence=e,this.ri=new zi(s=>ww(s.path),(s,a)=>s.isEqual(a)),this.garbageCollector=N1(this,n)}static ei(e,n){return new hu(e,n)}Hr(){}Jr(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}Xn(e){const n=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next(s=>n.next(a=>s+a))}nr(e){let n=0;return this.er(e,s=>{n++}).next(()=>n)}er(e,n){return H.forEach(this.ri,(s,a)=>this.ir(e,s,a).next(u=>u?H.resolve():n(a)))}removeTargets(e,n,s){return this.persistence.getTargetCache().removeTargets(e,n,s)}removeOrphanedDocuments(e,n){let s=0;const a=this.persistence.getRemoteDocumentCache(),u=a.newChangeBuffer();return a.Lr(e,h=>this.ir(e,h,n).next(m=>{m||(s++,u.removeEntry(h,Te.min()))})).next(()=>u.apply(e)).next(()=>s)}markPotentiallyOrphaned(e,n){return this.ri.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const s=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,s)}addReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),H.resolve()}removeReference(e,n,s){return this.ri.set(s,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.ri.set(n,e.currentSequenceNumber),H.resolve()}zr(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xl(e.data.value)),n}ir(e,n,s){return H.or([()=>this.persistence.Yr(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const a=this.ri.get(n);return H.resolve(a!==void 0&&a>s)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yd{constructor(e,n,s,a){this.targetId=e,this.fromCache=n,this.Wi=s,this.Gi=a}static zi(e,n){let s=Ce(),a=Ce();for(const u of n.docChanges)switch(u.type){case 0:s=s.add(u.doc.key);break;case 1:a=a.add(u.doc.key)}return new yd(e,n.fromCache,s,a)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class q1{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H1{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=function(){return $0()?8:_w(j0())>0?6:4}()}initialize(e,n){this.Zi=e,this.indexManager=n,this.ji=!0}getDocumentsMatchingQuery(e,n,s,a){const u={result:null};return this.Xi(e,n).next(h=>{u.result=h}).next(()=>{if(!u.result)return this.es(e,n,a,s).next(h=>{u.result=h})}).next(()=>{if(u.result)return;const h=new q1;return this.ts(e,n,h).next(m=>{if(u.result=m,this.Hi)return this.ns(e,n,h,m.size)})}).next(()=>u.result)}ns(e,n,s,a){return s.documentReadCount<this.Ji?(Os()<=De.DEBUG&&ae("QueryEngine","SDK will not create cache indexes for query:",Ms(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),H.resolve()):(Os()<=De.DEBUG&&ae("QueryEngine","Query:",Ms(n),"scans",s.documentReadCount,"local documents and returns",a,"documents as results."),s.documentReadCount>this.Yi*a?(Os()<=De.DEBUG&&ae("QueryEngine","The SDK decides to create cache indexes for query:",Ms(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Kn(n))):H.resolve())}Xi(e,n){if(Rm(n))return H.resolve(null);let s=Kn(n);return this.indexManager.getIndexType(e,s).next(a=>a===0?null:(n.limit!==null&&a===1&&(n=Fh(n,null,"F"),s=Kn(n)),this.indexManager.getDocumentsMatchingTarget(e,s).next(u=>{const h=Ce(...u);return this.Zi.getDocuments(e,h).next(m=>this.indexManager.getMinOffset(e,s).next(g=>{const v=this.rs(n,m);return this.ss(n,v,h,g.readTime)?this.Xi(e,Fh(n,null,"F")):this.os(e,v,n,g)}))})))}es(e,n,s,a){return Rm(n)||a.isEqual(Te.min())?H.resolve(null):this.Zi.getDocuments(e,s).next(u=>{const h=this.rs(n,u);return this.ss(n,h,s,a)?H.resolve(null):(Os()<=De.DEBUG&&ae("QueryEngine","Re-using previous result from %s to execute query: %s",a.toString(),Ms(n)),this.os(e,h,n,pw(a,-1)).next(m=>m))})}rs(e,n){let s=new mt(jg(e));return n.forEach((a,u)=>{Su(e,u)&&(s=s.add(u))}),s}ss(e,n,s,a){if(e.limit===null)return!1;if(s.size!==n.size)return!0;const u=e.limitType==="F"?n.last():n.first();return!!u&&(u.hasPendingWrites||u.version.compareTo(a)>0)}ts(e,n,s){return Os()<=De.DEBUG&&ae("QueryEngine","Using full collection scan to execute query:",Ms(n)),this.Zi.getDocumentsMatchingQuery(e,n,ei.min(),s)}os(e,n,s,a){return this.Zi.getDocumentsMatchingQuery(e,s,a).next(u=>(n.forEach(h=>{u=u.insert(h.key,h)}),u))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W1{constructor(e,n,s,a){this.persistence=e,this._s=n,this.serializer=a,this.us=new Ze(ke),this.cs=new zi(u=>ad(u),ld),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(s)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new O1(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.us))}}function Q1(i,e,n,s){return new W1(i,e,n,s)}async function uy(i,e){const n=Se(i);return await n.persistence.runTransaction("Handle user change","readonly",s=>{let a;return n.mutationQueue.getAllMutationBatches(s).next(u=>(a=u,n.Ps(e),n.mutationQueue.getAllMutationBatches(s))).next(u=>{const h=[],m=[];let g=Ce();for(const v of a){h.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}for(const v of u){m.push(v.batchId);for(const w of v.mutations)g=g.add(w.key)}return n.localDocuments.getDocuments(s,g).next(v=>({Ts:v,removedBatchIds:h,addedBatchIds:m}))})})}function K1(i,e){const n=Se(i);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",s=>{const a=e.batch.keys(),u=n.hs.newChangeBuffer({trackRemovals:!0});return function(m,g,v,w){const R=v.batch,I=R.keys();let D=H.resolve();return I.forEach(F=>{D=D.next(()=>w.getEntry(g,F)).next($=>{const z=v.docVersions.get(F);be(z!==null),$.version.compareTo(z)<0&&(R.applyToRemoteDocument($,v),$.isValidDocument()&&($.setReadTime(v.commitVersion),w.addEntry($)))})}),D.next(()=>m.mutationQueue.removeMutationBatch(g,R))}(n,s,e,u).next(()=>u.apply(s)).next(()=>n.mutationQueue.performConsistencyCheck(s)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(s,a,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(s,function(m){let g=Ce();for(let v=0;v<m.mutationResults.length;++v)m.mutationResults[v].transformResults.length>0&&(g=g.add(m.batch.mutations[v].key));return g}(e))).next(()=>n.localDocuments.getDocuments(s,a))})}function cy(i){const e=Se(i);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Gr.getLastRemoteSnapshotVersion(n))}function G1(i,e){const n=Se(i),s=e.snapshotVersion;let a=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",u=>{const h=n.hs.newChangeBuffer({trackRemovals:!0});a=n.us;const m=[];e.targetChanges.forEach((w,R)=>{const I=a.get(R);if(!I)return;m.push(n.Gr.removeMatchingKeys(u,w.removedDocuments,R).next(()=>n.Gr.addMatchingKeys(u,w.addedDocuments,R)));let D=I.withSequenceNumber(u.currentSequenceNumber);e.targetMismatches.get(R)!==null?D=D.withResumeToken(Pt.EMPTY_BYTE_STRING,Te.min()).withLastLimboFreeSnapshotVersion(Te.min()):w.resumeToken.approximateByteSize()>0&&(D=D.withResumeToken(w.resumeToken,s)),a=a.insert(R,D),function($,z,Q){return $.resumeToken.approximateByteSize()===0||z.snapshotVersion.toMicroseconds()-$.snapshotVersion.toMicroseconds()>=3e8?!0:Q.addedDocuments.size+Q.modifiedDocuments.size+Q.removedDocuments.size>0}(I,D,w)&&m.push(n.Gr.updateTargetData(u,D))});let g=wr(),v=Ce();if(e.documentUpdates.forEach(w=>{e.resolvedLimboDocuments.has(w)&&m.push(n.persistence.referenceDelegate.updateLimboDocument(u,w))}),m.push(X1(u,h,e.documentUpdates).next(w=>{g=w.Is,v=w.Es})),!s.isEqual(Te.min())){const w=n.Gr.getLastRemoteSnapshotVersion(u).next(R=>n.Gr.setTargetsMetadata(u,u.currentSequenceNumber,s));m.push(w)}return H.waitFor(m).next(()=>h.apply(u)).next(()=>n.localDocuments.getLocalViewOfDocuments(u,g,v)).next(()=>g)}).then(u=>(n.us=a,u))}function X1(i,e,n){let s=Ce(),a=Ce();return n.forEach(u=>s=s.add(u)),e.getEntries(i,s).next(u=>{let h=wr();return n.forEach((m,g)=>{const v=u.get(m);g.isFoundDocument()!==v.isFoundDocument()&&(a=a.add(m)),g.isNoDocument()&&g.version.isEqual(Te.min())?(e.removeEntry(m,g.readTime),h=h.insert(m,g)):!v.isValidDocument()||g.version.compareTo(v.version)>0||g.version.compareTo(v.version)===0&&v.hasPendingWrites?(e.addEntry(g),h=h.insert(m,g)):ae("LocalStore","Ignoring outdated watch update for ",m,". Current version:",v.version," Watch version:",g.version)}),{Is:h,Es:a}})}function Y1(i,e){const n=Se(i);return n.persistence.runTransaction("Get next mutation batch","readonly",s=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(s,e)))}function J1(i,e){const n=Se(i);return n.persistence.runTransaction("Allocate target","readwrite",s=>{let a;return n.Gr.getTargetData(s,e).next(u=>u?(a=u,H.resolve(a)):n.Gr.allocateTargetId(s).next(h=>(a=new Kr(e,h,"TargetPurposeListen",s.currentSequenceNumber),n.Gr.addTargetData(s,a).next(()=>a))))}).then(s=>{const a=n.us.get(s.targetId);return(a===null||s.snapshotVersion.compareTo(a.snapshotVersion)>0)&&(n.us=n.us.insert(s.targetId,s),n.cs.set(e,s.targetId)),s})}async function Bh(i,e,n){const s=Se(i),a=s.us.get(e),u=n?"readwrite":"readwrite-primary";try{n||await s.persistence.runTransaction("Release target",u,h=>s.persistence.referenceDelegate.removeTarget(h,a))}catch(h){if(!eo(h))throw h;ae("LocalStore",`Failed to update sequence numbers for target ${e}: ${h}`)}s.us=s.us.remove(e),s.cs.delete(a.target)}function Fm(i,e,n){const s=Se(i);let a=Te.min(),u=Ce();return s.persistence.runTransaction("Execute query","readwrite",h=>function(g,v,w){const R=Se(g),I=R.cs.get(w);return I!==void 0?H.resolve(R.us.get(I)):R.Gr.getTargetData(v,w)}(s,h,Kn(e)).next(m=>{if(m)return a=m.lastLimboFreeSnapshotVersion,s.Gr.getMatchingKeysForTargetId(h,m.targetId).next(g=>{u=g})}).next(()=>s._s.getDocumentsMatchingQuery(h,e,n?a:Te.min(),n?u:Ce())).next(m=>(Z1(s,zw(e),m),{documents:m,ds:u})))}function Z1(i,e,n){let s=i.ls.get(e)||Te.min();n.forEach((a,u)=>{u.readTime.compareTo(s)>0&&(s=u.readTime)}),i.ls.set(e,s)}class bm{constructor(){this.activeTargetIds=Ww()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class eT{constructor(){this._o=new bm,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,s){}addLocalQueryTarget(e,n=!0){return n&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,n,s){this.ao[e]=n}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new bm,Promise.resolve()}handleUserChange(e,n,s){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tT{uo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Um{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){ae("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){ae("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Hl=null;function Eh(){return Hl===null?Hl=function(){return 268435456+Math.round(2147483648*Math.random())}():Hl++,"0x"+Hl.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nT={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class rT{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ot="WebChannelConnection";class iT extends class{get Co(){return!1}constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;const s=n.ssl?"https":"http",a=encodeURIComponent(this.databaseId.projectId),u=encodeURIComponent(this.databaseId.database);this.Fo=s+"://"+n.host,this.Mo=`projects/${a}/databases/${u}`,this.xo=this.databaseId.database==="(default)"?`project_id=${a}`:`project_id=${a}&database_id=${u}`}Oo(n,s,a,u,h){const m=Eh(),g=this.No(n,s.toUriEncodedString());ae("RestConnection",`Sending RPC '${n}' ${m}:`,g,a);const v={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(v,u,h),this.Bo(n,g,v,a).then(w=>(ae("RestConnection",`Received RPC '${n}' ${m}: `,w),w),w=>{throw js("RestConnection",`RPC '${n}' ${m} failed with error: `,w,"url: ",g,"request:",a),w})}ko(n,s,a,u,h,m){return this.Oo(n,s,a,u,h)}Lo(n,s,a){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Js}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),s&&s.headers.forEach((u,h)=>n[h]=u),a&&a.headers.forEach((u,h)=>n[h]=u)}No(n,s){const a=nT[n];return`${this.Fo}/v1/${s}:${a}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,n,s,a){const u=Eh();return new Promise((h,m)=>{const g=new Ig;g.setWithCredentials(!0),g.listenOnce(Rg.COMPLETE,()=>{try{switch(g.getLastErrorCode()){case Gl.NO_ERROR:const w=g.getResponseJson();ae(Ot,`XHR for RPC '${e}' ${u} received:`,JSON.stringify(w)),h(w);break;case Gl.TIMEOUT:ae(Ot,`RPC '${e}' ${u} timed out`),m(new de(X.DEADLINE_EXCEEDED,"Request time out"));break;case Gl.HTTP_ERROR:const R=g.getStatus();if(ae(Ot,`RPC '${e}' ${u} failed with status:`,R,"response text:",g.getResponseText()),R>0){let I=g.getResponseJson();Array.isArray(I)&&(I=I[0]);const D=I==null?void 0:I.error;if(D&&D.status&&D.message){const F=function(z){const Q=z.toLowerCase().replace(/_/g,"-");return Object.values(X).indexOf(Q)>=0?Q:X.UNKNOWN}(D.status);m(new de(F,D.message))}else m(new de(X.UNKNOWN,"Server responded with status "+g.getStatus()))}else m(new de(X.UNAVAILABLE,"Connection failed."));break;default:we()}}finally{ae(Ot,`RPC '${e}' ${u} completed.`)}});const v=JSON.stringify(a);ae(Ot,`RPC '${e}' ${u} sending request:`,a),g.send(n,"POST",v,s,15)})}qo(e,n,s){const a=Eh(),u=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],h=Pg(),m=Cg(),g={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},v=this.longPollingOptions.timeoutSeconds;v!==void 0&&(g.longPollingTimeout=Math.round(1e3*v)),this.useFetchStreams&&(g.useFetchStreams=!0),this.Lo(g.initMessageHeaders,n,s),g.encodeInitMessageHeaders=!0;const w=u.join("");ae(Ot,`Creating RPC '${e}' stream ${a}: ${w}`,g);const R=h.createWebChannel(w,g);let I=!1,D=!1;const F=new rT({Eo:z=>{D?ae(Ot,`Not sending because RPC '${e}' stream ${a} is closed:`,z):(I||(ae(Ot,`Opening RPC '${e}' stream ${a} transport.`),R.open(),I=!0),ae(Ot,`RPC '${e}' stream ${a} sending:`,z),R.send(z))},Ao:()=>R.close()}),$=(z,Q,Y)=>{z.listen(Q,ie=>{try{Y(ie)}catch(ee){setTimeout(()=>{throw ee},0)}})};return $(R,ea.EventType.OPEN,()=>{D||(ae(Ot,`RPC '${e}' stream ${a} transport opened.`),F.So())}),$(R,ea.EventType.CLOSE,()=>{D||(D=!0,ae(Ot,`RPC '${e}' stream ${a} transport closed`),F.Do())}),$(R,ea.EventType.ERROR,z=>{D||(D=!0,js(Ot,`RPC '${e}' stream ${a} transport errored:`,z),F.Do(new de(X.UNAVAILABLE,"The operation could not be completed")))}),$(R,ea.EventType.MESSAGE,z=>{var Q;if(!D){const Y=z.data[0];be(!!Y);const ie=Y,ee=(ie==null?void 0:ie.error)||((Q=ie[0])===null||Q===void 0?void 0:Q.error);if(ee){ae(Ot,`RPC '${e}' stream ${a} received error:`,ee);const ve=ee.status;let _e=function(A){const x=at[A];if(x!==void 0)return Jg(x)}(ve),k=ee.message;_e===void 0&&(_e=X.INTERNAL,k="Unknown error status: "+ve+" with message "+ee.message),D=!0,F.Do(new de(_e,k)),R.close()}else ae(Ot,`RPC '${e}' stream ${a} received:`,Y),F.vo(Y)}}),$(m,Ag.STAT_EVENT,z=>{z.stat===Nh.PROXY?ae(Ot,`RPC '${e}' stream ${a} detected buffering proxy`):z.stat===Nh.NOPROXY&&ae(Ot,`RPC '${e}' stream ${a} detected no buffering proxy`)}),setTimeout(()=>{F.bo()},0),F}}function wh(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Cu(i){return new h1(i,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hy{constructor(e,n,s=1e3,a=1.5,u=6e4){this.li=e,this.timerId=n,this.Qo=s,this.Ko=a,this.$o=u,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const n=Math.floor(this.Uo+this.Ho()),s=Math.max(0,Date.now()-this.Go),a=Math.max(0,n-s);a>0&&ae("ExponentialBackoff",`Backing off for ${a} ms (base delay: ${this.Uo} ms, delay with jitter: ${n} ms, last attempt: ${s} ms ago)`),this.Wo=this.li.enqueueAfterDelay(this.timerId,a,()=>(this.Go=Date.now(),e())),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){this.Wo!==null&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){this.Wo!==null&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dy{constructor(e,n,s,a,u,h,m,g){this.li=e,this.Yo=s,this.Zo=a,this.connection=u,this.authCredentialsProvider=h,this.appCheckCredentialsProvider=m,this.listener=g,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new hy(e,n)}i_(){return this.state===1||this.state===5||this.s_()}s_(){return this.state===2||this.state===3}start(){this.n_=0,this.state!==4?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&this.e_===null&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,()=>this.u_()))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,n){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,e!==4?this.r_.reset():n&&n.code===X.RESOURCE_EXHAUSTED?(Er(n.toString()),Er("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):n&&n.code===X.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(n)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),n=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([s,a])=>{this.Xo===n&&this.I_(s,a)},s=>{e(()=>{const a=new de(X.UNKNOWN,"Fetching auth token failed: "+s.message);return this.E_(a)})})}I_(e,n){const s=this.T_(this.Xo);this.stream=this.d_(e,n),this.stream.Ro(()=>{s(()=>this.listener.Ro())}),this.stream.mo(()=>{s(()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,()=>(this.s_()&&(this.state=3),Promise.resolve())),this.listener.mo()))}),this.stream.po(a=>{s(()=>this.E_(a))}),this.stream.onMessage(a=>{s(()=>++this.n_==1?this.A_(a):this.onNext(a))})}o_(){this.state=5,this.r_.jo(async()=>{this.state=0,this.start()})}E_(e){return ae("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}T_(e){return n=>{this.li.enqueueAndForget(()=>this.Xo===e?n():(ae("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class sT extends dy{constructor(e,n,s,a,u,h){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}d_(e,n){return this.connection.qo("Listen",e,n)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const n=p1(this.serializer,e),s=function(u){if(!("targetChange"in u))return Te.min();const h=u.targetChange;return h.targetIds&&h.targetIds.length?Te.min():h.readTime?Gn(h.readTime):Te.min()}(e);return this.listener.R_(n,s)}V_(e){const n={};n.database=jh(this.serializer),n.addTarget=function(u,h){let m;const g=h.target;if(m=Mh(g)?{documents:y1(u,g)}:{query:v1(u,g).ct},m.targetId=h.targetId,h.resumeToken.approximateByteSize()>0){m.resumeToken=ty(u,h.resumeToken);const v=bh(u,h.expectedCount);v!==null&&(m.expectedCount=v)}else if(h.snapshotVersion.compareTo(Te.min())>0){m.readTime=cu(u,h.snapshotVersion.toTimestamp());const v=bh(u,h.expectedCount);v!==null&&(m.expectedCount=v)}return m}(this.serializer,e);const s=E1(this.serializer,e);s&&(n.labels=s),this.c_(n)}m_(e){const n={};n.database=jh(this.serializer),n.removeTarget=e,this.c_(n)}}class oT extends dy{constructor(e,n,s,a,u,h){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,s,a,h),this.serializer=u}get f_(){return this.n_>0}start(){this.lastStreamToken=void 0,super.start()}P_(){this.f_&&this.g_([])}d_(e,n){return this.connection.qo("Write",e,n)}A_(e){return be(!!e.streamToken),this.lastStreamToken=e.streamToken,be(!e.writeResults||e.writeResults.length===0),this.listener.p_()}onNext(e){be(!!e.streamToken),this.lastStreamToken=e.streamToken,this.r_.reset();const n=g1(e.writeResults,e.commitTime),s=Gn(e.commitTime);return this.listener.y_(s,n)}w_(){const e={};e.database=jh(this.serializer),this.c_(e)}g_(e){const n={streamToken:this.lastStreamToken,writes:e.map(s=>m1(this.serializer,s))};this.c_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aT extends class{}{constructor(e,n,s,a){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=s,this.serializer=a,this.S_=!1}b_(){if(this.S_)throw new de(X.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,n,s,a){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([u,h])=>this.connection.Oo(e,Uh(n,s),a,u,h)).catch(u=>{throw u.name==="FirebaseError"?(u.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),u):new de(X.UNKNOWN,u.toString())})}ko(e,n,s,a,u){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([h,m])=>this.connection.ko(e,Uh(n,s),a,h,m,u)).catch(h=>{throw h.name==="FirebaseError"?(h.code===X.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),h):new de(X.UNKNOWN,h.toString())})}terminate(){this.S_=!0,this.connection.terminate()}}class lT{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){this.D_===0&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve())))}O_(e){this.state==="Online"?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.M_("Offline")))}set(e){this.N_(),this.D_=0,e==="Online"&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.C_?(Er(n),this.C_=!1):ae("OnlineStateTracker",n)}N_(){this.v_!==null&&(this.v_.cancel(),this.v_=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uT{constructor(e,n,s,a,u){this.localStore=e,this.datastore=n,this.asyncQueue=s,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=u,this.Q_.uo(h=>{s.enqueueAndForget(async()=>{ji(this)&&(ae("RemoteStore","Restarting streams for network reachability change."),await async function(g){const v=Se(g);v.k_.add(4),await Ta(v),v.K_.set("Unknown"),v.k_.delete(4),await Pu(v)}(this))})}),this.K_=new lT(s,a)}}async function Pu(i){if(ji(i))for(const e of i.q_)await e(!0)}async function Ta(i){for(const e of i.q_)await e(!1)}function fy(i,e){const n=Se(i);n.B_.has(e.targetId)||(n.B_.set(e.targetId,e),wd(n)?Ed(n):to(n).s_()&&_d(n,e))}function vd(i,e){const n=Se(i),s=to(n);n.B_.delete(e),s.s_()&&py(n,e),n.B_.size===0&&(s.s_()?s.a_():ji(n)&&n.K_.set("Unknown"))}function _d(i,e){if(i.U_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(Te.min())>0){const n=i.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}to(i).V_(e)}function py(i,e){i.U_.xe(e),to(i).m_(e)}function Ed(i){i.U_=new a1({getRemoteKeysForTarget:e=>i.remoteSyncer.getRemoteKeysForTarget(e),ut:e=>i.B_.get(e)||null,nt:()=>i.datastore.serializer.databaseId}),to(i).start(),i.K_.F_()}function wd(i){return ji(i)&&!to(i).i_()&&i.B_.size>0}function ji(i){return Se(i).k_.size===0}function my(i){i.U_=void 0}async function cT(i){i.K_.set("Online")}async function hT(i){i.B_.forEach((e,n)=>{_d(i,e)})}async function dT(i,e){my(i),wd(i)?(i.K_.O_(e),Ed(i)):i.K_.set("Unknown")}async function fT(i,e,n){if(i.K_.set("Online"),e instanceof ey&&e.state===2&&e.cause)try{await async function(a,u){const h=u.cause;for(const m of u.targetIds)a.B_.has(m)&&(await a.remoteSyncer.rejectListen(m,h),a.B_.delete(m),a.U_.removeTarget(m))}(i,e)}catch(s){ae("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),s),await du(i,s)}else if(e instanceof Zl?i.U_.$e(e):e instanceof Zg?i.U_.Je(e):i.U_.Ge(e),!n.isEqual(Te.min()))try{const s=await cy(i.localStore);n.compareTo(s)>=0&&await function(u,h){const m=u.U_.it(h);return m.targetChanges.forEach((g,v)=>{if(g.resumeToken.approximateByteSize()>0){const w=u.B_.get(v);w&&u.B_.set(v,w.withResumeToken(g.resumeToken,h))}}),m.targetMismatches.forEach((g,v)=>{const w=u.B_.get(g);if(!w)return;u.B_.set(g,w.withResumeToken(Pt.EMPTY_BYTE_STRING,w.snapshotVersion)),py(u,g);const R=new Kr(w.target,g,v,w.sequenceNumber);_d(u,R)}),u.remoteSyncer.applyRemoteEvent(m)}(i,n)}catch(s){ae("RemoteStore","Failed to raise snapshot:",s),await du(i,s)}}async function du(i,e,n){if(!eo(e))throw e;i.k_.add(1),await Ta(i),i.K_.set("Offline"),n||(n=()=>cy(i.localStore)),i.asyncQueue.enqueueRetryable(async()=>{ae("RemoteStore","Retrying IndexedDB access"),await n(),i.k_.delete(1),await Pu(i)})}function gy(i,e){return e().catch(n=>du(i,n,e))}async function ku(i){const e=Se(i),n=ii(e);let s=e.L_.length>0?e.L_[e.L_.length-1].batchId:-1;for(;pT(e);)try{const a=await Y1(e.localStore,s);if(a===null){e.L_.length===0&&n.a_();break}s=a.batchId,mT(e,a)}catch(a){await du(e,a)}yy(e)&&vy(e)}function pT(i){return ji(i)&&i.L_.length<10}function mT(i,e){i.L_.push(e);const n=ii(i);n.s_()&&n.f_&&n.g_(e.mutations)}function yy(i){return ji(i)&&!ii(i).i_()&&i.L_.length>0}function vy(i){ii(i).start()}async function gT(i){ii(i).w_()}async function yT(i){const e=ii(i);for(const n of i.L_)e.g_(n.mutations)}async function vT(i,e,n){const s=i.L_.shift(),a=dd.from(s,e,n);await gy(i,()=>i.remoteSyncer.applySuccessfulWrite(a)),await ku(i)}async function _T(i,e){e&&ii(i).f_&&await async function(s,a){if(function(h){return i1(h)&&h!==X.ABORTED}(a.code)){const u=s.L_.shift();ii(s).__(),await gy(s,()=>s.remoteSyncer.rejectFailedWrite(u.batchId,a)),await ku(s)}}(i,e),yy(i)&&vy(i)}async function zm(i,e){const n=Se(i);n.asyncQueue.verifyOperationInProgress(),ae("RemoteStore","RemoteStore received new credentials");const s=ji(n);n.k_.add(3),await Ta(n),s&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.k_.delete(3),await Pu(n)}async function ET(i,e){const n=Se(i);e?(n.k_.delete(2),await Pu(n)):e||(n.k_.add(2),await Ta(n),n.K_.set("Unknown"))}function to(i){return i.W_||(i.W_=function(n,s,a){const u=Se(n);return u.b_(),new sT(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Ro:cT.bind(null,i),mo:hT.bind(null,i),po:dT.bind(null,i),R_:fT.bind(null,i)}),i.q_.push(async e=>{e?(i.W_.__(),wd(i)?Ed(i):i.K_.set("Unknown")):(await i.W_.stop(),my(i))})),i.W_}function ii(i){return i.G_||(i.G_=function(n,s,a){const u=Se(n);return u.b_(),new oT(s,u.connection,u.authCredentials,u.appCheckCredentials,u.serializer,a)}(i.datastore,i.asyncQueue,{Ro:()=>Promise.resolve(),mo:gT.bind(null,i),po:_T.bind(null,i),p_:yT.bind(null,i),y_:vT.bind(null,i)}),i.q_.push(async e=>{e?(i.G_.__(),await ku(i)):(await i.G_.stop(),i.L_.length>0&&(ae("RemoteStore",`Stopping write stream with ${i.L_.length} pending writes`),i.L_=[]))})),i.G_}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Td{constructor(e,n,s,a,u){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=s,this.op=a,this.removalCallback=u,this.deferred=new vr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(h=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,s,a,u){const h=Date.now()+s,m=new Td(e,n,h,a,u);return m.start(s),m}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new de(X.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Sd(i,e){if(Er("AsyncQueue",`${e}: ${i}`),eo(i))return new de(X.UNAVAILABLE,`${e}: ${i}`);throw i}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zs{static emptySet(e){return new zs(e.comparator)}constructor(e){this.comparator=e?(n,s)=>e(n,s)||ye.comparator(n.key,s.key):(n,s)=>ye.comparator(n.key,s.key),this.keyedMap=ta(),this.sortedSet=new Ze(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,s)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof zs)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),s=e.sortedSet.getIterator();for(;n.hasNext();){const a=n.getNext().key,u=s.getNext().key;if(!a.isEqual(u))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const s=new zs;return s.comparator=this.comparator,s.keyedMap=e,s.sortedSet=n,s}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jm{constructor(){this.z_=new Ze(ye.comparator)}track(e){const n=e.doc.key,s=this.z_.get(n);s?e.type!==0&&s.type===3?this.z_=this.z_.insert(n,e):e.type===3&&s.type!==1?this.z_=this.z_.insert(n,{type:s.type,doc:e.doc}):e.type===2&&s.type===2?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):e.type===2&&s.type===0?this.z_=this.z_.insert(n,{type:0,doc:e.doc}):e.type===1&&s.type===0?this.z_=this.z_.remove(n):e.type===1&&s.type===2?this.z_=this.z_.insert(n,{type:1,doc:s.doc}):e.type===0&&s.type===1?this.z_=this.z_.insert(n,{type:2,doc:e.doc}):we():this.z_=this.z_.insert(n,e)}j_(){const e=[];return this.z_.inorderTraversal((n,s)=>{e.push(s)}),e}}class Ws{constructor(e,n,s,a,u,h,m,g,v){this.query=e,this.docs=n,this.oldDocs=s,this.docChanges=a,this.mutatedKeys=u,this.fromCache=h,this.syncStateChanged=m,this.excludesMetadataChanges=g,this.hasCachedResults=v}static fromInitialDocuments(e,n,s,a,u){const h=[];return n.forEach(m=>{h.push({type:0,doc:m})}),new Ws(e,n,zs.emptySet(n),h,s,a,!0,!1,u)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Tu(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,s=e.docChanges;if(n.length!==s.length)return!1;for(let a=0;a<n.length;a++)if(n[a].type!==s[a].type||!n[a].doc.isEqual(s[a].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wT{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some(e=>e.Z_())}}class TT{constructor(){this.queries=Bm(),this.onlineState="Unknown",this.X_=new Set}terminate(){(function(n,s){const a=Se(n),u=a.queries;a.queries=Bm(),u.forEach((h,m)=>{for(const g of m.J_)g.onError(s)})})(this,new de(X.ABORTED,"Firestore shutting down"))}}function Bm(){return new zi(i=>zg(i),Tu)}async function _y(i,e){const n=Se(i);let s=3;const a=e.query;let u=n.queries.get(a);u?!u.Y_()&&e.Z_()&&(s=2):(u=new wT,s=e.Z_()?0:1);try{switch(s){case 0:u.H_=await n.onListen(a,!0);break;case 1:u.H_=await n.onListen(a,!1);break;case 2:await n.onFirstRemoteStoreListen(a)}}catch(h){const m=Sd(h,`Initialization of query '${Ms(e.query)}' failed`);return void e.onError(m)}n.queries.set(a,u),u.J_.push(e),e.ea(n.onlineState),u.H_&&e.ta(u.H_)&&Id(n)}async function Ey(i,e){const n=Se(i),s=e.query;let a=3;const u=n.queries.get(s);if(u){const h=u.J_.indexOf(e);h>=0&&(u.J_.splice(h,1),u.J_.length===0?a=e.Z_()?0:1:!u.Y_()&&e.Z_()&&(a=2))}switch(a){case 0:return n.queries.delete(s),n.onUnlisten(s,!0);case 1:return n.queries.delete(s),n.onUnlisten(s,!1);case 2:return n.onLastRemoteStoreUnlisten(s);default:return}}function ST(i,e){const n=Se(i);let s=!1;for(const a of e){const u=a.query,h=n.queries.get(u);if(h){for(const m of h.J_)m.ta(a)&&(s=!0);h.H_=a}}s&&Id(n)}function IT(i,e,n){const s=Se(i),a=s.queries.get(e);if(a)for(const u of a.J_)u.onError(n);s.queries.delete(e)}function Id(i){i.X_.forEach(e=>{e.next()})}var $h,$m;($m=$h||($h={})).na="default",$m.Cache="cache";class wy{constructor(e,n,s){this.query=e,this.ra=n,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=s||{}}ta(e){if(!this.options.includeMetadataChanges){const s=[];for(const a of e.docChanges)a.type!==3&&s.push(a);e=new Ws(e.query,e.docs,e.oldDocs,s,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.ia?this.oa(e)&&(this.ra.next(e),n=!0):this._a(e,this.onlineState)&&(this.aa(e),n=!0),this.sa=e,n}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let n=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),n=!0),n}_a(e,n){if(!e.fromCache||!this.Z_())return!0;const s=n!=="Offline";return(!this.options.ua||!s)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}oa(e){if(e.docChanges.length>0)return!0;const n=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}aa(e){e=Ws.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==$h.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ty{constructor(e){this.key=e}}class Sy{constructor(e){this.key=e}}class RT{constructor(e,n){this.query=e,this.da=n,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Ce(),this.mutatedKeys=Ce(),this.Va=jg(e),this.ma=new zs(this.Va)}get fa(){return this.da}ga(e,n){const s=n?n.pa:new jm,a=n?n.ma:this.ma;let u=n?n.mutatedKeys:this.mutatedKeys,h=a,m=!1;const g=this.query.limitType==="F"&&a.size===this.query.limit?a.last():null,v=this.query.limitType==="L"&&a.size===this.query.limit?a.first():null;if(e.inorderTraversal((w,R)=>{const I=a.get(w),D=Su(this.query,R)?R:null,F=!!I&&this.mutatedKeys.has(I.key),$=!!D&&(D.hasLocalMutations||this.mutatedKeys.has(D.key)&&D.hasCommittedMutations);let z=!1;I&&D?I.data.isEqual(D.data)?F!==$&&(s.track({type:3,doc:D}),z=!0):this.ya(I,D)||(s.track({type:2,doc:D}),z=!0,(g&&this.Va(D,g)>0||v&&this.Va(D,v)<0)&&(m=!0)):!I&&D?(s.track({type:0,doc:D}),z=!0):I&&!D&&(s.track({type:1,doc:I}),z=!0,(g||v)&&(m=!0)),z&&(D?(h=h.add(D),u=$?u.add(w):u.delete(w)):(h=h.delete(w),u=u.delete(w)))}),this.query.limit!==null)for(;h.size>this.query.limit;){const w=this.query.limitType==="F"?h.last():h.first();h=h.delete(w.key),u=u.delete(w.key),s.track({type:1,doc:w})}return{ma:h,pa:s,ss:m,mutatedKeys:u}}ya(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,s,a){const u=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const h=e.pa.j_();h.sort((w,R)=>function(D,F){const $=z=>{switch(z){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return we()}};return $(D)-$(F)}(w.type,R.type)||this.Va(w.doc,R.doc)),this.wa(s),a=a!=null&&a;const m=n&&!a?this.Sa():[],g=this.Ra.size===0&&this.current&&!a?1:0,v=g!==this.Aa;return this.Aa=g,h.length!==0||v?{snapshot:new Ws(this.query,e.ma,u,h,e.mutatedKeys,g===0,v,!1,!!s&&s.resumeToken.approximateByteSize()>0),ba:m}:{ba:m}}ea(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({ma:this.ma,pa:new jm,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach(n=>this.da=this.da.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.da=this.da.delete(n)),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Ce(),this.ma.forEach(s=>{this.Da(s.key)&&(this.Ra=this.Ra.add(s.key))});const n=[];return e.forEach(s=>{this.Ra.has(s)||n.push(new Sy(s))}),this.Ra.forEach(s=>{e.has(s)||n.push(new Ty(s))}),n}va(e){this.da=e.ds,this.Ra=Ce();const n=this.ga(e.documents);return this.applyChanges(n,!0)}Ca(){return Ws.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,this.Aa===0,this.hasCachedResults)}}class AT{constructor(e,n,s){this.query=e,this.targetId=n,this.view=s}}class CT{constructor(e){this.key=e,this.Fa=!1}}class PT{constructor(e,n,s,a,u,h){this.localStore=e,this.remoteStore=n,this.eventManager=s,this.sharedClientState=a,this.currentUser=u,this.maxConcurrentLimboResolutions=h,this.Ma={},this.xa=new zi(m=>zg(m),Tu),this.Oa=new Map,this.Na=new Set,this.La=new Ze(ye.comparator),this.Ba=new Map,this.ka=new md,this.qa={},this.Qa=new Map,this.Ka=Hs.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return this.$a===!0}}async function kT(i,e,n=!0){const s=ky(i);let a;const u=s.xa.get(e);return u?(s.sharedClientState.addLocalQueryTarget(u.targetId),a=u.view.Ca()):a=await Iy(s,e,n,!0),a}async function xT(i,e){const n=ky(i);await Iy(n,e,!0,!1)}async function Iy(i,e,n,s){const a=await J1(i.localStore,Kn(e)),u=a.targetId,h=i.sharedClientState.addLocalQueryTarget(u,n);let m;return s&&(m=await VT(i,e,u,h==="current",a.resumeToken)),i.isPrimaryClient&&n&&fy(i.remoteStore,a),m}async function VT(i,e,n,s,a){i.Ua=(R,I,D)=>async function($,z,Q,Y){let ie=z.view.ga(Q);ie.ss&&(ie=await Fm($.localStore,z.query,!1).then(({documents:k})=>z.view.ga(k,ie)));const ee=Y&&Y.targetChanges.get(z.targetId),ve=Y&&Y.targetMismatches.get(z.targetId)!=null,_e=z.view.applyChanges(ie,$.isPrimaryClient,ee,ve);return Hm($,z.targetId,_e.ba),_e.snapshot}(i,R,I,D);const u=await Fm(i.localStore,e,!0),h=new RT(e,u.ds),m=h.ga(u.documents),g=wa.createSynthesizedTargetChangeForCurrentChange(n,s&&i.onlineState!=="Offline",a),v=h.applyChanges(m,i.isPrimaryClient,g);Hm(i,n,v.ba);const w=new AT(e,n,h);return i.xa.set(e,w),i.Oa.has(n)?i.Oa.get(n).push(e):i.Oa.set(n,[e]),v.snapshot}async function NT(i,e,n){const s=Se(i),a=s.xa.get(e),u=s.Oa.get(a.targetId);if(u.length>1)return s.Oa.set(a.targetId,u.filter(h=>!Tu(h,e))),void s.xa.delete(e);s.isPrimaryClient?(s.sharedClientState.removeLocalQueryTarget(a.targetId),s.sharedClientState.isActiveQueryTarget(a.targetId)||await Bh(s.localStore,a.targetId,!1).then(()=>{s.sharedClientState.clearQueryState(a.targetId),n&&vd(s.remoteStore,a.targetId),qh(s,a.targetId)}).catch(Zs)):(qh(s,a.targetId),await Bh(s.localStore,a.targetId,!0))}async function DT(i,e){const n=Se(i),s=n.xa.get(e),a=n.Oa.get(s.targetId);n.isPrimaryClient&&a.length===1&&(n.sharedClientState.removeLocalQueryTarget(s.targetId),vd(n.remoteStore,s.targetId))}async function LT(i,e,n){const s=jT(i);try{const a=await function(h,m){const g=Se(h),v=pt.now(),w=m.reduce((D,F)=>D.add(F.key),Ce());let R,I;return g.persistence.runTransaction("Locally write mutations","readwrite",D=>{let F=wr(),$=Ce();return g.hs.getEntries(D,w).next(z=>{F=z,F.forEach((Q,Y)=>{Y.isValidDocument()||($=$.add(Q))})}).next(()=>g.localDocuments.getOverlayedDocuments(D,F)).next(z=>{R=z;const Q=[];for(const Y of m){const ie=Zw(Y,R.get(Y.key).overlayedDocument);ie!=null&&Q.push(new oi(Y.key,ie,Dg(ie.value.mapValue),vn.exists(!0)))}return g.mutationQueue.addMutationBatch(D,v,Q,m)}).next(z=>{I=z;const Q=z.applyToLocalDocumentSet(R,$);return g.documentOverlayCache.saveOverlays(D,z.batchId,Q)})}).then(()=>({batchId:I.batchId,changes:$g(R)}))}(s.localStore,e);s.sharedClientState.addPendingMutation(a.batchId),function(h,m,g){let v=h.qa[h.currentUser.toKey()];v||(v=new Ze(ke)),v=v.insert(m,g),h.qa[h.currentUser.toKey()]=v}(s,a.batchId,n),await Sa(s,a.changes),await ku(s.remoteStore)}catch(a){const u=Sd(a,"Failed to persist write");n.reject(u)}}async function Ry(i,e){const n=Se(i);try{const s=await G1(n.localStore,e);e.targetChanges.forEach((a,u)=>{const h=n.Ba.get(u);h&&(be(a.addedDocuments.size+a.modifiedDocuments.size+a.removedDocuments.size<=1),a.addedDocuments.size>0?h.Fa=!0:a.modifiedDocuments.size>0?be(h.Fa):a.removedDocuments.size>0&&(be(h.Fa),h.Fa=!1))}),await Sa(n,s,e)}catch(s){await Zs(s)}}function qm(i,e,n){const s=Se(i);if(s.isPrimaryClient&&n===0||!s.isPrimaryClient&&n===1){const a=[];s.xa.forEach((u,h)=>{const m=h.view.ea(e);m.snapshot&&a.push(m.snapshot)}),function(h,m){const g=Se(h);g.onlineState=m;let v=!1;g.queries.forEach((w,R)=>{for(const I of R.J_)I.ea(m)&&(v=!0)}),v&&Id(g)}(s.eventManager,e),a.length&&s.Ma.R_(a),s.onlineState=e,s.isPrimaryClient&&s.sharedClientState.setOnlineState(e)}}async function OT(i,e,n){const s=Se(i);s.sharedClientState.updateQueryState(e,"rejected",n);const a=s.Ba.get(e),u=a&&a.key;if(u){let h=new Ze(ye.comparator);h=h.insert(u,Ft.newNoDocument(u,Te.min()));const m=Ce().add(u),g=new Au(Te.min(),new Map,new Ze(ke),h,m);await Ry(s,g),s.La=s.La.remove(u),s.Ba.delete(e),Rd(s)}else await Bh(s.localStore,e,!1).then(()=>qh(s,e,n)).catch(Zs)}async function MT(i,e){const n=Se(i),s=e.batch.batchId;try{const a=await K1(n.localStore,e);Cy(n,s,null),Ay(n,s),n.sharedClientState.updateMutationState(s,"acknowledged"),await Sa(n,a)}catch(a){await Zs(a)}}async function FT(i,e,n){const s=Se(i);try{const a=await function(h,m){const g=Se(h);return g.persistence.runTransaction("Reject batch","readwrite-primary",v=>{let w;return g.mutationQueue.lookupMutationBatch(v,m).next(R=>(be(R!==null),w=R.keys(),g.mutationQueue.removeMutationBatch(v,R))).next(()=>g.mutationQueue.performConsistencyCheck(v)).next(()=>g.documentOverlayCache.removeOverlaysForBatchId(v,w,m)).next(()=>g.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(v,w)).next(()=>g.localDocuments.getDocuments(v,w))})}(s.localStore,e);Cy(s,e,n),Ay(s,e),s.sharedClientState.updateMutationState(e,"rejected",n),await Sa(s,a)}catch(a){await Zs(a)}}function Ay(i,e){(i.Qa.get(e)||[]).forEach(n=>{n.resolve()}),i.Qa.delete(e)}function Cy(i,e,n){const s=Se(i);let a=s.qa[s.currentUser.toKey()];if(a){const u=a.get(e);u&&(n?u.reject(n):u.resolve(),a=a.remove(e)),s.qa[s.currentUser.toKey()]=a}}function qh(i,e,n=null){i.sharedClientState.removeLocalQueryTarget(e);for(const s of i.Oa.get(e))i.xa.delete(s),n&&i.Ma.Wa(s,n);i.Oa.delete(e),i.isPrimaryClient&&i.ka.yr(e).forEach(s=>{i.ka.containsKey(s)||Py(i,s)})}function Py(i,e){i.Na.delete(e.path.canonicalString());const n=i.La.get(e);n!==null&&(vd(i.remoteStore,n),i.La=i.La.remove(e),i.Ba.delete(n),Rd(i))}function Hm(i,e,n){for(const s of n)s instanceof Ty?(i.ka.addReference(s.key,e),bT(i,s)):s instanceof Sy?(ae("SyncEngine","Document no longer in limbo: "+s.key),i.ka.removeReference(s.key,e),i.ka.containsKey(s.key)||Py(i,s.key)):we()}function bT(i,e){const n=e.key,s=n.path.canonicalString();i.La.get(n)||i.Na.has(s)||(ae("SyncEngine","New document in limbo: "+n),i.Na.add(s),Rd(i))}function Rd(i){for(;i.Na.size>0&&i.La.size<i.maxConcurrentLimboResolutions;){const e=i.Na.values().next().value;i.Na.delete(e);const n=new ye(Ge.fromString(e)),s=i.Ka.next();i.Ba.set(s,new CT(n)),i.La=i.La.insert(n,s),fy(i.remoteStore,new Kr(Kn(ud(n.path)),s,"TargetPurposeLimboResolution",vu.oe))}}async function Sa(i,e,n){const s=Se(i),a=[],u=[],h=[];s.xa.isEmpty()||(s.xa.forEach((m,g)=>{h.push(s.Ua(g,e,n).then(v=>{var w;if((v||n)&&s.isPrimaryClient){const R=v?!v.fromCache:(w=n==null?void 0:n.targetChanges.get(g.targetId))===null||w===void 0?void 0:w.current;s.sharedClientState.updateQueryState(g.targetId,R?"current":"not-current")}if(v){a.push(v);const R=yd.zi(g.targetId,v);u.push(R)}}))}),await Promise.all(h),s.Ma.R_(a),await async function(g,v){const w=Se(g);try{await w.persistence.runTransaction("notifyLocalViewChanges","readwrite",R=>H.forEach(v,I=>H.forEach(I.Wi,D=>w.persistence.referenceDelegate.addReference(R,I.targetId,D)).next(()=>H.forEach(I.Gi,D=>w.persistence.referenceDelegate.removeReference(R,I.targetId,D)))))}catch(R){if(!eo(R))throw R;ae("LocalStore","Failed to update sequence numbers: "+R)}for(const R of v){const I=R.targetId;if(!R.fromCache){const D=w.us.get(I),F=D.snapshotVersion,$=D.withLastLimboFreeSnapshotVersion(F);w.us=w.us.insert(I,$)}}}(s.localStore,u))}async function UT(i,e){const n=Se(i);if(!n.currentUser.isEqual(e)){ae("SyncEngine","User change. New user:",e.toKey());const s=await uy(n.localStore,e);n.currentUser=e,function(u,h){u.Qa.forEach(m=>{m.forEach(g=>{g.reject(new de(X.CANCELLED,h))})}),u.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,s.removedBatchIds,s.addedBatchIds),await Sa(n,s.Ts)}}function zT(i,e){const n=Se(i),s=n.Ba.get(e);if(s&&s.Fa)return Ce().add(s.key);{let a=Ce();const u=n.Oa.get(e);if(!u)return a;for(const h of u){const m=n.xa.get(h);a=a.unionWith(m.view.fa)}return a}}function ky(i){const e=Se(i);return e.remoteStore.remoteSyncer.applyRemoteEvent=Ry.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=zT.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=OT.bind(null,e),e.Ma.R_=ST.bind(null,e.eventManager),e.Ma.Wa=IT.bind(null,e.eventManager),e}function jT(i){const e=Se(i);return e.remoteStore.remoteSyncer.applySuccessfulWrite=MT.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=FT.bind(null,e),e}class fu{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=Cu(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,n){return null}Ya(e,n){return null}Ha(e){return Q1(this.persistence,new H1,e.initialUser,this.serializer)}ja(e){return new ly(gd.ei,this.serializer)}za(e){return new eT}async terminate(){var e,n;(e=this.gcScheduler)===null||e===void 0||e.stop(),(n=this.indexBackfillerScheduler)===null||n===void 0||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}fu.provider={build:()=>new fu};class BT extends fu{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,n){be(this.persistence.referenceDelegate instanceof hu);const s=this.persistence.referenceDelegate.garbageCollector;return new x1(s,e.asyncQueue,n)}ja(e){const n=this.cacheSizeBytes!==void 0?Xt.withCacheSize(this.cacheSizeBytes):Xt.DEFAULT;return new ly(s=>hu.ei(s,n),this.serializer)}}class Hh{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=s=>qm(this.syncEngine,s,1),this.remoteStore.remoteSyncer.handleCredentialChange=UT.bind(null,this.syncEngine),await ET(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new TT}()}createDatastore(e){const n=Cu(e.databaseInfo.databaseId),s=function(u){return new iT(u)}(e.databaseInfo);return function(u,h,m,g){return new aT(u,h,m,g)}(e.authCredentials,e.appCheckCredentials,s,n)}createRemoteStore(e){return function(s,a,u,h,m){return new uT(s,a,u,h,m)}(this.localStore,this.datastore,e.asyncQueue,n=>qm(this.syncEngine,n,0),function(){return Um.p()?new Um:new tT}())}createSyncEngine(e,n){return function(a,u,h,m,g,v,w){const R=new PT(a,u,h,m,g,v);return w&&(R.$a=!0),R}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(a){const u=Se(a);ae("RemoteStore","RemoteStore shutting down."),u.k_.add(5),await Ta(u),u.Q_.shutdown(),u.K_.set("Unknown")}(this.remoteStore),(e=this.datastore)===null||e===void 0||e.terminate(),(n=this.eventManager)===null||n===void 0||n.terminate()}}Hh.provider={build:()=>new Hh};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xy{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):Er("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $T{constructor(e,n,s,a,u){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=s,this.databaseInfo=a,this.user=Mt.UNAUTHENTICATED,this.clientId=xg.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=u,this.authCredentials.start(s,async h=>{ae("FirestoreClient","Received user=",h.uid),await this.authCredentialListener(h),this.user=h}),this.appCheckCredentials.start(s,h=>(ae("FirestoreClient","Received new app check token=",h),this.appCheckCredentialListener(h,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const s=Sd(n,"Failed to shutdown persistence");e.reject(s)}}),e.promise}}async function Th(i,e){i.asyncQueue.verifyOperationInProgress(),ae("FirestoreClient","Initializing OfflineComponentProvider");const n=i.configuration;await e.initialize(n);let s=n.initialUser;i.setCredentialChangeListener(async a=>{s.isEqual(a)||(await uy(e.localStore,a),s=a)}),e.persistence.setDatabaseDeletedListener(()=>i.terminate()),i._offlineComponents=e}async function Wm(i,e){i.asyncQueue.verifyOperationInProgress();const n=await qT(i);ae("FirestoreClient","Initializing OnlineComponentProvider"),await e.initialize(n,i.configuration),i.setCredentialChangeListener(s=>zm(e.remoteStore,s)),i.setAppCheckTokenChangeListener((s,a)=>zm(e.remoteStore,a)),i._onlineComponents=e}async function qT(i){if(!i._offlineComponents)if(i._uninitializedComponentsProvider){ae("FirestoreClient","Using user provided OfflineComponentProvider");try{await Th(i,i._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(a){return a.name==="FirebaseError"?a.code===X.FAILED_PRECONDITION||a.code===X.UNIMPLEMENTED:!(typeof DOMException<"u"&&a instanceof DOMException)||a.code===22||a.code===20||a.code===11}(n))throw n;js("Error using user provided cache. Falling back to memory cache: "+n),await Th(i,new fu)}}else ae("FirestoreClient","Using default OfflineComponentProvider"),await Th(i,new BT(void 0));return i._offlineComponents}async function Vy(i){return i._onlineComponents||(i._uninitializedComponentsProvider?(ae("FirestoreClient","Using user provided OnlineComponentProvider"),await Wm(i,i._uninitializedComponentsProvider._online)):(ae("FirestoreClient","Using default OnlineComponentProvider"),await Wm(i,new Hh))),i._onlineComponents}function HT(i){return Vy(i).then(e=>e.syncEngine)}async function Ny(i){const e=await Vy(i),n=e.eventManager;return n.onListen=kT.bind(null,e.syncEngine),n.onUnlisten=NT.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=xT.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=DT.bind(null,e.syncEngine),n}function WT(i,e,n={}){const s=new vr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,v){const w=new xy({next:I=>{w.eu(),h.enqueueAndForget(()=>Ey(u,R));const D=I.docs.has(m);!D&&I.fromCache?v.reject(new de(X.UNAVAILABLE,"Failed to get document because the client is offline.")):D&&I.fromCache&&g&&g.source==="server"?v.reject(new de(X.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):v.resolve(I)},error:I=>v.reject(I)}),R=new wy(ud(m.path),w,{includeMetadataChanges:!0,ua:!0});return _y(u,R)}(await Ny(i),i.asyncQueue,e,n,s)),s.promise}function QT(i,e,n={}){const s=new vr;return i.asyncQueue.enqueueAndForget(async()=>function(u,h,m,g,v){const w=new xy({next:I=>{w.eu(),h.enqueueAndForget(()=>Ey(u,R)),I.fromCache&&g.source==="server"?v.reject(new de(X.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):v.resolve(I)},error:I=>v.reject(I)}),R=new wy(m,w,{includeMetadataChanges:!0,ua:!0});return _y(u,R)}(await Ny(i),i.asyncQueue,e,n,s)),s.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dy(i){const e={};return i.timeoutSeconds!==void 0&&(e.timeoutSeconds=i.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qm=new Map;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ly(i,e,n){if(!n)throw new de(X.INVALID_ARGUMENT,`Function ${i}() cannot be called with an empty ${e}.`)}function KT(i,e,n,s){if(e===!0&&s===!0)throw new de(X.INVALID_ARGUMENT,`${i} and ${n} cannot be used together.`)}function Km(i){if(!ye.isDocumentKey(i))throw new de(X.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${i} has ${i.length}.`)}function Gm(i){if(ye.isDocumentKey(i))throw new de(X.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${i} has ${i.length}.`)}function Ad(i){if(i===void 0)return"undefined";if(i===null)return"null";if(typeof i=="string")return i.length>20&&(i=`${i.substring(0,20)}...`),JSON.stringify(i);if(typeof i=="number"||typeof i=="boolean")return""+i;if(typeof i=="object"){if(i instanceof Array)return"an array";{const e=function(s){return s.constructor?s.constructor.name:null}(i);return e?`a custom ${e} object`:"an object"}}return typeof i=="function"?"a function":we()}function On(i,e){if("_delegate"in i&&(i=i._delegate),!(i instanceof e)){if(e.name===i.constructor.name)throw new de(X.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ad(i);throw new de(X.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return i}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xm{constructor(e){var n,s;if(e.host===void 0){if(e.ssl!==void 0)throw new de(X.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new de(X.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}KT("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dy((s=e.experimentalLongPollingOptions)!==null&&s!==void 0?s:{}),function(u){if(u.timeoutSeconds!==void 0){if(isNaN(u.timeoutSeconds))throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (must not be NaN)`);if(u.timeoutSeconds<5)throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (minimum allowed value is 5)`);if(u.timeoutSeconds>30)throw new de(X.INVALID_ARGUMENT,`invalid long polling timeout: ${u.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(s,a){return s.timeoutSeconds===a.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class xu{constructor(e,n,s,a){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=s,this._app=a,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Xm({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new de(X.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new de(X.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Xm(e),e.credentials!==void 0&&(this._authCredentials=function(s){if(!s)return new sw;switch(s.type){case"firstParty":return new uw(s.sessionIndex||"0",s.iamToken||null,s.authTokenFactory||null);case"provider":return s.client;default:throw new de(X.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const s=Qm.get(n);s&&(ae("ComponentProvider","Removing Datastore"),Qm.delete(n),s.terminate())}(this),Promise.resolve()}}function GT(i,e,n,s={}){var a;const u=(i=On(i,xu))._getSettings(),h=`${e}:${n}`;if(u.host!=="firestore.googleapis.com"&&u.host!==h&&js("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),i._setSettings(Object.assign(Object.assign({},u),{host:h,ssl:!1})),s.mockUserToken){let m,g;if(typeof s.mockUserToken=="string")m=s.mockUserToken,g=Mt.MOCK_USER;else{m=z0(s.mockUserToken,(a=i._app)===null||a===void 0?void 0:a.options.projectId);const v=s.mockUserToken.sub||s.mockUserToken.user_id;if(!v)throw new de(X.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");g=new Mt(v)}i._authCredentials=new ow(new kg(m,g))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vu{constructor(e,n,s){this.converter=n,this._query=s,this.type="query",this.firestore=e}withConverter(e){return new Vu(this.firestore,e,this._query)}}class Jt{constructor(e,n,s){this.converter=n,this._key=s,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Yr(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new Jt(this.firestore,e,this._key)}}class Yr extends Vu{constructor(e,n,s){super(e,n,ud(s)),this._path=s,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new Jt(this.firestore,null,new ye(e))}withConverter(e){return new Yr(this.firestore,e,this._path)}}function Wh(i,e,...n){if(i=Zr(i),Ly("collection","path",e),i instanceof xu){const s=Ge.fromString(e,...n);return Gm(s),new Yr(i,null,s)}{if(!(i instanceof Jt||i instanceof Yr))throw new de(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ge.fromString(e,...n));return Gm(s),new Yr(i.firestore,null,s)}}function ra(i,e,...n){if(i=Zr(i),arguments.length===1&&(e=xg.newId()),Ly("doc","path",e),i instanceof xu){const s=Ge.fromString(e,...n);return Km(s),new Jt(i,null,new ye(s))}{if(!(i instanceof Jt||i instanceof Yr))throw new de(X.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const s=i._path.child(Ge.fromString(e,...n));return Km(s),new Jt(i.firestore,i instanceof Yr?i.converter:null,new ye(s))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ym{constructor(e=Promise.resolve()){this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new hy(this,"async_queue_retry"),this.fu=()=>{const s=wh();s&&ae("AsyncQueue","Visibility state changed to "+s.visibilityState),this.r_.Jo()},this.gu=e;const n=wh();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const n=wh();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise(()=>{});const n=new vr;return this.yu(()=>this.Eu&&this.Vu?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Iu.push(e),this.wu()))}async wu(){if(this.Iu.length!==0){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(e){if(!eo(e))throw e;ae("AsyncQueue","Operation failed with retryable error: "+e)}this.Iu.length>0&&this.r_.jo(()=>this.wu())}}yu(e){const n=this.gu.then(()=>(this.Ru=!0,e().catch(s=>{this.Au=s,this.Ru=!1;const a=function(h){let m=h.message||"";return h.stack&&(m=h.stack.includes(h.message)?h.stack:h.message+`
`+h.stack),m}(s);throw Er("INTERNAL UNHANDLED ERROR: ",a),s}).then(s=>(this.Ru=!1,s))));return this.gu=n,n}enqueueAfterDelay(e,n,s){this.pu(),this.mu.indexOf(e)>-1&&(n=0);const a=Td.createAndSchedule(this,e,n,s,u=>this.Su(u));return this.du.push(a),a}pu(){this.Au&&we()}verifyOperationInProgress(){}async bu(){let e;do e=this.gu,await e;while(e!==this.gu)}Du(e){for(const n of this.du)if(n.timerId===e)return!0;return!1}vu(e){return this.bu().then(()=>{this.du.sort((n,s)=>n.targetTimeMs-s.targetTimeMs);for(const n of this.du)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.bu()})}Cu(e){this.mu.push(e)}Su(e){const n=this.du.indexOf(e);this.du.splice(n,1)}}class Bi extends xu{constructor(e,n,s,a){super(e,n,s,a),this.type="firestore",this._queue=new Ym,this._persistenceKey=(a==null?void 0:a.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Ym(e),this._firestoreClient=void 0,await e}}}function XT(i,e){const n=typeof i=="object"?i:GE(),s=typeof i=="string"?i:"(default)",a=HE(n,"firestore").getImmediate({identifier:s});if(!a._initialized){const u=b0("firestore");u&&GT(a,...u)}return a}function Cd(i){if(i._terminated)throw new de(X.FAILED_PRECONDITION,"The client has already been terminated.");return i._firestoreClient||YT(i),i._firestoreClient}function YT(i){var e,n,s;const a=i._freezeSettings(),u=function(m,g,v,w){return new Iw(m,g,v,w.host,w.ssl,w.experimentalForceLongPolling,w.experimentalAutoDetectLongPolling,Dy(w.experimentalLongPollingOptions),w.useFetchStreams)}(i._databaseId,((e=i._app)===null||e===void 0?void 0:e.options.appId)||"",i._persistenceKey,a);i._componentsProvider||!((n=a.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((s=a.localCache)===null||s===void 0)&&s._onlineComponentProvider)&&(i._componentsProvider={_offline:a.localCache._offlineComponentProvider,_online:a.localCache._onlineComponentProvider}),i._firestoreClient=new $T(i._authCredentials,i._appCheckCredentials,i._queue,u,i._componentsProvider&&function(m){const g=m==null?void 0:m._online.build();return{_offline:m==null?void 0:m._offline.build(g),_online:g}}(i._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qs{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Qs(Pt.fromBase64String(e))}catch(n){throw new de(X.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Qs(Pt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Nu{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new de(X.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Ct(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Pd{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kd{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new de(X.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new de(X.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return ke(this._lat,e._lat)||ke(this._long,e._long)}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xd{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(s,a){if(s.length!==a.length)return!1;for(let u=0;u<s.length;++u)if(s[u]!==a[u])return!1;return!0}(this._values,e._values)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JT=/^__.*__$/;class ZT{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return this.fieldMask!==null?new oi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ea(e,this.data,n,this.fieldTransforms)}}class Oy{constructor(e,n,s){this.data=e,this.fieldMask=n,this.fieldTransforms=s}toMutation(e,n){return new oi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function My(i){switch(i){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw we()}}class Vd{constructor(e,n,s,a,u,h){this.settings=e,this.databaseId=n,this.serializer=s,this.ignoreUndefinedProperties=a,u===void 0&&this.Fu(),this.fieldTransforms=u||[],this.fieldMask=h||[]}get path(){return this.settings.path}get Mu(){return this.settings.Mu}xu(e){return new Vd(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Ou(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Lu(e),a}Bu(e){var n;const s=(n=this.path)===null||n===void 0?void 0:n.child(e),a=this.xu({path:s,Nu:!1});return a.Fu(),a}ku(e){return this.xu({path:void 0,Nu:!0})}qu(e){return pu(e,this.settings.methodName,this.settings.Qu||!1,this.path,this.settings.Ku)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}Fu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Lu(this.path.get(e))}Lu(e){if(e.length===0)throw this.qu("Document fields must not be empty");if(My(this.Mu)&&JT.test(e))throw this.qu('Document fields cannot begin and end with "__"')}}class eS{constructor(e,n,s){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=s||Cu(e)}$u(e,n,s,a=!1){return new Vd({Mu:e,methodName:n,Ku:s,path:Ct.emptyPath(),Nu:!1,Qu:a},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Nd(i){const e=i._freezeSettings(),n=Cu(i._databaseId);return new eS(i._databaseId,!!e.ignoreUndefinedProperties,n)}function Fy(i,e,n,s,a,u={}){const h=i.$u(u.merge||u.mergeFields?2:0,e,n,a);Dd("Data must be an object, but it was:",h,s);const m=by(s,h);let g,v;if(u.merge)g=new an(h.fieldMask),v=h.fieldTransforms;else if(u.mergeFields){const w=[];for(const R of u.mergeFields){const I=Qh(e,R,n);if(!h.contains(I))throw new de(X.INVALID_ARGUMENT,`Field '${I}' is specified in your field mask but missing from your input data.`);zy(w,I)||w.push(I)}g=new an(w),v=h.fieldTransforms.filter(R=>g.covers(R.field))}else g=null,v=h.fieldTransforms;return new ZT(new Yt(m),g,v)}class Du extends Pd{_toFieldTransform(e){if(e.Mu!==2)throw e.Mu===1?e.qu(`${this._methodName}() can only appear at the top level of your update data`):e.qu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Du}}function tS(i,e,n,s){const a=i.$u(1,e,n);Dd("Data must be an object, but it was:",a,s);const u=[],h=Yt.empty();si(s,(g,v)=>{const w=Ld(e,g,n);v=Zr(v);const R=a.Bu(w);if(v instanceof Du)u.push(w);else{const I=Lu(v,R);I!=null&&(u.push(w),h.set(w,I))}});const m=new an(u);return new Oy(h,m,a.fieldTransforms)}function nS(i,e,n,s,a,u){const h=i.$u(1,e,n),m=[Qh(e,s,n)],g=[a];if(u.length%2!=0)throw new de(X.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let I=0;I<u.length;I+=2)m.push(Qh(e,u[I])),g.push(u[I+1]);const v=[],w=Yt.empty();for(let I=m.length-1;I>=0;--I)if(!zy(v,m[I])){const D=m[I];let F=g[I];F=Zr(F);const $=h.Bu(D);if(F instanceof Du)v.push(D);else{const z=Lu(F,$);z!=null&&(v.push(D),w.set(D,z))}}const R=new an(v);return new Oy(w,R,h.fieldTransforms)}function Lu(i,e){if(Uy(i=Zr(i)))return Dd("Unsupported field value:",e,i),by(i,e);if(i instanceof Pd)return function(s,a){if(!My(a.Mu))throw a.qu(`${s._methodName}() can only be used with update() and set()`);if(!a.path)throw a.qu(`${s._methodName}() is not currently supported inside arrays`);const u=s._toFieldTransform(a);u&&a.fieldTransforms.push(u)}(i,e),null;if(i===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),i instanceof Array){if(e.settings.Nu&&e.Mu!==4)throw e.qu("Nested arrays are not supported");return function(s,a){const u=[];let h=0;for(const m of s){let g=Lu(m,a.ku(h));g==null&&(g={nullValue:"NULL_VALUE"}),u.push(g),h++}return{arrayValue:{values:u}}}(i,e)}return function(s,a){if((s=Zr(s))===null)return{nullValue:"NULL_VALUE"};if(typeof s=="number")return Qw(a.serializer,s);if(typeof s=="boolean")return{booleanValue:s};if(typeof s=="string")return{stringValue:s};if(s instanceof Date){const u=pt.fromDate(s);return{timestampValue:cu(a.serializer,u)}}if(s instanceof pt){const u=new pt(s.seconds,1e3*Math.floor(s.nanoseconds/1e3));return{timestampValue:cu(a.serializer,u)}}if(s instanceof kd)return{geoPointValue:{latitude:s.latitude,longitude:s.longitude}};if(s instanceof Qs)return{bytesValue:ty(a.serializer,s._byteString)};if(s instanceof Jt){const u=a.databaseId,h=s.firestore._databaseId;if(!h.isEqual(u))throw a.qu(`Document reference is for database ${h.projectId}/${h.database} but should be for database ${u.projectId}/${u.database}`);return{referenceValue:pd(s.firestore._databaseId||a.databaseId,s._key.path)}}if(s instanceof xd)return function(h,m){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:h.toArray().map(g=>{if(typeof g!="number")throw m.qu("VectorValues must only contain numeric values.");return cd(m.serializer,g)})}}}}}}(s,a);throw a.qu(`Unsupported field value: ${Ad(s)}`)}(i,e)}function by(i,e){const n={};return Vg(i)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):si(i,(s,a)=>{const u=Lu(a,e.Ou(s));u!=null&&(n[s]=u)}),{mapValue:{fields:n}}}function Uy(i){return!(typeof i!="object"||i===null||i instanceof Array||i instanceof Date||i instanceof pt||i instanceof kd||i instanceof Qs||i instanceof Jt||i instanceof Pd||i instanceof xd)}function Dd(i,e,n){if(!Uy(n)||!function(a){return typeof a=="object"&&a!==null&&(Object.getPrototypeOf(a)===Object.prototype||Object.getPrototypeOf(a)===null)}(n)){const s=Ad(n);throw s==="an object"?e.qu(i+" a custom object"):e.qu(i+" "+s)}}function Qh(i,e,n){if((e=Zr(e))instanceof Nu)return e._internalPath;if(typeof e=="string")return Ld(i,e);throw pu("Field path arguments must be of type string or ",i,!1,void 0,n)}const rS=new RegExp("[~\\*/\\[\\]]");function Ld(i,e,n){if(e.search(rS)>=0)throw pu(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,i,!1,void 0,n);try{return new Nu(...e.split("."))._internalPath}catch{throw pu(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,i,!1,void 0,n)}}function pu(i,e,n,s,a){const u=s&&!s.isEmpty(),h=a!==void 0;let m=`Function ${e}() called with invalid data`;n&&(m+=" (via `toFirestore()`)"),m+=". ";let g="";return(u||h)&&(g+=" (found",u&&(g+=` in field ${s}`),h&&(g+=` in document ${a}`),g+=")"),new de(X.INVALID_ARGUMENT,m+i+g)}function zy(i,e){return i.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jy{constructor(e,n,s,a,u){this._firestore=e,this._userDataWriter=n,this._key=s,this._document=a,this._converter=u}get id(){return this._key.path.lastSegment()}get ref(){return new Jt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new iS(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const n=this._document.data.field(By("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class iS extends jy{data(){return super.data()}}function By(i,e){return typeof e=="string"?Ld(i,e):e instanceof Nu?e._internalPath:e._delegate._internalPath}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function sS(i){if(i.limitType==="L"&&i.explicitOrderBy.length===0)throw new de(X.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class oS{convertValue(e,n="none"){switch(ri(e)){case 0:return null;case 1:return e.booleanValue;case 2:return it(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(ni(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw we()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const s={};return si(e,(a,u)=>{s[a]=this.convertValue(u,n)}),s}convertVectorValue(e){var n,s,a;const u=(a=(s=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||s===void 0?void 0:s.values)===null||a===void 0?void 0:a.map(h=>it(h.doubleValue));return new xd(u)}convertGeoPoint(e){return new kd(it(e.latitude),it(e.longitude))}convertArray(e,n){return(e.values||[]).map(s=>this.convertValue(s,n))}convertServerTimestamp(e,n){switch(n){case"previous":const s=Eu(e);return s==null?null:this.convertValue(s,n);case"estimate":return this.convertTimestamp(fa(e));default:return null}}convertTimestamp(e){const n=ti(e);return new pt(n.seconds,n.nanos)}convertDocumentKey(e,n){const s=Ge.fromString(e);be(ay(s));const a=new pa(s.get(1),s.get(3)),u=new ye(s.popFirst(5));return a.isEqual(n)||Er(`Document ${u} contains a document reference within a different database (${a.projectId}/${a.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),u}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $y(i,e,n){let s;return s=i?i.toFirestore(e):e,s}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ia{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class qy extends jy{constructor(e,n,s,a,u,h){super(e,n,s,a,h),this._firestore=e,this._firestoreImpl=e,this.metadata=u}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new eu(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const s=this._document.data.field(By("DocumentSnapshot.get",e));if(s!==null)return this._userDataWriter.convertValue(s,n.serverTimestamps)}}}class eu extends qy{data(e={}){return super.data(e)}}class aS{constructor(e,n,s,a){this._firestore=e,this._userDataWriter=n,this._snapshot=a,this.metadata=new ia(a.hasPendingWrites,a.fromCache),this.query=s}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(s=>{e.call(n,new eu(this._firestore,this._userDataWriter,s.key,s,new ia(this._snapshot.mutatedKeys.has(s.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new de(X.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(a,u){if(a._snapshot.oldDocs.isEmpty()){let h=0;return a._snapshot.docChanges.map(m=>{const g=new eu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ia(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);return m.doc,{type:"added",doc:g,oldIndex:-1,newIndex:h++}})}{let h=a._snapshot.oldDocs;return a._snapshot.docChanges.filter(m=>u||m.type!==3).map(m=>{const g=new eu(a._firestore,a._userDataWriter,m.doc.key,m.doc,new ia(a._snapshot.mutatedKeys.has(m.doc.key),a._snapshot.fromCache),a.query.converter);let v=-1,w=-1;return m.type!==0&&(v=h.indexOf(m.doc.key),h=h.delete(m.doc.key)),m.type!==1&&(h=h.add(m.doc),w=h.indexOf(m.doc.key)),{type:lS(m.type),doc:g,oldIndex:v,newIndex:w}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}}function lS(i){switch(i){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return we()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function uS(i){i=On(i,Jt);const e=On(i.firestore,Bi);return WT(Cd(e),i._key).then(n=>fS(e,i,n))}class Hy extends oS{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qs(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new Jt(this.firestore,null,n)}}function Wy(i){i=On(i,Vu);const e=On(i.firestore,Bi),n=Cd(e),s=new Hy(e);return sS(i._query),QT(n,i._query).then(a=>new aS(e,s,i,a))}function cS(i,e,n){i=On(i,Jt);const s=On(i.firestore,Bi),a=$y(i.converter,e);return Ou(s,[Fy(Nd(s),"setDoc",i._key,a,i.converter!==null,n).toMutation(i._key,vn.none())])}function hS(i,e,n,...s){i=On(i,Jt);const a=On(i.firestore,Bi),u=Nd(a);let h;return h=typeof(e=Zr(e))=="string"||e instanceof Nu?nS(u,"updateDoc",i._key,e,n,s):tS(u,"updateDoc",i._key,e),Ou(a,[h.toMutation(i._key,vn.exists(!0))])}function Jm(i){return Ou(On(i.firestore,Bi),[new hd(i._key,vn.none())])}function dS(i,e){const n=On(i.firestore,Bi),s=ra(i),a=$y(i.converter,e);return Ou(n,[Fy(Nd(i.firestore),"addDoc",s._key,a,i.converter!==null,{}).toMutation(s._key,vn.exists(!1))]).then(()=>s)}function Ou(i,e){return function(s,a){const u=new vr;return s.asyncQueue.enqueueAndForget(async()=>LT(await HT(s),a,u)),u.promise}(Cd(i),e)}function fS(i,e,n){const s=n.docs.get(e._key),a=new Hy(i);return new qy(i,a,e._key,s,new ia(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(a){Js=a})(KE),iu(new ca("firestore",(s,{instanceIdentifier:a,options:u})=>{const h=s.getProvider("app").getImmediate(),m=new Bi(new aw(s.getProvider("auth-internal")),new hw(s.getProvider("app-check-internal")),function(v,w){if(!Object.prototype.hasOwnProperty.apply(v.options,["projectId"]))throw new de(X.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pa(v.options.projectId,w)}(h,a),h);return u=Object.assign({useFetchStreams:n},u),m._setSettings(u),m},"PUBLIC").setMultipleInstances(!0)),Us(pm,"4.7.5",e),Us(pm,"4.7.5","esm2017")})();var pS="firebase",mS="11.0.2";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Us(pS,mS,"app");const gS={apiKey:"AIzaSyBkxauINm6MiwcUdX-yiRA9c8A7VWX8OjE",authDomain:"role-based-access-contro-7448e.firebaseapp.com",projectId:"role-based-access-contro-7448e",storageBucket:"role-based-access-contro-7448e.firebasestorage.app",messagingSenderId:"506158806870",appId:"1:506158806870:web:b767378b84249f609f08f7",measurementId:"G-WZ1RGVB1Y9"},yS=Eg(gS),Mi=XT(yS),vS=()=>{const[i,e]=q.useState(""),[n,s]=q.useState(""),[a,u]=q.useState(""),[h,m]=q.useState(""),g=gu(),v={Admin:"admin@123",Editor:"editor@123",Reader:"reader@123"},w=async R=>{if(R.preventDefault(),!i||!n||!a){m("Please fill all the fields.");return}if(a!==v[i]){m("Invalid password for the selected role.");return}try{const I=Wh(Mi,i),D=await Wy(I);let F=!1;if(D.forEach($=>{$.data().Email===n&&(F=!0)}),!F){m("Email not found for the selected role.");return}console.log("Logged in successfully!"),g("/apppage",{state:{role:i}})}catch(I){m("Error during login. Please try again."),console.error("Error logging in:",I)}};return ne.jsxs("div",{className:"min-h-screen bg-cyan-700 text-white flex flex-col justify-center items-center relative",children:[ne.jsxs("video",{className:"absolute top-0 left-0 w-full h-full object-cover",autoPlay:!0,muted:!0,loop:!0,children:[ne.jsx("source",{src:"/5192-183786490_medium.mp4",type:"video/mp4"}),"Your browser does not support the video tag."]}),ne.jsxs("div",{className:"relative z-10",children:[ne.jsx("h1",{className:"text-2xl font-bold mb-4 text-center sm:text-3xl",children:"Role-Based Access Control"}),ne.jsx("h1",{className:"text-2xl font-bold mb-4 text-center sm:text-3xl",children:"Login"}),ne.jsxs("form",{onSubmit:w,className:"bg-white bg-opacity-50 text-black p-6 rounded-lg shadow-lg w-80 sm:w-96",children:[ne.jsxs("div",{className:"mb-4",children:[ne.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"role",children:"Role"}),ne.jsxs("select",{id:"role",value:i,onChange:R=>e(R.target.value),className:"w-full p-2 border border-gray-300 rounded-md",children:[ne.jsx("option",{value:"",children:"Select Role"}),ne.jsx("option",{value:"Admin",children:"Admin"}),ne.jsx("option",{value:"Editor",children:"Editor"}),ne.jsx("option",{value:"Reader",children:"Reader"})]})]}),ne.jsxs("div",{className:"mb-4",children:[ne.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"email",children:"Email"}),ne.jsx("input",{type:"email",id:"email",value:n,onChange:R=>s(R.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter your email"})]}),ne.jsxs("div",{className:"mb-4",children:[ne.jsx("label",{className:"block text-gray-700 font-bold mb-2",htmlFor:"password",children:"Password"}),ne.jsx("input",{type:"password",id:"password",value:a,onChange:R=>u(R.target.value),className:"w-full p-2 border border-gray-300 rounded-md",placeholder:"Enter your password"})]}),h&&ne.jsx("p",{className:"text-red-500 text-sm mb-4",children:h}),ne.jsx("div",{className:"flex justify-center",children:ne.jsx("button",{type:"submit",className:"bg-green-500 text-white rounded-full px-6 py-2 mt-4",children:"Login"})})]})]})]})},Sh=i=>{const{value:e,refreshUserData:n,position:s}=i,[a,u]=q.useState([]),[h,m]=q.useState(""),[g,v]=q.useState(""),[w,R]=q.useState(!1),I=s==="Editor",D=s==="Reader",F=async()=>{try{const ee=Wh(Mi,e),_e=(await Wy(ee)).docs.map(k=>({id:k.id,...k.data()}));u(_e)}catch(ee){console.error("Error fetching User info:",ee)}},$=async()=>{if(!h||!g){alert("Please enter both name and email.");return}try{await dS(Wh(Mi,e),{Name:h,Email:g,Active:!0,Role:e}),console.log("User added successfully!"),m(""),v(""),R(!1),F()}catch(ee){console.error("Error adding admin: ",ee)}},z=async ee=>{try{await Jm(ra(Mi,e,ee)),console.log(`Document with ID ${ee} deleted.`),F(),n()}catch(ve){console.error("Error deleting document:",ve)}};q.useEffect(()=>{F()},[n]);const Q=()=>ne.jsxs("div",{className:"p-4",children:[ne.jsx("input",{className:"w-full p-2 rounded-lg border outline-none mb-2 text-black sm:w-[80%]",type:"text",placeholder:"Enter Your Name",value:h,onChange:ee=>m(ee.target.value),disabled:D}),ne.jsx("input",{className:"w-full p-2 rounded-lg border outline-none mb-2 text-black sm:w-[80%]",type:"text",placeholder:"Enter Email",value:g,onChange:ee=>v(ee.target.value),disabled:D}),ne.jsx("div",{className:"flex justify-center",children:ne.jsxs("button",{className:"bg-blue-500 text-white rounded-md px-4 py-2",onClick:$,disabled:D,children:["Add ",i.value]})})]}),Y=async(ee,ve,_e)=>{if(!ve){alert("Please select a valid role.");return}if(ve===_e){alert(`User is already in the ${ve} collection.`);return}try{const k=ra(Mi,_e,ee),T=await uS(k);if(T.exists()){const A=T.data(),x=ra(Mi,ve,ee);await cS(x,{...A,Role:ve}),console.log(`User moved to ${ve} collection successfully!`),await Jm(k),console.log("User removed from the current collection."),F(),n()}else console.error("User document does not exist!")}catch(k){console.error("Error moving user document:",k)}},ie=async(ee,ve)=>{const _e=!ve;try{const k=ra(Mi,e,ee);await hS(k,{Active:_e}),console.log(`User's Active status updated to ${_e?"Active":"Inactive"}`),n()}catch(k){console.error("Error updating Active status:",k)}};return ne.jsxs("div",{className:"w-full mx-auto bg-white shadow-lg rounded-lg overflow-hidden mt-5 sm:w-[490px]",children:[ne.jsx("div",{className:"bg-red-500 text-white text-center py-4",children:ne.jsxs("h1",{className:"text-xl font-bold sm:text-xl",children:[i.value," "]})}),ne.jsx("div",{className:"p-4",children:a.length>0?a.map(ee=>ne.jsxs("div",{className:"flex flex-col sm:flex-row items-start sm:items-center justify-between border-b border-gray-200 py-3",children:[ne.jsxs("div",{className:"mb-2 sm:mb-0",children:[ne.jsx("p",{className:"text-gray-800 font-medium text-sm sm:text-base",children:ee.Name}),ne.jsx("p",{className:"text-gray-500 text-xs sm:text-sm",children:ee.Email})]}),ne.jsxs("div",{className:"flex flex-wrap items-center space-x-2 mt-2 sm:mt-0",children:[ne.jsx("button",{onClick:()=>ie(ee.id,ee.Active),className:`relative inline-flex items-center justify-center p-2 mb-2 ml-2 mr-2 text-sm font-bold text-white transition-all duration-300 rounded-full shadow-lg ${ee.Active?"bg-gradient-to-r from-green-500 to-green-700":"bg-gradient-to-r from-gray-400 to-gray-600 "} ${D||I?"opacity-50 cursor-not-allowed":""} hover:opacity-80 hover:scale-105`,disabled:D||I,children:ne.jsx("span",{className:"relative px-5 py-2 transition-all duration-300 rounded-full group-hover:bg-opacity-0 sm:px-6",children:ee.Active?"Active":"Inactive"})}),ne.jsx("label",{className:"block text-green-800 text-sm font-bold mb-2",children:ne.jsxs("select",{className:"block w-full mt-2 p-2 border rounded-md shadow-sm",onChange:ve=>Y(ee.id,ve.target.value,ee.Role),disabled:D||I,children:[ne.jsx("option",{value:"",children:ee.Role}),ee.Role==="Admin"&&ne.jsxs(ne.Fragment,{children:[ne.jsx("option",{value:"Editor",children:"Editor"}),ne.jsx("option",{value:"Reader",children:"Reader"})]}),ee.Role==="Editor"&&ne.jsxs(ne.Fragment,{children:[ne.jsx("option",{value:"Admin",children:"Admin"}),ne.jsx("option",{value:"Reader",children:"Reader"})]}),ee.Role==="Reader"&&ne.jsxs(ne.Fragment,{children:[ne.jsx("option",{value:"Admin",children:"Admin"}),ne.jsx("option",{value:"Editor",children:"Editor"})]})]})}),ne.jsxs("button",{className:`bg-red-700 rounded-lg text-white text-center text-sl m-1.5 p-2 sm:text-sm ${D?"opacity-50 cursor-not-allowed":""}hover:opacity-80 hover:scale-105`,onClick:()=>z(ee.id),disabled:D,children:["Delete ",ne.jsx("i",{className:"fab fa-youtube ml-1"})]})]})]},ee.id)):ne.jsxs("p",{className:"text-gray-500 text-center",children:["No ",i.value," Users"]})}),ne.jsx("div",{className:"flex justify-center",children:ne.jsx("button",{className:"bg-green-600 rounded-full text-center text-3xl pl-3 pr-3 pb-2 mb-3 sm:text-3xl sm:pl-4 sm:pr-4 hover:opacity-80 hover:scale-105",onClick:()=>R(!w),disabled:D,children:"+"})}),w&&Q()]})};function _S(){const[i,e]=q.useState(!1),n=Tr(),{role:s}=n.state||{},a=gu(),u=()=>{e(!i)},h=()=>{a("/")};return ne.jsx(ne.Fragment,{children:ne.jsxs("div",{className:"bg-cyan-700 text-white min-h-screen p-5",children:[ne.jsxs("div",{className:"flex justify-center items-center border-b-2 border-gray-100 pb-3",children:[ne.jsx("button",{className:`absolute top-0 left-2 sm:top-0 sm:left-5 border-4 border-yellow-400 rounded-lg px-1 py-2 mt-2.5 text-xs 
        sm:text-lg font-bold bg-white text-black shadow-lg hover:opacity-80 hover:scale-105`,onClick:h,children:"🡸 BACK"}),ne.jsx("h1",{className:"text-base sm:text-3xl font-semibold text-center sm:text-left",children:"🌟 Administration System 🌟"}),ne.jsx("div",{className:"absolute top-0 right-1 sm:top-0 sm:right-5 border-4 border-yellow-400 rounded-lg px-0.9 py-2 mt-2.5 text-xs sm:text-lg bg-white text-black shadow-lg",children:ne.jsxs("p",{className:"font-bold",children:["👤",s]})})]}),ne.jsxs("div",{className:"flex justify-evenly flex-col sm:flex-row sm:justify-evenly",children:[ne.jsx(Sh,{value:"Admin",refreshUserData:u,position:s}),ne.jsx(Sh,{value:"Editor",refreshUserData:u,position:s}),ne.jsx(Sh,{value:"Reader",refreshUserData:u,position:s})]})]})})}function ES(){return ne.jsxs(G_,{children:[ne.jsx(Wl,{path:"/",element:ne.jsx(vS,{})}),ne.jsx(Wl,{path:"/apppage",element:ne.jsx(_S,{})}),ne.jsx(Wl,{path:"*",element:ne.jsx(Q_,{to:"/"})})]})}i_.createRoot(document.getElementById("root")).render(ne.jsx(q.StrictMode,{children:ne.jsxs(_0,{children:[" ",ne.jsx(ES,{})]})}));
